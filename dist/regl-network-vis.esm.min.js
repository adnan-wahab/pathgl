const VERSION="0.0.7";import createPubSub from"pub-sub-es";import createOriginalRegl from"regl";var EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,degree=Math.PI/180;function create$2(){var e=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function create$3(){var e=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function clone$3(e){var t=new ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function invert$3(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],u=t[6],f=t[7],s=t[8],l=t[9],d=t[10],h=t[11],p=t[12],v=t[13],b=t[14],m=t[15],g=n*c-r*a,_=n*u-o*a,y=n*f-i*a,w=r*u-o*c,x=r*f-i*c,T=o*f-i*u,E=s*v-l*p,A=s*b-d*p,S=s*m-h*p,$=l*b-d*v,R=l*m-h*v,M=d*m-h*b,C=g*M-_*R+y*$+w*S-x*A+T*E;return C?(C=1/C,e[0]=(c*M-u*R+f*$)*C,e[1]=(o*R-r*M-i*$)*C,e[2]=(v*T-b*x+m*w)*C,e[3]=(d*x-l*T-h*w)*C,e[4]=(u*S-a*M-f*A)*C,e[5]=(n*M-o*S+i*A)*C,e[6]=(b*y-p*T-m*_)*C,e[7]=(s*T-d*y+h*_)*C,e[8]=(a*R-c*S+f*E)*C,e[9]=(r*S-n*R-i*E)*C,e[10]=(p*x-v*y+m*g)*C,e[11]=(l*y-s*x-h*g)*C,e[12]=(c*A-a*$-u*E)*C,e[13]=(n*$-r*A+o*E)*C,e[14]=(v*_-p*w-b*g)*C,e[15]=(s*w-l*_+d*g)*C,e):null}function multiply$3(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],u=t[5],f=t[6],s=t[7],l=t[8],d=t[9],h=t[10],p=t[11],v=t[12],b=t[13],m=t[14],g=t[15],_=n[0],y=n[1],w=n[2],x=n[3];return e[0]=_*r+y*c+w*l+x*v,e[1]=_*o+y*u+w*d+x*b,e[2]=_*i+y*f+w*h+x*m,e[3]=_*a+y*s+w*p+x*g,_=n[4],y=n[5],w=n[6],x=n[7],e[4]=_*r+y*c+w*l+x*v,e[5]=_*o+y*u+w*d+x*b,e[6]=_*i+y*f+w*h+x*m,e[7]=_*a+y*s+w*p+x*g,_=n[8],y=n[9],w=n[10],x=n[11],e[8]=_*r+y*c+w*l+x*v,e[9]=_*o+y*u+w*d+x*b,e[10]=_*i+y*f+w*h+x*m,e[11]=_*a+y*s+w*p+x*g,_=n[12],y=n[13],w=n[14],x=n[15],e[12]=_*r+y*c+w*l+x*v,e[13]=_*o+y*u+w*d+x*b,e[14]=_*i+y*f+w*h+x*m,e[15]=_*a+y*s+w*p+x*g,e}function fromTranslation$2(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function fromScaling$3(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fromRotation$3(e,t,n){var r,o,i,a=n[0],c=n[1],u=n[2],f=Math.sqrt(a*a+c*c+u*u);return f<EPSILON?null:(a*=f=1/f,c*=f,u*=f,r=Math.sin(t),i=1-(o=Math.cos(t)),e[0]=a*a*i+o,e[1]=c*a*i+u*r,e[2]=u*a*i-c*r,e[3]=0,e[4]=a*c*i-u*r,e[5]=c*c*i+o,e[6]=u*c*i+a*r,e[7]=0,e[8]=a*u*i+c*r,e[9]=c*u*i-a*r,e[10]=u*u*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function getTranslation(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function getScaling(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],c=t[6],u=t[8],f=t[9],s=t[10];return e[0]=Math.sqrt(n*n+r*r+o*o),e[1]=Math.sqrt(i*i+a*a+c*c),e[2]=Math.sqrt(u*u+f*f+s*s),e}function create$4(){var e=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function length(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function fromValues$4(e,t,n){var r=new ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=n,r}function normalize(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function dot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cross(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],c=n[1],u=n[2];return e[0]=o*u-i*c,e[1]=i*a-r*u,e[2]=r*c-o*a,e}var len=length,forEach=function(){var e=create$4();return function(t,n,r,o,i,a){var c=void 0,u=void 0;for(n||(n=3),r||(r=0),u=o?Math.min(o*n+r,t.length):t.length,c=r;c<u;c+=n)e[0]=t[c],e[1]=t[c+1],e[2]=t[c+2],i(e,e,a),t[c]=e[0],t[c+1]=e[1],t[c+2]=e[2];return t}}();function create$5(){var e=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function normalize$1(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a),e}function transformMat4$1(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}var forEach$1=function(){var e=create$5();return function(t,n,r,o,i,a){var c=void 0,u=void 0;for(n||(n=4),r||(r=0),u=o?Math.min(o*n+r,t.length):t.length,c=r;c<u;c+=n)e[0]=t[c],e[1]=t[c+1],e[2]=t[c+2],e[3]=t[c+3],i(e,e,a),t[c]=e[0],t[c+1]=e[1],t[c+2]=e[2],t[c+3]=e[3];return t}}();function create$6(){var e=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function setAxisAngle(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function slerp(e,t,n,r){var o=t[0],i=t[1],a=t[2],c=t[3],u=n[0],f=n[1],s=n[2],l=n[3],d=void 0,h=void 0,p=void 0,v=void 0,b=void 0;return(h=o*u+i*f+a*s+c*l)<0&&(h=-h,u=-u,f=-f,s=-s,l=-l),1-h>EPSILON?(d=Math.acos(h),p=Math.sin(d),v=Math.sin((1-r)*d)/p,b=Math.sin(r*d)/p):(v=1-r,b=r),e[0]=v*o+b*u,e[1]=v*i+b*f,e[2]=v*a+b*s,e[3]=v*c+b*l,e}function fromMat3(e,t){var n=t[0]+t[4]+t[8],r=void 0;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;r=Math.sqrt(t[3*o+o]-t[3*i+i]-t[3*a+a]+1),e[o]=.5*r,r=.5/r,e[3]=(t[3*i+a]-t[3*a+i])*r,e[i]=(t[3*i+o]+t[3*o+i])*r,e[a]=(t[3*a+o]+t[3*o+a])*r}return e}var normalize$2=normalize$1,rotationTo=function(){var e=create$4(),t=fromValues$4(1,0,0),n=fromValues$4(0,1,0);return function(r,o,i){var a=dot(o,i);return a<-.999999?(cross(e,t,o),len(e)<1e-6&&cross(e,n,o),normalize(e,e),setAxisAngle(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(cross(e,o,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,normalize$2(r,r))}}(),sqlerp=function(){var e=create$6(),t=create$6();return function(n,r,o,i,a,c){return slerp(e,r,a,c),slerp(t,o,i,c),slerp(n,e,t,2*c*(1-c)),n}}(),setAxes=function(){var e=create$2();return function(t,n,r,o){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],normalize$2(t,fromMat3(t,e))}}();function create$8(){var e=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function angle$1(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var c=o*o+i*i;c>0&&(c=1/Math.sqrt(c));var u=(n*o+r*i)*a*c;return u>1?0:u<-1?Math.PI:Math.acos(u)}var forEach$2=function(){var e=create$8();return function(t,n,r,o,i,a){var c=void 0,u=void 0;for(n||(n=2),r||(r=0),u=o?Math.min(o*n+r,t.length):t.length,c=r;c<u;c+=n)e[0]=t[c],e[1]=t[c+1],i(e,e,a),t[c]=e[0],t[c+1]=e[1];return t}}();const VIEW_CENTER=[0,0,0,1],createCamera=(e=[0,0],t=1,n=0)=>{const r=new Float32Array(16),o=new Float32Array(16),i=new Float32Array(16);let a=create$3();const c=()=>getScaling(r,a)[0],u=([e=0,t=0]=[],n=1,r=0)=>{a=create$3(),f([-e,-t]),l(r),s(1/n)},f=([e=0,t=0]=[])=>{r[0]=e,r[1]=t,r[2]=0;const n=fromTranslation$2(o,r);multiply$3(a,n,a)},s=(e,t)=>{if(e<=0)return;r[0]=e,r[1]=e,r[2]=1;const n=fromScaling$3(o,r),c=t?[...t,0]:VIEW_CENTER,u=fromTranslation$2(r,c);multiply$3(a,u,multiply$3(a,n,multiply$3(a,invert$3(i,u),a)))},l=e=>{const t=create$3();fromRotation$3(t,e,[0,0,1]),multiply$3(a,t,a)};return u(e,t,n),{get translation(){return(()=>getTranslation(r,a).slice(0,2))()},get target(){return(()=>transformMat4$1(r,VIEW_CENTER,invert$3(i,a)))()},get scaling(){return c()},get distance(){return(()=>1/c())()},get rotation(){return(()=>Math.acos(a[0]))()},get view(){return(()=>a)()},lookAt:u,translate:f,pan:f,rotate:l,scale:s,zoom:s,reset:()=>{u(e,t,n)},set:e=>{!e||e.length<16||(a=e)}}},down={},isKeyDown=e=>e?down[e]:down,reset=()=>{Object.keys(down).forEach(e=>{down[e]=!1})},keyup=({key:e})=>{down[e]=!1},keydown=({key:e})=>{down[e]=!0};function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}reset(),window.addEventListener("keydown",keydown,!1),window.addEventListener("keyup",keyup,!1),window.addEventListener("blur",reset,!1);var events=EventEmitter;function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,r,o,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(isUndefined(n=this._events[e]))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(isObject(n))for(o=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,i=0;i<r;i++)a[i].apply(this,o);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,o,i;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(i=o;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};var mousePosition=attach;function attach(e,t){var n=new events;if(n[0]=0,n[1]=0,n.prev=[0,0],n.flush=function(){n.prev[0]=n[0],n.prev[1]=n[1]},n.dispose=function(){n.removeAllListeners("move"),t.removeEventListener("mousemove",r)},"undefined"==typeof window)return n;t=t||e||window;var r=(e=e||document.body)===document.body||e===window?function(e){n.prev[0]=n[0],n.prev[1]=n[1],n[0]=e.clientX,n[1]=e.clientY,n.emit("move",e)}:function(t){n.prev[0]=n[0],n.prev[1]=n[1];var r=e.getBoundingClientRect();n[0]=t.clientX-r.left,n[1]=t.clientY-r.top,n.emit("move",t)};return t.addEventListener("mousemove",r,!1),n}var map=["left","middle","right"],mousePressed=pressed;function pressed(e,t){var n=new events;return n.left=!1,n.right=!1,n.middle=!1,n.dispose=function(){n.left=!1,n.right=!1,n.middle=!1,e&&(e.removeEventListener("contextmenu",i,!1),e.removeEventListener("mousedown",r,!1),window.removeEventListener("mouseup",o,!1))},"undefined"!=typeof window&&((e=e||window).addEventListener("mousedown",r,!1),window.addEventListener("mouseup",o,!1),t&&e.addEventListener("contextmenu",i,!1)),n;function r(e){if(n.right=!1,n[map[e.button]]=!0,n.emit("down",e),t){if(!e.preventDefault)return!1;e.preventDefault(),e.stopPropagation()}}function o(e){n.right=!1,n[map[e.button]]=!1,n.emit("up",e),t&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())}function i(e){return e.preventDefault&&e.preventDefault()&&!1}}var _addEventListener,_removeEventListener,support,wheel=addWheelListener,addWheelListener_1=addWheelListener,removeWheelListener_1=removeWheelListener,prefix="";function addWheelListener(e,t,n){_addWheelListener(e,support,t,n),"DOMMouseScroll"==support&&_addWheelListener(e,"MozMousePixelScroll",t,n)}function removeWheelListener(e,t,n){_removeWheelListener(e,support,t,n),"DOMMouseScroll"==support&&_removeWheelListener(e,"MozMousePixelScroll",t,n)}function _addWheelListener(e,t,n,r){e[_addEventListener](prefix+t,"wheel"==support?n:function(e){!e&&(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaY:0,deltaZ:0,clientX:e.clientX,clientY:e.clientY,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){e.stopImmediatePropagation&&e.stopImmediatePropagation()}};return"mousewheel"==support?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,n(t)},r||!1)}function _removeWheelListener(e,t,n,r){e[_removeEventListener](prefix+t,n,r||!1)}function detectEventModel(e,t){e&&e.addEventListener?(_addEventListener="addEventListener",_removeEventListener="removeEventListener"):(_addEventListener="attachEvent",_removeEventListener="detachEvent",prefix="on"),support=t?"onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll":"wheel"}detectEventModel("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),wheel.addWheelListener=addWheelListener_1,wheel.removeWheelListener=removeWheelListener_1;var addWheelListener$1=wheel.addWheelListener,removeWheelListener$1=wheel.removeWheelListener,scrollSpeed=getScroller;function getScroller(e,t){var n=new events;return n.flush=r,n.dispose=function(){removeWheelListener$1(e,o,!1)},r(),"undefined"==typeof window?n:(e=e||window,addWheelListener$1(e,o,!1),n);function r(){n[0]=n[1]=n[2]=0}function o(e){var r=1===e.deltaMode?12:1;n[0]+=r*(e.deltaX||0),n[1]+=r*(e.deltaY||0),n[2]+=r*(e.deltaZ||0),n.emit("scroll",n),t&&e.preventDefault&&(e.preventDefault(),e.stopPropagation&&e.stopPropagation())}}const canvas2dCamera=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isFixed:o=!1,isPan:i=!0,panSpeed:a=1,isRotate:c=!0,rotateSpeed:u=1,isZoom:f=!0,zoomSpeed:s=1}={})=>{let l=createCamera(n,t,r),d=!1,h=mousePosition(e),p=mousePressed(e),v=scrollSpeed(e,f),b=e.height/window.devicePixelRatio,m=e.width/window.devicePixelRatio,g=m/b,_=!1;return l.config=(({isFixed:e=null,isPan:t=null,isRotate:n=null,isZoom:r=null,panSpeed:l=null,rotateSpeed:d=null,zoomSpeed:h=null}={})=>{o=null!==e?e:o,i=null!==t?t:i,c=null!==n?n:c,f=null!==r?r:f,a=+l>0?l:a,u=+d>0?d:u,s=+h>0?h:s}),l.dispose=(()=>{v.dispose(),p.dispose(),h.dispose(),l=void 0,v=void 0,p=void 0,h=void 0}),l.refresh=(()=>{b=e.height/window.devicePixelRatio,m=e.width/window.devicePixelRatio,g=m/b}),l.tick=(()=>{if(o)return!1;_=isKeyDown("Alt"),d=!1;const{0:e,1:t}=h,{0:n,1:r}=h.prev;if(i&&p.left&&!_&&(l.pan([a*(e-n)/m*2*g,a*(r-t)/b*2]),d=!0),f&&v[1]){const n=s*Math.exp(v[1]/b),r=(e/m*2-1)*g,o=1-t/b*2;l.scale(1/n,[r,o]),d=!0}if(c&&p.left&&_){const o=m/2,i=b/2,a=n-o,c=i-r,f=e-o,s=i-t,h=angle$1([a,c],[f,s]),p=a*s-f*c;l.rotate(u*h*Math.sign(p)),d=!0}return v.flush(),h.flush(),d}),l};function sortKD(e,t,n,r,o,i){if(o-r<=n)return;const a=r+o>>1;select(e,t,a,r,o,i%2),sortKD(e,t,n,r,a-1,i+1),sortKD(e,t,n,a+1,o,i+1)}function select(e,t,n,r,o,i){for(;o>r;){if(o-r>600){const a=o-r+1,c=n-r+1,u=Math.log(a),f=.5*Math.exp(2*u/3),s=.5*Math.sqrt(u*f*(a-f)/a)*(c-a/2<0?-1:1);select(e,t,n,Math.max(r,Math.floor(n-c*f/a+s)),Math.min(o,Math.floor(n+(a-c)*f/a+s)),i)}const a=t[2*n+i];let c=r,u=o;for(swapItem(e,t,r,n),t[2*o+i]>a&&swapItem(e,t,r,o);c<u;){for(swapItem(e,t,c,u),c++,u--;t[2*c+i]<a;)c++;for(;t[2*u+i]>a;)u--}t[2*r+i]===a?swapItem(e,t,r,u):swapItem(e,t,++u,o),u<=n&&(r=u+1),n<=u&&(o=u-1)}}function swapItem(e,t,n,r){swap(e,n,r),swap(t,2*n,2*r),swap(t,2*n+1,2*r+1)}function swap(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function range(e,t,n,r,o,i,a){const c=[0,e.length-1,0],u=[];let f,s;for(;c.length;){const l=c.pop(),d=c.pop(),h=c.pop();if(d-h<=a){for(let a=h;a<=d;a++)f=t[2*a],s=t[2*a+1],f>=n&&f<=o&&s>=r&&s<=i&&u.push(e[a]);continue}const p=Math.floor((h+d)/2);f=t[2*p],s=t[2*p+1],f>=n&&f<=o&&s>=r&&s<=i&&u.push(e[p]);const v=(l+1)%2;(0===l?n<=f:r<=s)&&(c.push(h),c.push(p-1),c.push(v)),(0===l?o>=f:i>=s)&&(c.push(p+1),c.push(d),c.push(v))}return u}function within(e,t,n,r,o,i){const a=[0,e.length-1,0],c=[],u=o*o;for(;a.length;){const f=a.pop(),s=a.pop(),l=a.pop();if(s-l<=i){for(let o=l;o<=s;o++)sqDist(t[2*o],t[2*o+1],n,r)<=u&&c.push(e[o]);continue}const d=Math.floor((l+s)/2),h=t[2*d],p=t[2*d+1];sqDist(h,p,n,r)<=u&&c.push(e[d]);const v=(f+1)%2;(0===f?n-o<=h:r-o<=p)&&(a.push(l),a.push(d-1),a.push(v)),(0===f?n+o>=h:r+o>=p)&&(a.push(d+1),a.push(s),a.push(v))}return c}function sqDist(e,t,n,r){const o=e-n,i=t-r;return o*o+i*i}const defaultGetX=e=>e[0],defaultGetY=e=>e[1];class KDBush{constructor(e,t=defaultGetX,n=defaultGetY,r=64,o=Float64Array){this.nodeSize=r,this.points=e;const i=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(e.length),c=this.coords=new o(2*e.length);for(let r=0;r<e.length;r++)a[r]=r,c[2*r]=t(e[r]),c[2*r+1]=n(e[r]);sortKD(a,c,r,0,a.length-1,0)}range(e,t,n,r){return range(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return within(this.ids,this.coords,e,t,n,this.nodeSize)}}function isObject$1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),now=function(){return root.Date.now()},Symbol=root.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),n=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var r=nativeObjectToString.call(e);return t?e[symToStringTag]=n:delete e[symToStringTag],r}var objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=Symbol?Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}var symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}var NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject$1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject$1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(e,t,n){var r,o,i,a,c,u,f=0,s=!1,l=!1,d=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function h(t){var n=r,i=o;return r=o=void 0,f=t,a=e.apply(i,n)}function p(e){var n=e-u;return void 0===u||n>=t||n<0||l&&e-f>=i}function v(){var e=now();if(p(e))return b(e);c=setTimeout(v,function(e){var n=t-(e-u);return l?nativeMin(n,i-(e-f)):n}(e))}function b(e){return c=void 0,d&&r?h(e):(r=o=void 0,a)}function m(){var e=now(),n=p(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return function(e){return f=e,c=setTimeout(v,t),s?h(e):a}(u);if(l)return clearTimeout(c),c=setTimeout(v,t),h(u)}return void 0===c&&(c=setTimeout(v,t)),a}return t=toNumber(t)||0,isObject$1(n)&&(s=!!n.leading,i=(l="maxWait"in n)?nativeMax(toNumber(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==c&&clearTimeout(c),f=0,r=u=o=c=void 0},m.flush=function(){return void 0===c?a:b(now())},m}var FUNC_ERROR_TEXT$1="Expected a function";function throttle(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);return isObject$1(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),debounce(e,t,{leading:r,maxWait:t,trailing:o})}const withRaf=(e,t,n=window.requestAnimationFrame)=>{let r,o=!1;return(...i)=>{if(r=i,!o)return o=!0,n(()=>{const n=e(...r);o=!1,t&&t(n)})}},FRAGMENT_SHADER="\nprecision mediump float;\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}",VERTEX_SHADER="\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\nuniform float aspectRatio;\n\nuniform float width;\nuniform int miter;\n\nattribute vec3 prevPosition;\nattribute vec3 currPosition;\nattribute vec3 nextPosition;\nattribute float offsetScale;\n\nvoid main() {\n  vec2 aspectVec = vec2(aspectRatio, 1.0);\n  mat4 projViewModel = projection * view * model;\n  vec4 prevProjected = projViewModel * vec4(prevPosition, 1.0);\n  vec4 currProjected = projViewModel * vec4(currPosition, 1.0);\n  vec4 nextProjected = projViewModel * vec4(nextPosition, 1.0);\n\n  // get 2D screen space with W divide and aspect correction\n  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;\n  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;\n  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n  // starting point uses (next - current)\n  vec2 dir = vec2(0.0);\n  if (currScreen == prevScreen) {\n    dir = normalize(nextScreen - currScreen);\n  }\n  // ending point uses (current - previous)\n  else if (currScreen == nextScreen) {\n    dir = normalize(currScreen - prevScreen);\n  }\n  // somewhere in middle, needs a join\n  else {\n    // get directions from (C - B) and (B - A)\n    vec2 dirA = normalize((currScreen - prevScreen));\n    if (miter == 1) {\n      vec2 dirB = normalize((nextScreen - currScreen));\n      // now compute the miter join normal and length\n      vec2 tangent = normalize(dirA + dirB);\n      vec2 perp = vec2(-dirA.y, dirA.x);\n      vec2 miter = vec2(-tangent.y, tangent.x);\n      dir = tangent;\n    } else {\n      dir = dirA;\n    }\n  }\n\n  vec2 normal = vec2(-dir.y, dir.x) * width;\n  normal.x /= aspectRatio;\n  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);\n  gl_Position = currProjected + offset;\n}",{push:push,unshift:unshift}=Array.prototype,I=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),FLOAT_BYTES=Float32Array.BYTES_PER_ELEMENT,createMesh=(e,t,n=[])=>{for(let r=0;r<e-1;r++){const e=t+2*r,o=e+1,i=e+2,a=e+3;n.push(e,o,i,i,o,a)}return n},buffer={duplicate(e,t=1,n=1){const r=[],o=new Array(2*t);for(let i=0,a=e.length/t;i<a;i++){const a=i*t;for(let r=0;r<t;r++){const i=e[a+r];o[r]=i,o[r+t]=i*n}push.apply(r,o)}return r},mapElement(e,t,n,r){for(let o=0,i=e.length/n;o<i;o++){const i=t+o*n;e[i]=r(e[i],i,o)}return e},pushElement(e,t,n){const r=new Array(n),o=t*n;for(let t=0;t<n;t++)r[t]=e[o+t];return push.apply(e,r),e},unshiftElement(e,t,n){const r=new Array(n),o=t*n;for(let t=0;t<n;t++)r[t]=e[o+t];return unshift.apply(e,r),e},increaseStride(e,t,n,r=0){const o=[],i=new Array(n).fill(r);for(let n=0,r=e.length/t;n<r;n++){const r=n*t;for(let n=0;n<t;n++)i[n]=e[r+n];push.apply(o,i)}return o}},createLine=(e,{projection:t=I,model:n=I,view:r=I,points:o=[],widths:i=[],color:a=[.8,.5,0,1],width:c=1,miter:u=1,is2d:f=!1,zPos2d:s=0}={})=>{if(!e)return void console.error("Regl instance is undefined.");let l,d,h,p,v,b,m,g,_,y,w,x=f?2:3;const T=()=>{m=e.buffer(),g=e.buffer(),_={prevPosition:{buffer:()=>m,offset:0,stride:3*FLOAT_BYTES},currPosition:{buffer:()=>m,offset:3*FLOAT_BYTES*2,stride:3*FLOAT_BYTES},nextPosition:{buffer:()=>m,offset:3*FLOAT_BYTES*4,stride:3*FLOAT_BYTES},offsetScale:()=>g},y=e.elements(),w=e({attributes:_,depth:{enable:!f},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projection:(e,t)=>e.projection||t.projection,model:(e,t)=>e.model||t.model,view:(e,t)=>e.view||t.view,aspectRatio:({viewportWidth:e,viewportHeight:t})=>e/t,color:()=>a,width:({viewportWidth:e})=>c/e*window.devicePixelRatio,miter:u},elements:()=>y,vert:VERTEX_SHADER,frag:FRAGMENT_SHADER})},E=()=>{A(),T()},A=()=>{o=null,h=null,p=null,v=null,b=null,m.destroy(),g.destroy(),y.destroy()},S=(e=[],t=i,n=f)=>{o=e,x=(f=n)?2:3,l=Math.floor(o.length/x),d=l+2,t.length===l&&(i=t),o&&o.length>1?(o.length%x>0&&console.warn(`The length of points (${l}) does not match the dimensions (${x}). Incomplete points are ignored.`),h=o.slice(0,l*x),f&&(h=buffer.increaseStride(h,2,3,s)),i.length!==l&&(i=new Array(l).fill(1)),buffer.pushElement(h,l-1,3),buffer.unshiftElement(h,0,3),p=new Float32Array(buffer.duplicate(h,3)),v=buffer.duplicate(i,1,-1),b=createMesh(l,0),m({usage:"dynamic",type:"float",length:3*d*2*FLOAT_BYTES,data:p}),g({usage:"dynamic",type:"float",length:1*l*2*FLOAT_BYTES,data:v}),y({primitive:"triangles",usage:"dynamic",type:"uint16",data:b})):E()};return T(),o&&o.length>1&&S(o),{clear:E,destroy:A,draw:({projection:e,model:i,view:a}={})=>{e&&(t=e),i&&(n=i),a&&(r=a),o&&o.length>1&&w({projection:t,model:n,view:r})},getPoints:()=>o,setPoints:S,getData:()=>({points:p,widths:v}),getBuffer:()=>({points:m,widths:g}),getStyle:()=>({color:a,miter:u,width:c}),setStyle:({color:e,miter:t,width:n}={})=>{e&&(a=e),t&&(u=t),+n>0&&(c=n)}}};var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var lodash=createCommonjsModule(function(e,t){(function(){var n,r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",f=1,s=2,l=4,d=1,h=2,p=1,v=2,b=4,m=8,g=16,_=32,y=64,w=128,x=256,T=512,E=30,A="...",S=800,$=16,R=1,M=2,C=1/0,N=9007199254740991,L=1.7976931348623157e308,D=NaN,k=4294967295,I=k-1,O=k>>>1,F=[["ary",w],["bind",p],["bindKey",v],["curry",m],["curryRight",g],["flip",T],["partial",_],["partialRight",y],["rearg",x]],U="[object Arguments]",P="[object Array]",j="[object AsyncFunction]",W="[object Boolean]",Y="[object Date]",H="[object DOMException]",z="[object Error]",B="[object Function]",V="[object GeneratorFunction]",q="[object Map]",G="[object Number]",X="[object Null]",Z="[object Object]",Q="[object Proxy]",K="[object RegExp]",J="[object Set]",ee="[object String]",te="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",oe="[object WeakSet]",ie="[object ArrayBuffer]",ae="[object DataView]",ce="[object Float32Array]",ue="[object Float64Array]",fe="[object Int8Array]",se="[object Int16Array]",le="[object Int32Array]",de="[object Uint8Array]",he="[object Uint8ClampedArray]",pe="[object Uint16Array]",ve="[object Uint32Array]",be=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,ye=/[&<>"']/g,we=RegExp(_e.source),xe=RegExp(ye.source),Te=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$e=/^\w*$/,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Ce=RegExp(Me.source),Ne=/^\s+|\s+$/g,Le=/^\s+/,De=/\s+$/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Oe=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qe="[\\ud800-\\udfff]",Ke="["+Ze+"]",Je="["+Xe+"]",et="\\d+",tt="[\\u2700-\\u27bf]",nt="[a-z\\xdf-\\xf6\\xf8-\\xff]",rt="[^\\ud800-\\udfff"+Ze+et+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ot="\\ud83c[\\udffb-\\udfff]",it="[^\\ud800-\\udfff]",at="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",ut="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+nt+"|"+rt+")",st="(?:"+ut+"|"+rt+")",lt="(?:"+Je+"|"+ot+")"+"?",dt="[\\ufe0e\\ufe0f]?"+lt+("(?:\\u200d(?:"+[it,at,ct].join("|")+")[\\ufe0e\\ufe0f]?"+lt+")*"),ht="(?:"+[tt,at,ct].join("|")+")"+dt,pt="(?:"+[it+Je+"?",Je,at,ct,Qe].join("|")+")",vt=RegExp("['’]","g"),bt=RegExp(Je,"g"),mt=RegExp(ot+"(?="+ot+")|"+pt+dt,"g"),gt=RegExp([ut+"?"+nt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Ke,ut,"$"].join("|")+")",st+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Ke,ut+ft,"$"].join("|")+")",ut+"?"+ft+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ut+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",et,ht].join("|"),"g"),_t=RegExp("[\\u200d\\ud800-\\udfff"+Xe+"\\ufe0e\\ufe0f]"),yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,Tt={};Tt[ce]=Tt[ue]=Tt[fe]=Tt[se]=Tt[le]=Tt[de]=Tt[he]=Tt[pe]=Tt[ve]=!0,Tt[U]=Tt[P]=Tt[ie]=Tt[W]=Tt[ae]=Tt[Y]=Tt[z]=Tt[B]=Tt[q]=Tt[G]=Tt[Z]=Tt[K]=Tt[J]=Tt[ee]=Tt[re]=!1;var Et={};Et[U]=Et[P]=Et[ie]=Et[ae]=Et[W]=Et[Y]=Et[ce]=Et[ue]=Et[fe]=Et[se]=Et[le]=Et[q]=Et[G]=Et[Z]=Et[K]=Et[J]=Et[ee]=Et[te]=Et[de]=Et[he]=Et[pe]=Et[ve]=!0,Et[z]=Et[B]=Et[re]=!1;var At={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},St=parseFloat,$t=parseInt,Rt="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Mt="object"==typeof self&&self&&self.Object===Object&&self,Ct=Rt||Mt||Function("return this")(),Nt=t&&!t.nodeType&&t,Lt=Nt&&e&&!e.nodeType&&e,Dt=Lt&&Lt.exports===Nt,kt=Dt&&Rt.process,It=function(){try{var e=Lt&&Lt.require&&Lt.require("util").types;return e||kt&&kt.binding&&kt.binding("util")}catch(e){}}(),Ot=It&&It.isArrayBuffer,Ft=It&&It.isDate,Ut=It&&It.isMap,Pt=It&&It.isRegExp,jt=It&&It.isSet,Wt=It&&It.isTypedArray;function Yt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ht(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Bt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function qt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Gt(e,t){return!!(null==e?0:e.length)&&on(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Qt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Kt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Jt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function en(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tn=fn("length");function nn(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function rn(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function on(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):rn(e,cn,n)}function an(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function cn(e){return e!=e}function un(e,t){var n=null==e?0:e.length;return n?dn(e,t)/n:D}function fn(e){return function(t){return null==t?n:t[e]}}function sn(e){return function(t){return null==e?n:e[t]}}function ln(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function dn(e,t){for(var r,o=-1,i=e.length;++o<i;){var a=t(e[o]);a!==n&&(r=r===n?a:r+a)}return r}function hn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function pn(e){return function(t){return e(t)}}function vn(e,t){return Zt(t,function(t){return e[t]})}function bn(e,t){return e.has(t)}function mn(e,t){for(var n=-1,r=e.length;++n<r&&on(t,e[n],0)>-1;);return n}function gn(e,t){for(var n=e.length;n--&&on(t,e[n],0)>-1;);return n}var _n=sn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),yn=sn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wn(e){return"\\"+At[e]}function xn(e){return _t.test(e)}function Tn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function En(e,t){return function(n){return e(t(n))}}function An(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function Sn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function $n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Rn(e){return xn(e)?function(e){var t=mt.lastIndex=0;for(;mt.test(e);)++t;return t}(e):tn(e)}function Mn(e){return xn(e)?function(e){return e.match(mt)||[]}(e):function(e){return e.split("")}(e)}var Cn=sn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Nn=function e(t){var Xe,Ze=(t=null==t?Ct:Nn.defaults(Ct.Object(),t,Nn.pick(Ct,wt))).Array,Qe=t.Date,Ke=t.Error,Je=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,ot=t.TypeError,it=Ze.prototype,at=Je.prototype,ct=tt.prototype,ut=t["__core-js_shared__"],ft=at.toString,st=ct.hasOwnProperty,lt=0,dt=(Xe=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+Xe:"",ht=ct.toString,pt=ft.call(tt),mt=Ct._,_t=nt("^"+ft.call(st).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=Dt?t.Buffer:n,Rt=t.Symbol,Mt=t.Uint8Array,Nt=At?At.allocUnsafe:n,Lt=En(tt.getPrototypeOf,tt),kt=tt.create,It=ct.propertyIsEnumerable,tn=it.splice,sn=Rt?Rt.isConcatSpreadable:n,Ln=Rt?Rt.iterator:n,Dn=Rt?Rt.toStringTag:n,kn=function(){try{var e=Pi(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),In=t.clearTimeout!==Ct.clearTimeout&&t.clearTimeout,On=Qe&&Qe.now!==Ct.Date.now&&Qe.now,Fn=t.setTimeout!==Ct.setTimeout&&t.setTimeout,Un=et.ceil,Pn=et.floor,jn=tt.getOwnPropertySymbols,Wn=At?At.isBuffer:n,Yn=t.isFinite,Hn=it.join,zn=En(tt.keys,tt),Bn=et.max,Vn=et.min,qn=Qe.now,Gn=t.parseInt,Xn=et.random,Zn=it.reverse,Qn=Pi(t,"DataView"),Kn=Pi(t,"Map"),Jn=Pi(t,"Promise"),er=Pi(t,"Set"),tr=Pi(t,"WeakMap"),nr=Pi(tt,"create"),rr=tr&&new tr,or={},ir=la(Qn),ar=la(Kn),cr=la(Jn),ur=la(er),fr=la(tr),sr=Rt?Rt.prototype:n,lr=sr?sr.valueOf:n,dr=sr?sr.toString:n;function hr(e){if(Rc(e)&&!mc(e)&&!(e instanceof mr)){if(e instanceof br)return e;if(st.call(e,"__wrapped__"))return da(e)}return new br(e)}var pr=function(){function e(){}return function(t){if(!$c(t))return{};if(kt)return kt(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function vr(){}function br(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function mr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=k,this.__views__=[]}function gr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new yr;++t<n;)this.add(e[t])}function xr(e){var t=this.__data__=new _r(e);this.size=t.size}function Tr(e,t){var n=mc(e),r=!n&&bc(e),o=!n&&!r&&wc(e),i=!n&&!r&&!o&&Oc(e),a=n||r||o||i,c=a?hn(e.length,rt):[],u=c.length;for(var f in e)!t&&!st.call(e,f)||a&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Vi(f,u))||c.push(f);return c}function Er(e){var t=e.length;return t?e[xo(0,t-1)]:n}function Ar(e,t){return ua(ri(e),kr(t,0,e.length))}function Sr(e){return ua(ri(e))}function $r(e,t,r){(r===n||hc(e[t],r))&&(r!==n||t in e)||Lr(e,t,r)}function Rr(e,t,r){var o=e[t];st.call(e,t)&&hc(o,r)&&(r!==n||t in e)||Lr(e,t,r)}function Mr(e,t){for(var n=e.length;n--;)if(hc(e[n][0],t))return n;return-1}function Cr(e,t,n,r){return Pr(e,function(e,o,i){t(r,e,n(e),i)}),r}function Nr(e,t){return e&&oi(t,ou(t),e)}function Lr(e,t,n){"__proto__"==t&&kn?kn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Dr(e,t){for(var r=-1,o=t.length,i=Ze(o),a=null==e;++r<o;)i[r]=a?n:Jc(e,t[r]);return i}function kr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function Ir(e,t,r,o,i,a){var c,u=t&f,d=t&s,h=t&l;if(r&&(c=i?r(e,o,i,a):r(e)),c!==n)return c;if(!$c(e))return e;var p=mc(e);if(p){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&st.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return ri(e,c)}else{var v=Yi(e),b=v==B||v==V;if(wc(e))return Qo(e,u);if(v==Z||v==U||b&&!i){if(c=d||b?{}:zi(e),!u)return d?function(e,t){return oi(e,Wi(e),t)}(e,function(e,t){return e&&oi(t,iu(t),e)}(c,e)):function(e,t){return oi(e,ji(e),t)}(e,Nr(c,e))}else{if(!Et[v])return i?e:{};c=function(e,t,n){var r,o,i,a=e.constructor;switch(t){case ie:return Ko(e);case W:case Y:return new a(+e);case ae:return function(e,t){var n=t?Ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ce:case ue:case fe:case se:case le:case de:case he:case pe:case ve:return Jo(e,n);case q:return new a;case G:case ee:return new a(e);case K:return(i=new(o=e).constructor(o.source,je.exec(o))).lastIndex=o.lastIndex,i;case J:return new a;case te:return r=e,lr?tt(lr.call(r)):{}}}(e,v,u)}}a||(a=new xr);var m=a.get(e);if(m)return m;a.set(e,c),Dc(e)?e.forEach(function(n){c.add(Ir(n,t,r,n,e,a))}):Mc(e)&&e.forEach(function(n,o){c.set(o,Ir(n,t,r,o,e,a))});var g=p?n:(h?d?Li:Ni:d?iu:ou)(e);return zt(g||e,function(n,o){g&&(n=e[o=n]),Rr(c,o,Ir(n,t,r,o,e,a))}),c}function Or(e,t,r){var o=r.length;if(null==e)return!o;for(e=tt(e);o--;){var i=r[o],a=t[i],c=e[i];if(c===n&&!(i in e)||!a(c))return!1}return!0}function Fr(e,t,r){if("function"!=typeof e)throw new ot(i);return oa(function(){e.apply(n,r)},t)}function Ur(e,t,n,o){var i=-1,a=Gt,c=!0,u=e.length,f=[],s=t.length;if(!u)return f;n&&(t=Zt(t,pn(n))),o?(a=Xt,c=!1):t.length>=r&&(a=bn,c=!1,t=new wr(t));e:for(;++i<u;){var l=e[i],d=null==n?l:n(l);if(l=o||0!==l?l:0,c&&d==d){for(var h=s;h--;)if(t[h]===d)continue e;f.push(l)}else a(t,d,o)||f.push(l)}return f}hr.templateSettings={escape:Te,evaluate:Ee,interpolate:Ae,variable:"",imports:{_:hr}},hr.prototype=vr.prototype,hr.prototype.constructor=hr,br.prototype=pr(vr.prototype),br.prototype.constructor=br,mr.prototype=pr(vr.prototype),mr.prototype.constructor=mr,gr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},gr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gr.prototype.get=function(e){var t=this.__data__;if(nr){var r=t[e];return r===a?n:r}return st.call(t,e)?t[e]:n},gr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==n:st.call(t,e)},gr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nr&&t===n?a:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=Mr(t,e);return!(n<0||(n==t.length-1?t.pop():tn.call(t,n,1),--this.size,0))},_r.prototype.get=function(e){var t=this.__data__,r=Mr(t,e);return r<0?n:t[r][1]},_r.prototype.has=function(e){return Mr(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=Mr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},yr.prototype.clear=function(){this.size=0,this.__data__={hash:new gr,map:new(Kn||_r),string:new gr}},yr.prototype.delete=function(e){var t=Fi(this,e).delete(e);return this.size-=t?1:0,t},yr.prototype.get=function(e){return Fi(this,e).get(e)},yr.prototype.has=function(e){return Fi(this,e).has(e)},yr.prototype.set=function(e,t){var n=Fi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(e){return this.__data__.set(e,a),this},wr.prototype.has=function(e){return this.__data__.has(e)},xr.prototype.clear=function(){this.__data__=new _r,this.size=0},xr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xr.prototype.get=function(e){return this.__data__.get(e)},xr.prototype.has=function(e){return this.__data__.has(e)},xr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var o=n.__data__;if(!Kn||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new yr(o)}return n.set(e,t),this.size=n.size,this};var Pr=ci(qr),jr=ci(Gr,!0);function Wr(e,t){var n=!0;return Pr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Yr(e,t,r){for(var o=-1,i=e.length;++o<i;){var a=e[o],c=t(a);if(null!=c&&(u===n?c==c&&!Ic(c):r(c,u)))var u=c,f=a}return f}function Hr(e,t){var n=[];return Pr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function zr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Bi),o||(o=[]);++i<a;){var c=e[i];t>0&&n(c)?t>1?zr(c,t-1,n,r,o):Qt(o,c):r||(o[o.length]=c)}return o}var Br=ui(),Vr=ui(!0);function qr(e,t){return e&&Br(e,t,ou)}function Gr(e,t){return e&&Vr(e,t,ou)}function Xr(e,t){return qt(t,function(t){return Ec(e[t])})}function Zr(e,t){for(var r=0,o=(t=qo(t,e)).length;null!=e&&r<o;)e=e[sa(t[r++])];return r&&r==o?e:n}function Qr(e,t,n){var r=t(e);return mc(e)?r:Qt(r,n(e))}function Kr(e){return null==e?e===n?ne:X:Dn&&Dn in tt(e)?function(e){var t=st.call(e,Dn),r=e[Dn];try{e[Dn]=n}catch(e){}var o=ht.call(e);return t?e[Dn]=r:delete e[Dn],o}(e):function(e){return ht.call(e)}(e)}function Jr(e,t){return e>t}function eo(e,t){return null!=e&&st.call(e,t)}function to(e,t){return null!=e&&t in tt(e)}function no(e,t,r){for(var o=r?Xt:Gt,i=e[0].length,a=e.length,c=a,u=Ze(a),f=1/0,s=[];c--;){var l=e[c];c&&t&&(l=Zt(l,pn(t))),f=Vn(l.length,f),u[c]=!r&&(t||i>=120&&l.length>=120)?new wr(c&&l):n}l=e[0];var d=-1,h=u[0];e:for(;++d<i&&s.length<f;){var p=l[d],v=t?t(p):p;if(p=r||0!==p?p:0,!(h?bn(h,v):o(s,v,r))){for(c=a;--c;){var b=u[c];if(!(b?bn(b,v):o(e[c],v,r)))continue e}h&&h.push(v),s.push(p)}}return s}function ro(e,t,r){var o=null==(e=ta(e,t=qo(t,e)))?e:e[sa(Ta(t))];return null==o?n:Yt(o,e,r)}function oo(e){return Rc(e)&&Kr(e)==U}function io(e,t,r,o,i){return e===t||(null==e||null==t||!Rc(e)&&!Rc(t)?e!=e&&t!=t:function(e,t,r,o,i,a){var c=mc(e),u=mc(t),f=c?P:Yi(e),s=u?P:Yi(t),l=(f=f==U?Z:f)==Z,p=(s=s==U?Z:s)==Z,v=f==s;if(v&&wc(e)){if(!wc(t))return!1;c=!0,l=!1}if(v&&!l)return a||(a=new xr),c||Oc(e)?Mi(e,t,r,o,i,a):function(e,t,n,r,o,i,a){switch(n){case ae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ie:return!(e.byteLength!=t.byteLength||!i(new Mt(e),new Mt(t)));case W:case Y:case G:return hc(+e,+t);case z:return e.name==t.name&&e.message==t.message;case K:case ee:return e==t+"";case q:var c=Tn;case J:var u=r&d;if(c||(c=Sn),e.size!=t.size&&!u)return!1;var f=a.get(e);if(f)return f==t;r|=h,a.set(e,t);var s=Mi(c(e),c(t),r,o,i,a);return a.delete(e),s;case te:if(lr)return lr.call(e)==lr.call(t)}return!1}(e,t,f,r,o,i,a);if(!(r&d)){var b=l&&st.call(e,"__wrapped__"),m=p&&st.call(t,"__wrapped__");if(b||m){var g=b?e.value():e,_=m?t.value():t;return a||(a=new xr),i(g,_,r,o,a)}}return!!v&&(a||(a=new xr),function(e,t,r,o,i,a){var c=r&d,u=Ni(e),f=u.length,s=Ni(t).length;if(f!=s&&!c)return!1;for(var l=f;l--;){var h=u[l];if(!(c?h in t:st.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var v=!0;a.set(e,t),a.set(t,e);for(var b=c;++l<f;){h=u[l];var m=e[h],g=t[h];if(o)var _=c?o(g,m,h,t,e,a):o(m,g,h,e,t,a);if(!(_===n?m===g||i(m,g,r,o,a):_)){v=!1;break}b||(b="constructor"==h)}if(v&&!b){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(v=!1)}return a.delete(e),a.delete(t),v}(e,t,r,o,i,a))}(e,t,r,o,io,i))}function ao(e,t,r,o){var i=r.length,a=i,c=!o;if(null==e)return!a;for(e=tt(e);i--;){var u=r[i];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var f=(u=r[i])[0],s=e[f],l=u[1];if(c&&u[2]){if(s===n&&!(f in e))return!1}else{var p=new xr;if(o)var v=o(s,l,f,e,t,p);if(!(v===n?io(l,s,d|h,o,p):v))return!1}}return!0}function co(e){return!(!$c(e)||(t=e,dt&&dt in t))&&(Ec(e)?_t:He).test(la(e));var t}function uo(e){return"function"==typeof e?e:null==e?Cu:"object"==typeof e?mc(e)?vo(e[0],e[1]):po(e):Pu(e)}function fo(e){if(!Qi(e))return zn(e);var t=[];for(var n in tt(e))st.call(e,n)&&"constructor"!=n&&t.push(n);return t}function so(e){if(!$c(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Qi(e),n=[];for(var r in e)("constructor"!=r||!t&&st.call(e,r))&&n.push(r);return n}function lo(e,t){return e<t}function ho(e,t){var n=-1,r=_c(e)?Ze(e.length):[];return Pr(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function po(e){var t=Ui(e);return 1==t.length&&t[0][2]?Ji(t[0][0],t[0][1]):function(n){return n===e||ao(n,e,t)}}function vo(e,t){return Gi(e)&&Ki(t)?Ji(sa(e),t):function(r){var o=Jc(r,e);return o===n&&o===t?eu(r,e):io(t,o,d|h)}}function bo(e,t,r,o,i){e!==t&&Br(t,function(a,c){if(i||(i=new xr),$c(a))!function(e,t,r,o,i,a,c){var u=na(e,r),f=na(t,r),s=c.get(f);if(s)$r(e,r,s);else{var l=a?a(u,f,r+"",e,t,c):n,d=l===n;if(d){var h=mc(f),p=!h&&wc(f),v=!h&&!p&&Oc(f);l=f,h||p||v?mc(u)?l=u:yc(u)?l=ri(u):p?(d=!1,l=Qo(f,!0)):v?(d=!1,l=Jo(f,!0)):l=[]:Nc(f)||bc(f)?(l=u,bc(u)?l=zc(u):$c(u)&&!Ec(u)||(l=zi(f))):d=!1}d&&(c.set(f,l),i(l,f,o,a,c),c.delete(f)),$r(e,r,l)}}(e,t,c,r,bo,o,i);else{var u=o?o(na(e,c),a,c+"",e,t,i):n;u===n&&(u=a),$r(e,c,u)}},iu)}function mo(e,t){var r=e.length;if(r)return Vi(t+=t<0?r:0,r)?e[t]:n}function go(e,t,n){var r=-1;return t=Zt(t.length?t:[Cu],pn(Oi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(ho(e,function(e,n,o){return{criteria:Zt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,c=n.length;++r<a;){var u=ei(o[r],i[r]);if(u){if(r>=c)return u;var f=n[r];return u*("desc"==f?-1:1)}}return e.index-t.index}(e,t,n)})}function _o(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=Zr(e,a);n(c,a)&&$o(i,qo(a,e),c)}return i}function yo(e,t,n,r){var o=r?an:on,i=-1,a=t.length,c=e;for(e===t&&(t=ri(t)),n&&(c=Zt(e,pn(n)));++i<a;)for(var u=0,f=t[i],s=n?n(f):f;(u=o(c,s,u,r))>-1;)c!==e&&tn.call(c,u,1),tn.call(e,u,1);return e}function wo(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Vi(o)?tn.call(e,o,1):Po(e,o)}}return e}function xo(e,t){return e+Pn(Xn()*(t-e+1))}function To(e,t){var n="";if(!e||t<1||t>N)return n;do{t%2&&(n+=e),(t=Pn(t/2))&&(e+=e)}while(t);return n}function Eo(e,t){return ia(ea(e,t,Cu),e+"")}function Ao(e){return Er(hu(e))}function So(e,t){var n=hu(e);return ua(n,kr(t,0,n.length))}function $o(e,t,r,o){if(!$c(e))return e;for(var i=-1,a=(t=qo(t,e)).length,c=a-1,u=e;null!=u&&++i<a;){var f=sa(t[i]),s=r;if(i!=c){var l=u[f];(s=o?o(l,f,u):n)===n&&(s=$c(l)?l:Vi(t[i+1])?[]:{})}Rr(u,f,s),u=u[f]}return e}var Ro=rr?function(e,t){return rr.set(e,t),e}:Cu,Mo=kn?function(e,t){return kn(e,"toString",{configurable:!0,enumerable:!1,value:$u(t),writable:!0})}:Cu;function Co(e){return ua(hu(e))}function No(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Ze(o);++r<o;)i[r]=e[r+t];return i}function Lo(e,t){var n;return Pr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function Do(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=O){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Ic(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ko(e,t,Cu,n)}function ko(e,t,r,o){t=r(t);for(var i=0,a=null==e?0:e.length,c=t!=t,u=null===t,f=Ic(t),s=t===n;i<a;){var l=Pn((i+a)/2),d=r(e[l]),h=d!==n,p=null===d,v=d==d,b=Ic(d);if(c)var m=o||v;else m=s?v&&(o||h):u?v&&h&&(o||!p):f?v&&h&&!p&&(o||!b):!p&&!b&&(o?d<=t:d<t);m?i=l+1:a=l}return Vn(a,I)}function Io(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],c=t?t(a):a;if(!n||!hc(c,u)){var u=c;i[o++]=0===a?0:a}}return i}function Oo(e){return"number"==typeof e?e:Ic(e)?D:+e}function Fo(e){if("string"==typeof e)return e;if(mc(e))return Zt(e,Fo)+"";if(Ic(e))return dr?dr.call(e):"";var t=e+"";return"0"==t&&1/e==-C?"-0":t}function Uo(e,t,n){var o=-1,i=Gt,a=e.length,c=!0,u=[],f=u;if(n)c=!1,i=Xt;else if(a>=r){var s=t?null:Ti(e);if(s)return Sn(s);c=!1,i=bn,f=new wr}else f=t?[]:u;e:for(;++o<a;){var l=e[o],d=t?t(l):l;if(l=n||0!==l?l:0,c&&d==d){for(var h=f.length;h--;)if(f[h]===d)continue e;t&&f.push(d),u.push(l)}else i(f,d,n)||(f!==u&&f.push(d),u.push(l))}return u}function Po(e,t){return null==(e=ta(e,t=qo(t,e)))||delete e[sa(Ta(t))]}function jo(e,t,n,r){return $o(e,t,n(Zr(e,t)),r)}function Wo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?No(e,r?0:i,r?i+1:o):No(e,r?i+1:0,r?o:i)}function Yo(e,t){var n=e;return n instanceof mr&&(n=n.value()),Kt(t,function(e,t){return t.func.apply(t.thisArg,Qt([e],t.args))},n)}function Ho(e,t,n){var r=e.length;if(r<2)return r?Uo(e[0]):[];for(var o=-1,i=Ze(r);++o<r;)for(var a=e[o],c=-1;++c<r;)c!=o&&(i[o]=Ur(i[o]||a,e[c],t,n));return Uo(zr(i,1),t,n)}function zo(e,t,r){for(var o=-1,i=e.length,a=t.length,c={};++o<i;){var u=o<a?t[o]:n;r(c,e[o],u)}return c}function Bo(e){return yc(e)?e:[]}function Vo(e){return"function"==typeof e?e:Cu}function qo(e,t){return mc(e)?e:Gi(e,t)?[e]:fa(Bc(e))}var Go=Eo;function Xo(e,t,r){var o=e.length;return r=r===n?o:r,!t&&r>=o?e:No(e,t,r)}var Zo=In||function(e){return Ct.clearTimeout(e)};function Qo(e,t){if(t)return e.slice();var n=e.length,r=Nt?Nt(n):new e.constructor(n);return e.copy(r),r}function Ko(e){var t=new e.constructor(e.byteLength);return new Mt(t).set(new Mt(e)),t}function Jo(e,t){var n=t?Ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ei(e,t){if(e!==t){var r=e!==n,o=null===e,i=e==e,a=Ic(e),c=t!==n,u=null===t,f=t==t,s=Ic(t);if(!u&&!s&&!a&&e>t||a&&c&&f&&!u&&!s||o&&c&&f||!r&&f||!i)return 1;if(!o&&!a&&!s&&e<t||s&&r&&i&&!o&&!a||u&&r&&i||!c&&i||!f)return-1}return 0}function ti(e,t,n,r){for(var o=-1,i=e.length,a=n.length,c=-1,u=t.length,f=Bn(i-a,0),s=Ze(u+f),l=!r;++c<u;)s[c]=t[c];for(;++o<a;)(l||o<i)&&(s[n[o]]=e[o]);for(;f--;)s[c++]=e[o++];return s}function ni(e,t,n,r){for(var o=-1,i=e.length,a=-1,c=n.length,u=-1,f=t.length,s=Bn(i-c,0),l=Ze(s+f),d=!r;++o<s;)l[o]=e[o];for(var h=o;++u<f;)l[h+u]=t[u];for(;++a<c;)(d||o<i)&&(l[h+n[a]]=e[o++]);return l}function ri(e,t){var n=-1,r=e.length;for(t||(t=Ze(r));++n<r;)t[n]=e[n];return t}function oi(e,t,r,o){var i=!r;r||(r={});for(var a=-1,c=t.length;++a<c;){var u=t[a],f=o?o(r[u],e[u],u,r,e):n;f===n&&(f=e[u]),i?Lr(r,u,f):Rr(r,u,f)}return r}function ii(e,t){return function(n,r){var o=mc(n)?Ht:Cr,i=t?t():{};return o(n,e,Oi(r,2),i)}}function ai(e){return Eo(function(t,r){var o=-1,i=r.length,a=i>1?r[i-1]:n,c=i>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(i--,a):n,c&&qi(r[0],r[1],c)&&(a=i<3?n:a,i=1),t=tt(t);++o<i;){var u=r[o];u&&e(t,u,o,a)}return t})}function ci(e,t){return function(n,r){if(null==n)return n;if(!_c(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=tt(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function ui(e){return function(t,n,r){for(var o=-1,i=tt(t),a=r(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===n(i[u],u,i))break}return t}}function fi(e){return function(t){var r=xn(t=Bc(t))?Mn(t):n,o=r?r[0]:t.charAt(0),i=r?Xo(r,1).join(""):t.slice(1);return o[e]()+i}}function si(e){return function(t){return Kt(Eu(bu(t).replace(vt,"")),e,"")}}function li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return $c(r)?r:n}}function di(e){return function(t,r,o){var i=tt(t);if(!_c(t)){var a=Oi(r,3);t=ou(t),r=function(e){return a(i[e],e,i)}}var c=e(t,r,o);return c>-1?i[a?t[c]:c]:n}}function hi(e){return Ci(function(t){var r=t.length,o=r,a=br.prototype.thru;for(e&&t.reverse();o--;){var c=t[o];if("function"!=typeof c)throw new ot(i);if(a&&!u&&"wrapper"==ki(c))var u=new br([],!0)}for(o=u?o:r;++o<r;){var f=ki(c=t[o]),s="wrapper"==f?Di(c):n;u=s&&Xi(s[0])&&s[1]==(w|m|_|x)&&!s[4].length&&1==s[9]?u[ki(s[0])].apply(u,s[3]):1==c.length&&Xi(c)?u[f]():u.thru(c)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&mc(n))return u.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}})}function pi(e,t,r,o,i,a,c,u,f,s){var l=t&w,d=t&p,h=t&v,b=t&(m|g),_=t&T,y=h?n:li(e);return function p(){for(var v=arguments.length,m=Ze(v),g=v;g--;)m[g]=arguments[g];if(b)var w=Ii(p),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(m,w);if(o&&(m=ti(m,o,i,b)),a&&(m=ni(m,a,c,b)),v-=x,b&&v<s){var T=An(m,w);return wi(e,t,pi,p.placeholder,r,m,T,u,f,s-v)}var E=d?r:this,A=h?E[e]:e;return v=m.length,u?m=function(e,t){for(var r=e.length,o=Vn(t.length,r),i=ri(e);o--;){var a=t[o];e[o]=Vi(a,r)?i[a]:n}return e}(m,u):_&&v>1&&m.reverse(),l&&f<v&&(m.length=f),this&&this!==Ct&&this instanceof p&&(A=y||li(A)),A.apply(E,m)}}function vi(e,t){return function(n,r){return function(e,t,n,r){return qr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function bi(e,t){return function(r,o){var i;if(r===n&&o===n)return t;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=Fo(r),o=Fo(o)):(r=Oo(r),o=Oo(o)),i=e(r,o)}return i}}function mi(e){return Ci(function(t){return t=Zt(t,pn(Oi())),Eo(function(n){var r=this;return e(t,function(e){return Yt(e,r,n)})})})}function gi(e,t){var r=(t=t===n?" ":Fo(t)).length;if(r<2)return r?To(t,e):t;var o=To(t,Un(e/Rn(t)));return xn(t)?Xo(Mn(o),0,e).join(""):o.slice(0,e)}function _i(e){return function(t,r,o){return o&&"number"!=typeof o&&qi(t,r,o)&&(r=o=n),t=jc(t),r===n?(r=t,t=0):r=jc(r),function(e,t,n,r){for(var o=-1,i=Bn(Un((t-e)/(n||1)),0),a=Ze(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,r,o=o===n?t<r?1:-1:jc(o),e)}}function yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Hc(t),n=Hc(n)),e(t,n)}}function wi(e,t,r,o,i,a,c,u,f,s){var l=t&m;t|=l?_:y,(t&=~(l?y:_))&b||(t&=~(p|v));var d=[e,t,i,l?a:n,l?c:n,l?n:a,l?n:c,u,f,s],h=r.apply(n,d);return Xi(e)&&ra(h,d),h.placeholder=o,aa(h,e,t)}function xi(e){var t=et[e];return function(e,n){if(e=Hc(e),(n=null==n?0:Vn(Wc(n),292))&&Yn(e)){var r=(Bc(e)+"e").split("e");return+((r=(Bc(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ti=er&&1/Sn(new er([,-0]))[1]==C?function(e){return new er(e)}:Iu;function Ei(e){return function(t){var n=Yi(t);return n==q?Tn(t):n==J?$n(t):function(e,t){return Zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ai(e,t,r,o,a,c,f,s){var l=t&v;if(!l&&"function"!=typeof e)throw new ot(i);var d=o?o.length:0;if(d||(t&=~(_|y),o=a=n),f=f===n?f:Bn(Wc(f),0),s=s===n?s:Wc(s),d-=a?a.length:0,t&y){var h=o,T=a;o=a=n}var E=l?n:Di(e),A=[e,t,r,o,a,h,T,c,f,s];if(E&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<(p|v|w),a=r==w&&n==m||r==w&&n==x&&e[7].length<=t[8]||r==(w|x)&&t[7].length<=t[8]&&n==m;if(!i&&!a)return e;r&p&&(e[2]=t[2],o|=n&p?0:b);var c=t[3];if(c){var f=e[3];e[3]=f?ti(f,c,t[4]):c,e[4]=f?An(e[3],u):t[4]}(c=t[5])&&(f=e[5],e[5]=f?ni(f,c,t[6]):c,e[6]=f?An(e[5],u):t[6]),(c=t[7])&&(e[7]=c),r&w&&(e[8]=null==e[8]?t[8]:Vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(A,E),e=A[0],t=A[1],r=A[2],o=A[3],a=A[4],!(s=A[9]=A[9]===n?l?0:e.length:Bn(A[9]-d,0))&&t&(m|g)&&(t&=~(m|g)),t&&t!=p)S=t==m||t==g?function(e,t,r){var o=li(e);return function i(){for(var a=arguments.length,c=Ze(a),u=a,f=Ii(i);u--;)c[u]=arguments[u];var s=a<3&&c[0]!==f&&c[a-1]!==f?[]:An(c,f);return(a-=s.length)<r?wi(e,t,pi,i.placeholder,n,c,s,n,n,r-a):Yt(this&&this!==Ct&&this instanceof i?o:e,this,c)}}(e,t,s):t!=_&&t!=(p|_)||a.length?pi.apply(n,A):function(e,t,n,r){var o=t&p,i=li(e);return function t(){for(var a=-1,c=arguments.length,u=-1,f=r.length,s=Ze(f+c),l=this&&this!==Ct&&this instanceof t?i:e;++u<f;)s[u]=r[u];for(;c--;)s[u++]=arguments[++a];return Yt(l,o?n:this,s)}}(e,t,r,o);else var S=function(e,t,n){var r=t&p,o=li(e);return function t(){return(this&&this!==Ct&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return aa((E?Ro:ra)(S,A),e,t)}function Si(e,t,r,o){return e===n||hc(e,ct[r])&&!st.call(o,r)?t:e}function $i(e,t,r,o,i,a){return $c(e)&&$c(t)&&(a.set(t,e),bo(e,t,n,$i,a),a.delete(t)),e}function Ri(e){return Nc(e)?n:e}function Mi(e,t,r,o,i,a){var c=r&d,u=e.length,f=t.length;if(u!=f&&!(c&&f>u))return!1;var s=a.get(e);if(s&&a.get(t))return s==t;var l=-1,p=!0,v=r&h?new wr:n;for(a.set(e,t),a.set(t,e);++l<u;){var b=e[l],m=t[l];if(o)var g=c?o(m,b,l,t,e,a):o(b,m,l,e,t,a);if(g!==n){if(g)continue;p=!1;break}if(v){if(!en(t,function(e,t){if(!bn(v,t)&&(b===e||i(b,e,r,o,a)))return v.push(t)})){p=!1;break}}else if(b!==m&&!i(b,m,r,o,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Ci(e){return ia(ea(e,n,ga),e+"")}function Ni(e){return Qr(e,ou,ji)}function Li(e){return Qr(e,iu,Wi)}var Di=rr?function(e){return rr.get(e)}:Iu;function ki(e){for(var t=e.name+"",n=or[t],r=st.call(or,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Ii(e){return(st.call(hr,"placeholder")?hr:e).placeholder}function Oi(){var e=hr.iteratee||Nu;return e=e===Nu?uo:e,arguments.length?e(arguments[0],arguments[1]):e}function Fi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ui(e){for(var t=ou(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ki(o)]}return t}function Pi(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return co(r)?r:n}var ji=jn?function(e){return null==e?[]:(e=tt(e),qt(jn(e),function(t){return It.call(e,t)}))}:Yu,Wi=jn?function(e){for(var t=[];e;)Qt(t,ji(e)),e=Lt(e);return t}:Yu,Yi=Kr;function Hi(e,t,n){for(var r=-1,o=(t=qo(t,e)).length,i=!1;++r<o;){var a=sa(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Sc(o)&&Vi(a,o)&&(mc(e)||bc(e))}function zi(e){return"function"!=typeof e.constructor||Qi(e)?{}:pr(Lt(e))}function Bi(e){return mc(e)||bc(e)||!!(sn&&e&&e[sn])}function Vi(e,t){var n=typeof e;return!!(t=null==t?N:t)&&("number"==n||"symbol"!=n&&Be.test(e))&&e>-1&&e%1==0&&e<t}function qi(e,t,n){if(!$c(n))return!1;var r=typeof t;return!!("number"==r?_c(n)&&Vi(t,n.length):"string"==r&&t in n)&&hc(n[t],e)}function Gi(e,t){if(mc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ic(e))||$e.test(e)||!Se.test(e)||null!=t&&e in tt(t)}function Xi(e){var t=ki(e),n=hr[t];if("function"!=typeof n||!(t in mr.prototype))return!1;if(e===n)return!0;var r=Di(n);return!!r&&e===r[0]}(Qn&&Yi(new Qn(new ArrayBuffer(1)))!=ae||Kn&&Yi(new Kn)!=q||Jn&&"[object Promise]"!=Yi(Jn.resolve())||er&&Yi(new er)!=J||tr&&Yi(new tr)!=re)&&(Yi=function(e){var t=Kr(e),r=t==Z?e.constructor:n,o=r?la(r):"";if(o)switch(o){case ir:return ae;case ar:return q;case cr:return"[object Promise]";case ur:return J;case fr:return re}return t});var Zi=ut?Ec:Hu;function Qi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ct)}function Ki(e){return e==e&&!$c(e)}function Ji(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in tt(r))}}function ea(e,t,r){return t=Bn(t===n?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Bn(n.length-t,0),a=Ze(i);++o<i;)a[o]=n[t+o];o=-1;for(var c=Ze(t+1);++o<t;)c[o]=n[o];return c[t]=r(a),Yt(e,this,c)}}function ta(e,t){return t.length<2?e:Zr(e,No(t,0,-1))}function na(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ra=ca(Ro),oa=Fn||function(e,t){return Ct.setTimeout(e,t)},ia=ca(Mo);function aa(e,t,n){var r=t+"";return ia(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ke,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return zt(F,function(n){var r="_."+n[0];t&n[1]&&!Gt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Ie);return t?t[1].split(Oe):[]}(r),n)))}function ca(e){var t=0,r=0;return function(){var o=qn(),i=$-(o-r);if(r=o,i>0){if(++t>=S)return arguments[0]}else t=0;return e.apply(n,arguments)}}function ua(e,t){var r=-1,o=e.length,i=o-1;for(t=t===n?o:t;++r<t;){var a=xo(r,i),c=e[a];e[a]=e[r],e[r]=c}return e.length=t,e}var fa=function(e){var t=cc(e,function(e){return n.size===c&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Re,function(e,n,r,o){t.push(r?o.replace(Ue,"$1"):n||e)}),t});function sa(e){if("string"==typeof e||Ic(e))return e;var t=e+"";return"0"==t&&1/e==-C?"-0":t}function la(e){if(null!=e){try{return ft.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function da(e){if(e instanceof mr)return e.clone();var t=new br(e.__wrapped__,e.__chain__);return t.__actions__=ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ha=Eo(function(e,t){return yc(e)?Ur(e,zr(t,1,yc,!0)):[]}),pa=Eo(function(e,t){var r=Ta(t);return yc(r)&&(r=n),yc(e)?Ur(e,zr(t,1,yc,!0),Oi(r,2)):[]}),va=Eo(function(e,t){var r=Ta(t);return yc(r)&&(r=n),yc(e)?Ur(e,zr(t,1,yc,!0),n,r):[]});function ba(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Wc(n);return o<0&&(o=Bn(r+o,0)),rn(e,Oi(t,3),o)}function ma(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return r!==n&&(i=Wc(r),i=r<0?Bn(o+i,0):Vn(i,o-1)),rn(e,Oi(t,3),i,!0)}function ga(e){return null!=e&&e.length?zr(e,1):[]}function _a(e){return e&&e.length?e[0]:n}var ya=Eo(function(e){var t=Zt(e,Bo);return t.length&&t[0]===e[0]?no(t):[]}),wa=Eo(function(e){var t=Ta(e),r=Zt(e,Bo);return t===Ta(r)?t=n:r.pop(),r.length&&r[0]===e[0]?no(r,Oi(t,2)):[]}),xa=Eo(function(e){var t=Ta(e),r=Zt(e,Bo);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?no(r,n,t):[]});function Ta(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Ea=Eo(Aa);function Aa(e,t){return e&&e.length&&t&&t.length?yo(e,t):e}var Sa=Ci(function(e,t){var n=null==e?0:e.length,r=Dr(e,t);return wo(e,Zt(t,function(e){return Vi(e,n)?+e:e}).sort(ei)),r});function $a(e){return null==e?e:Zn.call(e)}var Ra=Eo(function(e){return Uo(zr(e,1,yc,!0))}),Ma=Eo(function(e){var t=Ta(e);return yc(t)&&(t=n),Uo(zr(e,1,yc,!0),Oi(t,2))}),Ca=Eo(function(e){var t=Ta(e);return t="function"==typeof t?t:n,Uo(zr(e,1,yc,!0),n,t)});function Na(e){if(!e||!e.length)return[];var t=0;return e=qt(e,function(e){if(yc(e))return t=Bn(e.length,t),!0}),hn(t,function(t){return Zt(e,fn(t))})}function La(e,t){if(!e||!e.length)return[];var r=Na(e);return null==t?r:Zt(r,function(e){return Yt(t,n,e)})}var Da=Eo(function(e,t){return yc(e)?Ur(e,t):[]}),ka=Eo(function(e){return Ho(qt(e,yc))}),Ia=Eo(function(e){var t=Ta(e);return yc(t)&&(t=n),Ho(qt(e,yc),Oi(t,2))}),Oa=Eo(function(e){var t=Ta(e);return t="function"==typeof t?t:n,Ho(qt(e,yc),n,t)}),Fa=Eo(Na);var Ua=Eo(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,La(e,r)});function Pa(e){var t=hr(e);return t.__chain__=!0,t}function ja(e,t){return t(e)}var Wa=Ci(function(e){var t=e.length,r=t?e[0]:0,o=this.__wrapped__,i=function(t){return Dr(t,e)};return!(t>1||this.__actions__.length)&&o instanceof mr&&Vi(r)?((o=o.slice(r,+r+(t?1:0))).__actions__.push({func:ja,args:[i],thisArg:n}),new br(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(i)});var Ya=ii(function(e,t,n){st.call(e,n)?++e[n]:Lr(e,n,1)});var Ha=di(ba),za=di(ma);function Ba(e,t){return(mc(e)?zt:Pr)(e,Oi(t,3))}function Va(e,t){return(mc(e)?Bt:jr)(e,Oi(t,3))}var qa=ii(function(e,t,n){st.call(e,n)?e[n].push(t):Lr(e,n,[t])});var Ga=Eo(function(e,t,n){var r=-1,o="function"==typeof t,i=_c(e)?Ze(e.length):[];return Pr(e,function(e){i[++r]=o?Yt(t,e,n):ro(e,t,n)}),i}),Xa=ii(function(e,t,n){Lr(e,n,t)});function Za(e,t){return(mc(e)?Zt:ho)(e,Oi(t,3))}var Qa=ii(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Ka=Eo(function(e,t){if(null==e)return[];var n=t.length;return n>1&&qi(e,t[0],t[1])?t=[]:n>2&&qi(t[0],t[1],t[2])&&(t=[t[0]]),go(e,zr(t,1),[])}),Ja=On||function(){return Ct.Date.now()};function ec(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Ai(e,w,n,n,n,n,t)}function tc(e,t){var r;if("function"!=typeof t)throw new ot(i);return e=Wc(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var nc=Eo(function(e,t,n){var r=p;if(n.length){var o=An(n,Ii(nc));r|=_}return Ai(e,r,t,n,o)}),rc=Eo(function(e,t,n){var r=p|v;if(n.length){var o=An(n,Ii(rc));r|=_}return Ai(t,r,e,n,o)});function oc(e,t,r){var o,a,c,u,f,s,l=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new ot(i);function v(t){var r=o,i=a;return o=a=n,l=t,u=e.apply(i,r)}function b(e){var r=e-s;return s===n||r>=t||r<0||h&&e-l>=c}function m(){var e=Ja();if(b(e))return g(e);f=oa(m,function(e){var n=t-(e-s);return h?Vn(n,c-(e-l)):n}(e))}function g(e){return f=n,p&&o?v(e):(o=a=n,u)}function _(){var e=Ja(),r=b(e);if(o=arguments,a=this,s=e,r){if(f===n)return function(e){return l=e,f=oa(m,t),d?v(e):u}(s);if(h)return Zo(f),f=oa(m,t),v(s)}return f===n&&(f=oa(m,t)),u}return t=Hc(t)||0,$c(r)&&(d=!!r.leading,c=(h="maxWait"in r)?Bn(Hc(r.maxWait)||0,t):c,p="trailing"in r?!!r.trailing:p),_.cancel=function(){f!==n&&Zo(f),l=0,o=s=a=f=n},_.flush=function(){return f===n?u:g(Ja())},_}var ic=Eo(function(e,t){return Fr(e,1,t)}),ac=Eo(function(e,t,n){return Fr(e,Hc(t)||0,n)});function cc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(cc.Cache||yr),n}function uc(e){if("function"!=typeof e)throw new ot(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}cc.Cache=yr;var fc=Go(function(e,t){var n=(t=1==t.length&&mc(t[0])?Zt(t[0],pn(Oi())):Zt(zr(t,1),pn(Oi()))).length;return Eo(function(r){for(var o=-1,i=Vn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Yt(e,this,r)})}),sc=Eo(function(e,t){var r=An(t,Ii(sc));return Ai(e,_,n,t,r)}),lc=Eo(function(e,t){var r=An(t,Ii(lc));return Ai(e,y,n,t,r)}),dc=Ci(function(e,t){return Ai(e,x,n,n,n,t)});function hc(e,t){return e===t||e!=e&&t!=t}var pc=yi(Jr),vc=yi(function(e,t){return e>=t}),bc=oo(function(){return arguments}())?oo:function(e){return Rc(e)&&st.call(e,"callee")&&!It.call(e,"callee")},mc=Ze.isArray,gc=Ot?pn(Ot):function(e){return Rc(e)&&Kr(e)==ie};function _c(e){return null!=e&&Sc(e.length)&&!Ec(e)}function yc(e){return Rc(e)&&_c(e)}var wc=Wn||Hu,xc=Ft?pn(Ft):function(e){return Rc(e)&&Kr(e)==Y};function Tc(e){if(!Rc(e))return!1;var t=Kr(e);return t==z||t==H||"string"==typeof e.message&&"string"==typeof e.name&&!Nc(e)}function Ec(e){if(!$c(e))return!1;var t=Kr(e);return t==B||t==V||t==j||t==Q}function Ac(e){return"number"==typeof e&&e==Wc(e)}function Sc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=N}function $c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Rc(e){return null!=e&&"object"==typeof e}var Mc=Ut?pn(Ut):function(e){return Rc(e)&&Yi(e)==q};function Cc(e){return"number"==typeof e||Rc(e)&&Kr(e)==G}function Nc(e){if(!Rc(e)||Kr(e)!=Z)return!1;var t=Lt(e);if(null===t)return!0;var n=st.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ft.call(n)==pt}var Lc=Pt?pn(Pt):function(e){return Rc(e)&&Kr(e)==K};var Dc=jt?pn(jt):function(e){return Rc(e)&&Yi(e)==J};function kc(e){return"string"==typeof e||!mc(e)&&Rc(e)&&Kr(e)==ee}function Ic(e){return"symbol"==typeof e||Rc(e)&&Kr(e)==te}var Oc=Wt?pn(Wt):function(e){return Rc(e)&&Sc(e.length)&&!!Tt[Kr(e)]};var Fc=yi(lo),Uc=yi(function(e,t){return e<=t});function Pc(e){if(!e)return[];if(_c(e))return kc(e)?Mn(e):ri(e);if(Ln&&e[Ln])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ln]());var t=Yi(e);return(t==q?Tn:t==J?Sn:hu)(e)}function jc(e){return e?(e=Hc(e))===C||e===-C?(e<0?-1:1)*L:e==e?e:0:0===e?e:0}function Wc(e){var t=jc(e),n=t%1;return t==t?n?t-n:t:0}function Yc(e){return e?kr(Wc(e),0,k):0}function Hc(e){if("number"==typeof e)return e;if(Ic(e))return D;if($c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ne,"");var n=Ye.test(e);return n||ze.test(e)?$t(e.slice(2),n?2:8):We.test(e)?D:+e}function zc(e){return oi(e,iu(e))}function Bc(e){return null==e?"":Fo(e)}var Vc=ai(function(e,t){if(Qi(t)||_c(t))oi(t,ou(t),e);else for(var n in t)st.call(t,n)&&Rr(e,n,t[n])}),qc=ai(function(e,t){oi(t,iu(t),e)}),Gc=ai(function(e,t,n,r){oi(t,iu(t),e,r)}),Xc=ai(function(e,t,n,r){oi(t,ou(t),e,r)}),Zc=Ci(Dr);var Qc=Eo(function(e,t){e=tt(e);var r=-1,o=t.length,i=o>2?t[2]:n;for(i&&qi(t[0],t[1],i)&&(o=1);++r<o;)for(var a=t[r],c=iu(a),u=-1,f=c.length;++u<f;){var s=c[u],l=e[s];(l===n||hc(l,ct[s])&&!st.call(e,s))&&(e[s]=a[s])}return e}),Kc=Eo(function(e){return e.push(n,$i),Yt(cu,n,e)});function Jc(e,t,r){var o=null==e?n:Zr(e,t);return o===n?r:o}function eu(e,t){return null!=e&&Hi(e,t,to)}var tu=vi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),e[t]=n},$u(Cu)),nu=vi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),st.call(e,t)?e[t].push(n):e[t]=[n]},Oi),ru=Eo(ro);function ou(e){return _c(e)?Tr(e):fo(e)}function iu(e){return _c(e)?Tr(e,!0):so(e)}var au=ai(function(e,t,n){bo(e,t,n)}),cu=ai(function(e,t,n,r){bo(e,t,n,r)}),uu=Ci(function(e,t){var n={};if(null==e)return n;var r=!1;t=Zt(t,function(t){return t=qo(t,e),r||(r=t.length>1),t}),oi(e,Li(e),n),r&&(n=Ir(n,f|s|l,Ri));for(var o=t.length;o--;)Po(n,t[o]);return n});var fu=Ci(function(e,t){return null==e?{}:function(e,t){return _o(e,t,function(t,n){return eu(e,n)})}(e,t)});function su(e,t){if(null==e)return{};var n=Zt(Li(e),function(e){return[e]});return t=Oi(t),_o(e,n,function(e,n){return t(e,n[0])})}var lu=Ei(ou),du=Ei(iu);function hu(e){return null==e?[]:vn(e,ou(e))}var pu=si(function(e,t,n){return t=t.toLowerCase(),e+(n?vu(t):t)});function vu(e){return Tu(Bc(e).toLowerCase())}function bu(e){return(e=Bc(e))&&e.replace(Ve,_n).replace(bt,"")}var mu=si(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),gu=si(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),_u=fi("toLowerCase");var yu=si(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var wu=si(function(e,t,n){return e+(n?" ":"")+Tu(t)});var xu=si(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Tu=fi("toUpperCase");function Eu(e,t,r){return e=Bc(e),(t=r?n:t)===n?function(e){return yt.test(e)}(e)?function(e){return e.match(gt)||[]}(e):function(e){return e.match(Fe)||[]}(e):e.match(t)||[]}var Au=Eo(function(e,t){try{return Yt(e,n,t)}catch(e){return Tc(e)?e:new Ke(e)}}),Su=Ci(function(e,t){return zt(t,function(t){t=sa(t),Lr(e,t,nc(e[t],e))}),e});function $u(e){return function(){return e}}var Ru=hi(),Mu=hi(!0);function Cu(e){return e}function Nu(e){return uo("function"==typeof e?e:Ir(e,f))}var Lu=Eo(function(e,t){return function(n){return ro(n,e,t)}}),Du=Eo(function(e,t){return function(n){return ro(e,n,t)}});function ku(e,t,n){var r=ou(t),o=Xr(t,r);null!=n||$c(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Xr(t,ou(t)));var i=!($c(n)&&"chain"in n&&!n.chain),a=Ec(e);return zt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ri(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Qt([this.value()],arguments))})}),e}function Iu(){}var Ou=mi(Zt),Fu=mi(Vt),Uu=mi(en);function Pu(e){return Gi(e)?fn(sa(e)):function(e){return function(t){return Zr(t,e)}}(e)}var ju=_i(),Wu=_i(!0);function Yu(){return[]}function Hu(){return!1}var zu=bi(function(e,t){return e+t},0),Bu=xi("ceil"),Vu=bi(function(e,t){return e/t},1),qu=xi("floor");var Gu,Xu=bi(function(e,t){return e*t},1),Zu=xi("round"),Qu=bi(function(e,t){return e-t},0);return hr.after=function(e,t){if("function"!=typeof t)throw new ot(i);return e=Wc(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=ec,hr.assign=Vc,hr.assignIn=qc,hr.assignInWith=Gc,hr.assignWith=Xc,hr.at=Zc,hr.before=tc,hr.bind=nc,hr.bindAll=Su,hr.bindKey=rc,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return mc(e)?e:[e]},hr.chain=Pa,hr.chunk=function(e,t,r){t=(r?qi(e,t,r):t===n)?1:Bn(Wc(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,a=0,c=Ze(Un(o/t));i<o;)c[a++]=No(e,i,i+=t);return c},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Ze(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Qt(mc(n)?ri(n):[n],zr(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=Oi();return e=t?Zt(e,function(e){if("function"!=typeof e[1])throw new ot(i);return[n(e[0]),e[1]]}):[],Eo(function(n){for(var r=-1;++r<t;){var o=e[r];if(Yt(o[0],this,n))return Yt(o[1],this,n)}})},hr.conforms=function(e){return function(e){var t=ou(e);return function(n){return Or(n,e,t)}}(Ir(e,f))},hr.constant=$u,hr.countBy=Ya,hr.create=function(e,t){var n=pr(e);return null==t?n:Nr(n,t)},hr.curry=function e(t,r,o){var i=Ai(t,m,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},hr.curryRight=function e(t,r,o){var i=Ai(t,g,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},hr.debounce=oc,hr.defaults=Qc,hr.defaultsDeep=Kc,hr.defer=ic,hr.delay=ac,hr.difference=ha,hr.differenceBy=pa,hr.differenceWith=va,hr.drop=function(e,t,r){var o=null==e?0:e.length;return o?No(e,(t=r||t===n?1:Wc(t))<0?0:t,o):[]},hr.dropRight=function(e,t,r){var o=null==e?0:e.length;return o?No(e,0,(t=o-(t=r||t===n?1:Wc(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?Wo(e,Oi(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?Wo(e,Oi(t,3),!0):[]},hr.fill=function(e,t,r,o){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&qi(e,t,r)&&(r=0,o=i),function(e,t,r,o){var i=e.length;for((r=Wc(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:Wc(o))<0&&(o+=i),o=r>o?0:Yc(o);r<o;)e[r++]=t;return e}(e,t,r,o)):[]},hr.filter=function(e,t){return(mc(e)?qt:Hr)(e,Oi(t,3))},hr.flatMap=function(e,t){return zr(Za(e,t),1)},hr.flatMapDeep=function(e,t){return zr(Za(e,t),C)},hr.flatMapDepth=function(e,t,r){return r=r===n?1:Wc(r),zr(Za(e,t),r)},hr.flatten=ga,hr.flattenDeep=function(e){return null!=e&&e.length?zr(e,C):[]},hr.flattenDepth=function(e,t){return null!=e&&e.length?zr(e,t=t===n?1:Wc(t)):[]},hr.flip=function(e){return Ai(e,T)},hr.flow=Ru,hr.flowRight=Mu,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},hr.functions=function(e){return null==e?[]:Xr(e,ou(e))},hr.functionsIn=function(e){return null==e?[]:Xr(e,iu(e))},hr.groupBy=qa,hr.initial=function(e){return null!=e&&e.length?No(e,0,-1):[]},hr.intersection=ya,hr.intersectionBy=wa,hr.intersectionWith=xa,hr.invert=tu,hr.invertBy=nu,hr.invokeMap=Ga,hr.iteratee=Nu,hr.keyBy=Xa,hr.keys=ou,hr.keysIn=iu,hr.map=Za,hr.mapKeys=function(e,t){var n={};return t=Oi(t,3),qr(e,function(e,r,o){Lr(n,t(e,r,o),e)}),n},hr.mapValues=function(e,t){var n={};return t=Oi(t,3),qr(e,function(e,r,o){Lr(n,r,t(e,r,o))}),n},hr.matches=function(e){return po(Ir(e,f))},hr.matchesProperty=function(e,t){return vo(e,Ir(t,f))},hr.memoize=cc,hr.merge=au,hr.mergeWith=cu,hr.method=Lu,hr.methodOf=Du,hr.mixin=ku,hr.negate=uc,hr.nthArg=function(e){return e=Wc(e),Eo(function(t){return mo(t,e)})},hr.omit=uu,hr.omitBy=function(e,t){return su(e,uc(Oi(t)))},hr.once=function(e){return tc(2,e)},hr.orderBy=function(e,t,r,o){return null==e?[]:(mc(t)||(t=null==t?[]:[t]),mc(r=o?n:r)||(r=null==r?[]:[r]),go(e,t,r))},hr.over=Ou,hr.overArgs=fc,hr.overEvery=Fu,hr.overSome=Uu,hr.partial=sc,hr.partialRight=lc,hr.partition=Qa,hr.pick=fu,hr.pickBy=su,hr.property=Pu,hr.propertyOf=function(e){return function(t){return null==e?n:Zr(e,t)}},hr.pull=Ea,hr.pullAll=Aa,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?yo(e,t,Oi(n,2)):e},hr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?yo(e,t,n,r):e},hr.pullAt=Sa,hr.range=ju,hr.rangeRight=Wu,hr.rearg=dc,hr.reject=function(e,t){return(mc(e)?qt:Hr)(e,uc(Oi(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Oi(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return wo(e,o),n},hr.rest=function(e,t){if("function"!=typeof e)throw new ot(i);return Eo(e,t=t===n?t:Wc(t))},hr.reverse=$a,hr.sampleSize=function(e,t,r){return t=(r?qi(e,t,r):t===n)?1:Wc(t),(mc(e)?Ar:So)(e,t)},hr.set=function(e,t,n){return null==e?e:$o(e,t,n)},hr.setWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:$o(e,t,r,o)},hr.shuffle=function(e){return(mc(e)?Sr:Co)(e)},hr.slice=function(e,t,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&qi(e,t,r)?(t=0,r=o):(t=null==t?0:Wc(t),r=r===n?o:Wc(r)),No(e,t,r)):[]},hr.sortBy=Ka,hr.sortedUniq=function(e){return e&&e.length?Io(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Io(e,Oi(t,2)):[]},hr.split=function(e,t,r){return r&&"number"!=typeof r&&qi(e,t,r)&&(t=r=n),(r=r===n?k:r>>>0)?(e=Bc(e))&&("string"==typeof t||null!=t&&!Lc(t))&&!(t=Fo(t))&&xn(e)?Xo(Mn(e),0,r):e.split(t,r):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new ot(i);return t=null==t?0:Bn(Wc(t),0),Eo(function(n){var r=n[t],o=Xo(n,0,t);return r&&Qt(o,r),Yt(e,this,o)})},hr.tail=function(e){var t=null==e?0:e.length;return t?No(e,1,t):[]},hr.take=function(e,t,r){return e&&e.length?No(e,0,(t=r||t===n?1:Wc(t))<0?0:t):[]},hr.takeRight=function(e,t,r){var o=null==e?0:e.length;return o?No(e,(t=o-(t=r||t===n?1:Wc(t)))<0?0:t,o):[]},hr.takeRightWhile=function(e,t){return e&&e.length?Wo(e,Oi(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?Wo(e,Oi(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ot(i);return $c(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),oc(e,t,{leading:r,maxWait:t,trailing:o})},hr.thru=ja,hr.toArray=Pc,hr.toPairs=lu,hr.toPairsIn=du,hr.toPath=function(e){return mc(e)?Zt(e,sa):Ic(e)?[e]:ri(fa(Bc(e)))},hr.toPlainObject=zc,hr.transform=function(e,t,n){var r=mc(e),o=r||wc(e)||Oc(e);if(t=Oi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:$c(e)&&Ec(i)?pr(Lt(e)):{}}return(o?zt:qr)(e,function(e,r,o){return t(n,e,r,o)}),n},hr.unary=function(e){return ec(e,1)},hr.union=Ra,hr.unionBy=Ma,hr.unionWith=Ca,hr.uniq=function(e){return e&&e.length?Uo(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Uo(e,Oi(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?Uo(e,n,t):[]},hr.unset=function(e,t){return null==e||Po(e,t)},hr.unzip=Na,hr.unzipWith=La,hr.update=function(e,t,n){return null==e?e:jo(e,t,Vo(n))},hr.updateWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:jo(e,t,Vo(r),o)},hr.values=hu,hr.valuesIn=function(e){return null==e?[]:vn(e,iu(e))},hr.without=Da,hr.words=Eu,hr.wrap=function(e,t){return sc(Vo(t),e)},hr.xor=ka,hr.xorBy=Ia,hr.xorWith=Oa,hr.zip=Fa,hr.zipObject=function(e,t){return zo(e||[],t||[],Rr)},hr.zipObjectDeep=function(e,t){return zo(e||[],t||[],$o)},hr.zipWith=Ua,hr.entries=lu,hr.entriesIn=du,hr.extend=qc,hr.extendWith=Gc,ku(hr,hr),hr.add=zu,hr.attempt=Au,hr.camelCase=pu,hr.capitalize=vu,hr.ceil=Bu,hr.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=Hc(r))==r?r:0),t!==n&&(t=(t=Hc(t))==t?t:0),kr(Hc(e),t,r)},hr.clone=function(e){return Ir(e,l)},hr.cloneDeep=function(e){return Ir(e,f|l)},hr.cloneDeepWith=function(e,t){return Ir(e,f|l,t="function"==typeof t?t:n)},hr.cloneWith=function(e,t){return Ir(e,l,t="function"==typeof t?t:n)},hr.conformsTo=function(e,t){return null==t||Or(e,t,ou(t))},hr.deburr=bu,hr.defaultTo=function(e,t){return null==e||e!=e?t:e},hr.divide=Vu,hr.endsWith=function(e,t,r){e=Bc(e),t=Fo(t);var o=e.length,i=r=r===n?o:kr(Wc(r),0,o);return(r-=t.length)>=0&&e.slice(r,i)==t},hr.eq=hc,hr.escape=function(e){return(e=Bc(e))&&xe.test(e)?e.replace(ye,yn):e},hr.escapeRegExp=function(e){return(e=Bc(e))&&Ce.test(e)?e.replace(Me,"\\$&"):e},hr.every=function(e,t,r){var o=mc(e)?Vt:Wr;return r&&qi(e,t,r)&&(t=n),o(e,Oi(t,3))},hr.find=Ha,hr.findIndex=ba,hr.findKey=function(e,t){return nn(e,Oi(t,3),qr)},hr.findLast=za,hr.findLastIndex=ma,hr.findLastKey=function(e,t){return nn(e,Oi(t,3),Gr)},hr.floor=qu,hr.forEach=Ba,hr.forEachRight=Va,hr.forIn=function(e,t){return null==e?e:Br(e,Oi(t,3),iu)},hr.forInRight=function(e,t){return null==e?e:Vr(e,Oi(t,3),iu)},hr.forOwn=function(e,t){return e&&qr(e,Oi(t,3))},hr.forOwnRight=function(e,t){return e&&Gr(e,Oi(t,3))},hr.get=Jc,hr.gt=pc,hr.gte=vc,hr.has=function(e,t){return null!=e&&Hi(e,t,eo)},hr.hasIn=eu,hr.head=_a,hr.identity=Cu,hr.includes=function(e,t,n,r){e=_c(e)?e:hu(e),n=n&&!r?Wc(n):0;var o=e.length;return n<0&&(n=Bn(o+n,0)),kc(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&on(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Wc(n);return o<0&&(o=Bn(r+o,0)),on(e,t,o)},hr.inRange=function(e,t,r){return t=jc(t),r===n?(r=t,t=0):r=jc(r),function(e,t,n){return e>=Vn(t,n)&&e<Bn(t,n)}(e=Hc(e),t,r)},hr.invoke=ru,hr.isArguments=bc,hr.isArray=mc,hr.isArrayBuffer=gc,hr.isArrayLike=_c,hr.isArrayLikeObject=yc,hr.isBoolean=function(e){return!0===e||!1===e||Rc(e)&&Kr(e)==W},hr.isBuffer=wc,hr.isDate=xc,hr.isElement=function(e){return Rc(e)&&1===e.nodeType&&!Nc(e)},hr.isEmpty=function(e){if(null==e)return!0;if(_c(e)&&(mc(e)||"string"==typeof e||"function"==typeof e.splice||wc(e)||Oc(e)||bc(e)))return!e.length;var t=Yi(e);if(t==q||t==J)return!e.size;if(Qi(e))return!fo(e).length;for(var n in e)if(st.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return io(e,t)},hr.isEqualWith=function(e,t,r){var o=(r="function"==typeof r?r:n)?r(e,t):n;return o===n?io(e,t,n,r):!!o},hr.isError=Tc,hr.isFinite=function(e){return"number"==typeof e&&Yn(e)},hr.isFunction=Ec,hr.isInteger=Ac,hr.isLength=Sc,hr.isMap=Mc,hr.isMatch=function(e,t){return e===t||ao(e,t,Ui(t))},hr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,ao(e,t,Ui(t),r)},hr.isNaN=function(e){return Cc(e)&&e!=+e},hr.isNative=function(e){if(Zi(e))throw new Ke(o);return co(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=Cc,hr.isObject=$c,hr.isObjectLike=Rc,hr.isPlainObject=Nc,hr.isRegExp=Lc,hr.isSafeInteger=function(e){return Ac(e)&&e>=-N&&e<=N},hr.isSet=Dc,hr.isString=kc,hr.isSymbol=Ic,hr.isTypedArray=Oc,hr.isUndefined=function(e){return e===n},hr.isWeakMap=function(e){return Rc(e)&&Yi(e)==re},hr.isWeakSet=function(e){return Rc(e)&&Kr(e)==oe},hr.join=function(e,t){return null==e?"":Hn.call(e,t)},hr.kebabCase=mu,hr.last=Ta,hr.lastIndexOf=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=Wc(r))<0?Bn(o+i,0):Vn(i,o-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):rn(e,cn,i,!0)},hr.lowerCase=gu,hr.lowerFirst=_u,hr.lt=Fc,hr.lte=Uc,hr.max=function(e){return e&&e.length?Yr(e,Cu,Jr):n},hr.maxBy=function(e,t){return e&&e.length?Yr(e,Oi(t,2),Jr):n},hr.mean=function(e){return un(e,Cu)},hr.meanBy=function(e,t){return un(e,Oi(t,2))},hr.min=function(e){return e&&e.length?Yr(e,Cu,lo):n},hr.minBy=function(e,t){return e&&e.length?Yr(e,Oi(t,2),lo):n},hr.stubArray=Yu,hr.stubFalse=Hu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Xu,hr.nth=function(e,t){return e&&e.length?mo(e,Wc(t)):n},hr.noConflict=function(){return Ct._===this&&(Ct._=mt),this},hr.noop=Iu,hr.now=Ja,hr.pad=function(e,t,n){e=Bc(e);var r=(t=Wc(t))?Rn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return gi(Pn(o),n)+e+gi(Un(o),n)},hr.padEnd=function(e,t,n){e=Bc(e);var r=(t=Wc(t))?Rn(e):0;return t&&r<t?e+gi(t-r,n):e},hr.padStart=function(e,t,n){e=Bc(e);var r=(t=Wc(t))?Rn(e):0;return t&&r<t?gi(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Gn(Bc(e).replace(Le,""),t||0)},hr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&qi(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=jc(e),t===n?(t=e,e=0):t=jc(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var i=Xn();return Vn(e+i*(t-e+St("1e-"+((i+"").length-1))),t)}return xo(e,t)},hr.reduce=function(e,t,n){var r=mc(e)?Kt:ln,o=arguments.length<3;return r(e,Oi(t,4),n,o,Pr)},hr.reduceRight=function(e,t,n){var r=mc(e)?Jt:ln,o=arguments.length<3;return r(e,Oi(t,4),n,o,jr)},hr.repeat=function(e,t,r){return t=(r?qi(e,t,r):t===n)?1:Wc(t),To(Bc(e),t)},hr.replace=function(){var e=arguments,t=Bc(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,r){var o=-1,i=(t=qo(t,e)).length;for(i||(i=1,e=n);++o<i;){var a=null==e?n:e[sa(t[o])];a===n&&(o=i,a=r),e=Ec(a)?a.call(e):a}return e},hr.round=Zu,hr.runInContext=e,hr.sample=function(e){return(mc(e)?Er:Ao)(e)},hr.size=function(e){if(null==e)return 0;if(_c(e))return kc(e)?Rn(e):e.length;var t=Yi(e);return t==q||t==J?e.size:fo(e).length},hr.snakeCase=yu,hr.some=function(e,t,r){var o=mc(e)?en:Lo;return r&&qi(e,t,r)&&(t=n),o(e,Oi(t,3))},hr.sortedIndex=function(e,t){return Do(e,t)},hr.sortedIndexBy=function(e,t,n){return ko(e,t,Oi(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Do(e,t);if(r<n&&hc(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return Do(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return ko(e,t,Oi(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Do(e,t,!0)-1;if(hc(e[n],t))return n}return-1},hr.startCase=wu,hr.startsWith=function(e,t,n){return e=Bc(e),n=null==n?0:kr(Wc(n),0,e.length),t=Fo(t),e.slice(n,n+t.length)==t},hr.subtract=Qu,hr.sum=function(e){return e&&e.length?dn(e,Cu):0},hr.sumBy=function(e,t){return e&&e.length?dn(e,Oi(t,2)):0},hr.template=function(e,t,r){var o=hr.templateSettings;r&&qi(e,t,r)&&(t=n),e=Bc(e),t=Gc({},t,o,Si);var i,a,c=Gc({},t.imports,o.imports,Si),u=ou(c),f=vn(c,u),s=0,l=t.interpolate||qe,d="__p += '",h=nt((t.escape||qe).source+"|"+l.source+"|"+(l===Ae?Pe:qe).source+"|"+(t.evaluate||qe).source+"|$","g"),p="//# sourceURL="+(st.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++xt+"]")+"\n";e.replace(h,function(t,n,r,o,c,u){return r||(r=o),d+=e.slice(s,u).replace(Ge,wn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),c&&(a=!0,d+="';\n"+c+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=u+t.length,t}),d+="';\n";var v=st.call(t,"variable")&&t.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(be,""):d).replace(me,"$1").replace(ge,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var b=Au(function(){return Je(u,p+"return "+d).apply(n,f)});if(b.source=d,Tc(b))throw b;return b},hr.times=function(e,t){if((e=Wc(e))<1||e>N)return[];var n=k,r=Vn(e,k);t=Oi(t),e-=k;for(var o=hn(r,t);++n<e;)t(n);return o},hr.toFinite=jc,hr.toInteger=Wc,hr.toLength=Yc,hr.toLower=function(e){return Bc(e).toLowerCase()},hr.toNumber=Hc,hr.toSafeInteger=function(e){return e?kr(Wc(e),-N,N):0===e?e:0},hr.toString=Bc,hr.toUpper=function(e){return Bc(e).toUpperCase()},hr.trim=function(e,t,r){if((e=Bc(e))&&(r||t===n))return e.replace(Ne,"");if(!e||!(t=Fo(t)))return e;var o=Mn(e),i=Mn(t);return Xo(o,mn(o,i),gn(o,i)+1).join("")},hr.trimEnd=function(e,t,r){if((e=Bc(e))&&(r||t===n))return e.replace(De,"");if(!e||!(t=Fo(t)))return e;var o=Mn(e);return Xo(o,0,gn(o,Mn(t))+1).join("")},hr.trimStart=function(e,t,r){if((e=Bc(e))&&(r||t===n))return e.replace(Le,"");if(!e||!(t=Fo(t)))return e;var o=Mn(e);return Xo(o,mn(o,Mn(t))).join("")},hr.truncate=function(e,t){var r=E,o=A;if($c(t)){var i="separator"in t?t.separator:i;r="length"in t?Wc(t.length):r,o="omission"in t?Fo(t.omission):o}var a=(e=Bc(e)).length;if(xn(e)){var c=Mn(e);a=c.length}if(r>=a)return e;var u=r-Rn(o);if(u<1)return o;var f=c?Xo(c,0,u).join(""):e.slice(0,u);if(i===n)return f+o;if(c&&(u+=f.length-u),Lc(i)){if(e.slice(u).search(i)){var s,l=f;for(i.global||(i=nt(i.source,Bc(je.exec(i))+"g")),i.lastIndex=0;s=i.exec(l);)var d=s.index;f=f.slice(0,d===n?u:d)}}else if(e.indexOf(Fo(i),u)!=u){var h=f.lastIndexOf(i);h>-1&&(f=f.slice(0,h))}return f+o},hr.unescape=function(e){return(e=Bc(e))&&we.test(e)?e.replace(_e,Cn):e},hr.uniqueId=function(e){var t=++lt;return Bc(e)+t},hr.upperCase=xu,hr.upperFirst=Tu,hr.each=Ba,hr.eachRight=Va,hr.first=_a,ku(hr,(Gu={},qr(hr,function(e,t){st.call(hr.prototype,t)||(Gu[t]=e)}),Gu),{chain:!1}),hr.VERSION="4.17.15",zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){hr[e].placeholder=hr}),zt(["drop","take"],function(e,t){mr.prototype[e]=function(r){r=r===n?1:Bn(Wc(r),0);var o=this.__filtered__&&!t?new mr(this):this.clone();return o.__filtered__?o.__takeCount__=Vn(r,o.__takeCount__):o.__views__.push({size:Vn(r,k),type:e+(o.__dir__<0?"Right":"")}),o},mr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),zt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==R||3==n;mr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Oi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),zt(["head","last"],function(e,t){var n="take"+(t?"Right":"");mr.prototype[e]=function(){return this[n](1).value()[0]}}),zt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");mr.prototype[e]=function(){return this.__filtered__?new mr(this):this[n](1)}}),mr.prototype.compact=function(){return this.filter(Cu)},mr.prototype.find=function(e){return this.filter(e).head()},mr.prototype.findLast=function(e){return this.reverse().find(e)},mr.prototype.invokeMap=Eo(function(e,t){return"function"==typeof e?new mr(this):this.map(function(n){return ro(n,e,t)})}),mr.prototype.reject=function(e){return this.filter(uc(Oi(e)))},mr.prototype.slice=function(e,t){e=Wc(e);var r=this;return r.__filtered__&&(e>0||t<0)?new mr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=Wc(t))<0?r.dropRight(-t):r.take(t-e)),r)},mr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mr.prototype.toArray=function(){return this.take(k)},qr(mr.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=hr[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);i&&(hr.prototype[t]=function(){var t=this.__wrapped__,c=o?[1]:arguments,u=t instanceof mr,f=c[0],s=u||mc(t),l=function(e){var t=i.apply(hr,Qt([e],c));return o&&d?t[0]:t};s&&r&&"function"==typeof f&&1!=f.length&&(u=s=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&s){t=v?t:new mr(this);var b=e.apply(t,c);return b.__actions__.push({func:ja,args:[l],thisArg:n}),new br(b,d)}return p&&v?e.apply(this,c):(b=this.thru(l),p?o?b.value()[0]:b.value():b)})}),zt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(mc(o)?o:[],e)}return this[n](function(n){return t.apply(mc(n)?n:[],e)})}}),qr(mr.prototype,function(e,t){var n=hr[t];if(n){var r=n.name+"";st.call(or,r)||(or[r]=[]),or[r].push({name:t,func:n})}}),or[pi(n,v).name]=[{name:"wrapper",func:n}],mr.prototype.clone=function(){var e=new mr(this.__wrapped__);return e.__actions__=ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ri(this.__views__),e},mr.prototype.reverse=function(){if(this.__filtered__){var e=new mr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},mr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=mc(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Vn(t,e+a);break;case"takeRight":e=Bn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,c=i.end,u=c-a,f=r?c:a-1,s=this.__iteratees__,l=s.length,d=0,h=Vn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return Yo(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,b=e[f+=t];++v<l;){var m=s[v],g=m.iteratee,_=m.type,y=g(b);if(_==M)b=y;else if(!y){if(_==R)continue e;break e}}p[d++]=b}return p},hr.prototype.at=Wa,hr.prototype.chain=function(){return Pa(this)},hr.prototype.commit=function(){return new br(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===n&&(this.__values__=Pc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,r=this;r instanceof vr;){var o=da(r);o.__index__=0,o.__values__=n,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof mr){var t=e;return this.__actions__.length&&(t=new mr(this)),(t=t.reverse()).__actions__.push({func:ja,args:[$a],thisArg:n}),new br(t,this.__chain__)}return this.thru($a)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Yo(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Ln&&(hr.prototype[Ln]=function(){return this}),hr}();Lt?((Lt.exports=Nn)._=Nn,Nt._=Nn):Ct._=Nn}).call(commonjsGlobal)});function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){return 1===e.length&&(e=ascendingComparator(e)),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}function ascendingComparator(e){return function(t,n){return ascending(e(t),n)}}var ascendingBisect=bisector(ascending),noop={value:function(){}};function dispatch(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function get(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function set$9(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=noop,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n,r=this._,o=parseTypenames(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=set$9(r[n],e.name,t);else if(null==t)for(n in r)r[n]=set$9(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=get(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return null==e?none:function(){return this.querySelector(e)}}function selection_select(e){"function"!=typeof e&&(e=selector(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,c=t[o],u=c.length,f=r[o]=new Array(u),s=0;s<u;++s)(i=c[s])&&(a=e.call(i,i.__data__,s,c))&&("__data__"in i&&(a.__data__=i.__data__),f[s]=a);return new Selection(r,this._parents)}function empty(){return[]}function selectorAll(e){return null==e?empty:function(){return this.querySelectorAll(e)}}function selection_selectAll(e){"function"!=typeof e&&(e=selectorAll(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,c=t[i],u=c.length,f=0;f<u;++f)(a=c[f])&&(r.push(e.call(a,a.__data__,f,c)),o.push(a));return new Selection(r,o)}function matcher(e){return function(){return this.matches(e)}}function selection_filter(e){"function"!=typeof e&&(e=matcher(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],c=a.length,u=r[o]=[],f=0;f<c;++f)(i=a[f])&&e.call(i,i.__data__,f,a)&&u.push(i);return new Selection(r,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function constant$1(e){return function(){return e}}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var keyPrefix="$";function bindIndex(e,t,n,r,o,i){for(var a,c=0,u=t.length,f=i.length;c<f;++c)(a=t[c])?(a.__data__=i[c],r[c]=a):n[c]=new EnterNode(e,i[c]);for(;c<u;++c)(a=t[c])&&(o[c]=a)}function bindKey(e,t,n,r,o,i,a){var c,u,f,s={},l=t.length,d=i.length,h=new Array(l);for(c=0;c<l;++c)(u=t[c])&&(h[c]=f=keyPrefix+a.call(u,u.__data__,c,t),f in s?o[c]=u:s[f]=u);for(c=0;c<d;++c)(u=s[f=keyPrefix+a.call(e,i[c],c,i)])?(r[c]=u,u.__data__=i[c],s[f]=null):n[c]=new EnterNode(e,i[c]);for(c=0;c<l;++c)(u=t[c])&&s[h[c]]===u&&(o[c]=u)}function selection_data(e,t){if(!e)return h=new Array(this.size()),f=-1,this.each(function(e){h[++f]=e}),h;var n=t?bindKey:bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(e=constant$1(e));for(var i=o.length,a=new Array(i),c=new Array(i),u=new Array(i),f=0;f<i;++f){var s=r[f],l=o[f],d=l.length,h=e.call(s,s&&s.__data__,f,r),p=h.length,v=c[f]=new Array(p),b=a[f]=new Array(p);n(s,l,v,b,u[f]=new Array(d),h,t);for(var m,g,_=0,y=0;_<p;++_)if(m=v[_]){for(_>=y&&(y=_+1);!(g=b[y])&&++y<p;);m._next=g||null}}return(a=new Selection(a,r))._enter=c,a._exit=u,a}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o}function selection_merge(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),c=0;c<i;++c)for(var u,f=t[c],s=n[c],l=f.length,d=a[c]=new Array(l),h=0;h<l;++h)(u=f[h]||s[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new Selection(a,this._parents)}function selection_order(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}function selection_sort(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ascending$1);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,c=n[i],u=c.length,f=o[i]=new Array(u),s=0;s<u;++s)(a=c[s])&&(f[s]=a);f.sort(t)}return new Selection(o,this._parents).order()}function ascending$1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function selection_node(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function selection_size(){var e=0;return this.each(function(){++e}),e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,c=i.length;a<c;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function selection_attr(e,t){var n=namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?attrRemoveNS:attrRemove:"function"==typeof t?n.local?attrFunctionNS:attrFunction:n.local?attrConstantNS:attrConstant)(n,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function selection_style(e,t,n){return arguments.length>1?this.each((null==t?styleRemove:"function"==typeof t?styleFunction:styleConstant)(e,t,null==n?"":n)):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function selection_property(e,t){return arguments.length>1?this.each((null==t?propertyRemove:"function"==typeof t?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}function classedAdd(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function classedRemove(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var n=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?classedFunction:t?classedTrue:classedFalse)(n,t))}function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function selection_text(e){return arguments.length?this.each(null==e?textRemove:("function"==typeof e?textFunction:textConstant)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function selection_html(e){return arguments.length?this.each(null==e?htmlRemove:("function"==typeof e?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t="function"==typeof e?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var n="function"==typeof e?e:creator(e),r=null==t?constantNull:"function"==typeof t?t:selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}ClassList.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var filterEvents={};if("undefined"!=typeof document){var element=document.documentElement;"onmouseenter"in element||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}function filterContextListener(e,t,n){return e=contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function contextListener(e,t,n){return function(r){try{e.call(this,this.__data__,t,n)}finally{}}}function parseTypenames$1(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function onAdd(e,t,n){var r=filterEvents.hasOwnProperty(e.type)?filterContextListener:contextListener;return function(o,i,a){var c,u=this.__on,f=r(t,i,a);if(u)for(var s=0,l=u.length;s<l;++s)if((c=u[s]).type===e.type&&c.name===e.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=f,c.capture=n),void(c.value=t);this.addEventListener(e.type,f,n),c={type:e.type,name:e.name,value:t,listener:f,capture:n},u?u.push(c):this.__on=[c]}}function selection_on(e,t,n){var r,o,i=parseTypenames$1(e+""),a=i.length;if(!(arguments.length<2)){for(c=t?onAdd:onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(c(i[r],t,n));return this}var c=this.node().__on;if(c)for(var u,f=0,s=c.length;f<s;++f)for(r=0,u=c[f];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}function dispatchEvent(e,t,n){var r=defaultView(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each(("function"==typeof t?dispatchFunction:dispatchConstant)(e,t))}var root$1=[null];function Selection(e,t){this._groups=e,this._parents=t}function selection(){return new Selection([[document.documentElement]],root$1)}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Color(){}Selection.prototype=selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rgbn(t):3===n?new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new Rgb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new Rgb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rgb(e,t,n,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function rgb(e,t,n,r){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,n,null==r?1:r)}function Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,c=i-o,u=(i+o)/2;return c?(a=t===i?(n-r)/c+6*(n<r):n===i?(r-t)/c+2:(t-n)/c+4,c/=u<.5?i+o:2-i-o,a*=60):c=u>0&&u<1?0:a,new Hsl(a,c,u,e.opacity)}function hsl(e,t,n,r){return 1===arguments.length?hslConvert(e):new Hsl(e,t,n,null==r?1:r)}function Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hsl2rgb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}define(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,r),hsl2rgb(e,o,r),hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var t,n,r=rgb2lrgb(e.r),o=rgb2lrgb(e.g),i=rgb2lrgb(e.b),a=xyz2lab((.2225045*r+.7168786*o+.0606169*i)/Yn);return r===o&&o===i?t=n=a:(t=xyz2lab((.4360747*r+.3850649*o+.1430804*i)/Xn),n=xyz2lab((.0139322*r+.0971045*o+.7141733*i)/Zn)),new Lab(116*a-16,500*(t-a),200*(a-n),e.opacity)}function lab(e,t,n,r){return 1===arguments.length?labConvert(e):new Lab(e,t,n,null==r?1:r)}function Lab(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function xyz2lab(e){return e>t3?Math.pow(e,1/3):e/t2+t0}function lab2xyz(e){return e>t1?e*e*e:t2*(e-t0)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*rad2deg;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl(e,t,n,r){return 1===arguments.length?hclConvert(e):new Hcl(e,t,n,null==r?1:r)}function Hcl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*deg2rad;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}define(Lab,lab,extend(Color,{brighter:function(e){return new Lab(this.l+K*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-K*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(t=Xn*lab2xyz(t))-1.6168667*(e=Yn*lab2xyz(e))-.4906146*(n=Zn*lab2xyz(n))),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*n),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),define(Hcl,hcl,extend(Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+K*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-K*(null==e?1:e),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(BC_DA*r+ED*t-EB*n)/(BC_DA+ED-EB),i=r-o,a=(E*(n-o)-C*i)/D,c=Math.sqrt(a*a+i*i)/(E*o*(1-o)),u=c?Math.atan2(a,i)*rad2deg-120:NaN;return new Cubehelix(u<0?u+360:u,c,o,e.opacity)}function cubehelix(e,t,n,r){return 1===arguments.length?cubehelixConvert(e):new Cubehelix(e,t,n,null==r?1:r)}function Cubehelix(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function basis(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function basis$1(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,c=r<t-1?e[r+2]:2*i-o;return basis((n-r/t)*t,a,o,i,c)}}function constant$3(e){return function(){return e}}function linear(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hue(e,t){var n=t-e;return n?linear(e,n>180||n<-180?n-360*Math.round(n/360):n):constant$3(isNaN(e)?t:e)}function gamma(e){return 1==(e=+e)?nogamma:function(t,n){return n-t?exponential(t,n,e):constant$3(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear(e,n):constant$3(isNaN(e)?t:e)}define(Cubehelix,cubehelix,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*deg2rad,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new Rgb(255*(t+n*(A*r+B*o)),255*(t+n*(C*r+D*o)),255*(t+n*(E*r)),this.opacity)}}));var interpolateRgb=function e(t){var n=gamma(t);function r(e,t){var r=n((e=rgb(e)).r,(t=rgb(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=nogamma(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function rgbSpline(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),c=new Array(o);for(n=0;n<o;++n)r=rgb(t[n]),i[n]=r.r||0,a[n]=r.g||0,c[n]=r.b||0;return i=e(i),a=e(a),c=e(c),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=c(e),r+""}}}var rgbBasis=rgbSpline(basis$1);function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function interpolateString(e,t){var n,r,o,i=reA.lastIndex=reB.lastIndex=0,a=-1,c=[],u=[];for(e+="",t+="";(n=reA.exec(e))&&(r=reB.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),c[a]?c[a]+=o:c[++a]=o),(n=n[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,u.push({i:a,x:interpolateNumber(n,r)})),i=reB.lastIndex;return i<t.length&&(o=t.slice(i),c[a]?c[a]+=o:c[++a]=o),c.length<2?u[0]?one(u[0].x):zero(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)c[(n=u[r]).i]=n.x(e);return c.join("")})}var cssNode,cssRoot,cssView,svgNode,degrees=180/Math.PI,identity$8={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,t,n,r,o,i){var a,c,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*degrees,skewX:Math.atan(u)*degrees,scaleX:a,scaleY:c}}function parseCss(e){return"none"===e?identity$8:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=e,e=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),decompose(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return null==e?identity$8:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),(e=svgNode.transform.baseVal.consolidate())?decompose((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):identity$8)}function interpolateTransform(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var c=[],u=[];return i=e(i),a=e(a),function(e,r,o,i,a,c){if(e!==o||r!==i){var u=a.push("translate(",null,t,null,n);c.push({i:u-4,x:interpolateNumber(e,o)},{i:u-2,x:interpolateNumber(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,c,u),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:interpolateNumber(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,c,u),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:interpolateNumber(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,c,u),function(e,t,n,r,i,a){if(e!==n||t!==r){var c=i.push(o(i)+"scale(",null,",",null,")");a.push({i:c-4,x:interpolateNumber(e,n)},{i:c-2,x:interpolateNumber(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,c,u),i=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)c[(t=u[n]).i]=t.x(e);return c.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),rho=Math.SQRT2;function cubehelix$1(e){return function t(n){function r(t,r){var o=e((t=cubehelix(t)).h,(r=cubehelix(r)).h),i=nogamma(t.s,r.s),a=nogamma(t.l,r.l),c=nogamma(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}cubehelix$1(hue);var taskHead,taskTail,cubehelixLong=cubehelix$1(nogamma),frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now$1(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(e,t,n){var r=new Timer;return r.restart(e,t,n),r}function timerFlush(){now$1(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>pokeDelay&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t,n=taskHead,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:taskHead=t);taskTail=e,sleep(r)}function sleep(e){frame||(timeout&&(timeout=clearTimeout(timeout)),e-clockNow>24?(e<1/0&&(timeout=setTimeout(wake,e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}function timeout$1(e,t,n){var r=new Timer;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?now$1():+n)+(null==t?0:+t),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};create$a(e,n,{name:t,index:r,group:o,on:emptyOn,tween:emptyTween,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:CREATED})}function init(e,t){var n=get$1(e,t);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set$a(e,t){var n=get$1(e,t);if(n.state>STARTED)throw new Error("too late; already running");return n}function get$1(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function create$a(e,t,n){var r,o=e.__transition;function i(u){var f,s,l,d;if(n.state!==SCHEDULED)return c();for(f in o)if((d=o[f]).name===n.name){if(d.state===STARTED)return timeout$1(i);d.state===RUNNING?(d.state=ENDED,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[f]):+f<t&&(d.state=ENDED,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete o[f])}if(timeout$1(function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=STARTING,n.on.call("start",e,e.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,r=new Array(l=n.tween.length),f=0,s=-1;f<l;++f)(d=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=ENDING,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);n.state===ENDING&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var r in n.state=ENDED,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=timer(function(e){n.state=SCHEDULED,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}function interrupt(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>STARTING&&n.state<ENDING,n.state=ENDED,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function tweenRemove(e,t){var n,r;return function(){var o=set$a(this,e),i=o.tween;if(i!==n)for(var a=0,c=(r=n=i).length;a<c;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function tweenFunction(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=set$a(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var c={name:t,value:n},u=0,f=o.length;u<f;++u)if(o[u].name===t){o[u]=c;break}u===f&&o.push(c)}i.tween=o}}function transition_tween(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=get$1(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?tweenRemove:tweenFunction)(n,e,t))}function tweenValue(e,t,n){var r=e._id;return e.each(function(){var e=set$a(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return get$1(e,r).value[t]}}function interpolate(e,t){var n;return("number"==typeof t?interpolateNumber:t instanceof color?interpolateRgb:(n=color(t))?(t=n,interpolateRgb):interpolateString)(e,t)}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function attrConstantNS$1(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function attrFunction$1(e,t,n){var r,o,i;return function(){var a,c,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(c=u+"")?null:a===r&&c===o?i:(o=c,i=t(r=a,u));this.removeAttribute(e)}}function attrFunctionNS$1(e,t,n){var r,o,i;return function(){var a,c,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(c=u+"")?null:a===r&&c===o?i:(o=c,i=t(r=a,u));this.removeAttributeNS(e.space,e.local)}}function transition_attr(e,t){var n=namespace(e),r="transform"===n?interpolateTransformSvg:interpolate;return this.attrTween(e,"function"==typeof t?(n.local?attrFunctionNS$1:attrFunction$1)(n,r,tweenValue(this,"attr."+e,t)):null==t?(n.local?attrRemoveNS$1:attrRemove$1)(n):(n.local?attrConstantNS$1:attrConstant$1)(n,r,t))}function attrInterpolate(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function attrInterpolateNS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function attrTweenNS(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolateNS(e,o)),n}return o._value=t,o}function attrTween(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolate(e,o)),n}return o._value=t,o}function transition_attrTween(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=namespace(e);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,t))}function delayFunction(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?delayFunction:delayConstant)(t,e)):get$1(this.node(),t).delay}function durationFunction(e,t){return function(){set$a(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set$a(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?durationFunction:durationConstant)(t,e)):get$1(this.node(),t).duration}function easeConstant(e,t){if("function"!=typeof t)throw new Error;return function(){set$a(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get$1(this.node(),t).ease}function transition_filter(e){"function"!=typeof e&&(e=matcher(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],c=a.length,u=r[o]=[],f=0;f<c;++f)(i=a[f])&&e.call(i,i.__data__,f,a)&&u.push(i);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),c=0;c<i;++c)for(var u,f=t[c],s=n[c],l=f.length,d=a[c]=new Array(l),h=0;h<l;++h)(u=f[h]||s[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new Transition(a,this._parents,this._name,this._id)}function start(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function onFunction(e,t,n){var r,o,i=start(t)?init:set$a;return function(){var a=i(this,e),c=a.on;c!==r&&(o=(r=c).copy()).on(t,n),a.on=o}}function transition_on(e,t){var n=this._id;return arguments.length<2?get$1(this.node(),n).on.on(e):this.each(onFunction(n,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=selector(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var c,u,f=r[a],s=f.length,l=i[a]=new Array(s),d=0;d<s;++d)(c=f[d])&&(u=e.call(c,c.__data__,d,f))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u,schedule(l[d],t,n,d,l,get$1(c,n)));return new Transition(i,this._parents,t,n)}function transition_selectAll(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=selectorAll(e));for(var r=this._groups,o=r.length,i=[],a=[],c=0;c<o;++c)for(var u,f=r[c],s=f.length,l=0;l<s;++l)if(u=f[l]){for(var d,h=e.call(u,u.__data__,l,f),p=get$1(u,n),v=0,b=h.length;v<b;++v)(d=h[v])&&schedule(d,t,n,v,h,p);i.push(h),a.push(u)}return new Transition(i,a,t,n)}var Selection$1=selection.prototype.constructor;function transition_selection(){return new Selection$1(this._groups,this._parents)}function styleNull(e,t){var n,r,o;return function(){var i=styleValue(this,e),a=(this.style.removeProperty(e),styleValue(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function styleRemove$1(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,n){var r,o,i=n+"";return function(){var a=styleValue(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function styleFunction$1(e,t,n){var r,o,i;return function(){var a=styleValue(this,e),c=n(this),u=c+"";return null==c&&(this.style.removeProperty(e),u=c=styleValue(this,e)),a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,c))}}function styleMaybeRemove(e,t){var n,r,o,i,a="style."+t,c="end."+a;return function(){var u=set$a(this,e),f=u.on,s=null==u.value[a]?i||(i=styleRemove$1(t)):void 0;f===n&&o===s||(r=(n=f).copy()).on(c,o=s),u.on=r}}function transition_style(e,t,n){var r="transform"==(e+="")?interpolateTransformCss:interpolate;return null==t?this.styleTween(e,styleNull(e,r)).on("end.style."+e,styleRemove$1(e)):"function"==typeof t?this.styleTween(e,styleFunction$1(e,r,tweenValue(this,"style."+e,t))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant$1(e,r,t),n).on("end.style."+e,null)}function styleInterpolate(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function styleTween(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&styleInterpolate(e,i,n)),r}return i._value=t,i}function transition_styleTween(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,styleTween(e,t,null==n?"":n))}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function transition_text(e){return this.tween("text","function"==typeof e?textFunction$1(tweenValue(this,"text",e)):textConstant$1(null==e?"":e+""))}function textInterpolate(e){return function(t){this.textContent=e.call(this,t)}}function textTween(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&textInterpolate(r)),t}return r._value=e,r}function transition_textTween(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,textTween(e))}function transition_transition(){for(var e=this._name,t=this._id,n=newId(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,c=r[i],u=c.length,f=0;f<u;++f)if(a=c[f]){var s=get$1(a,t);schedule(a,e,n,f,c,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Transition(r,this._parents,e,n)}function transition_end(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var c={value:a},u={value:function(){0==--o&&i()}};n.each(function(){var n=set$a(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),n.on=t})})}var id=0;function Transition(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function transition(e){return selection().transition(e)}function newId(){return++id}var selection_prototype=selection.prototype;function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,end:transition_end};var pi=Math.PI,tau=2*Math.PI,defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return defaultTiming.time=now$1(),defaultTiming;return n}function selection_transition(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(n=defaultTiming).time=now$1(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,c=r[i],u=c.length,f=0;f<u;++f)(a=c[f])&&schedule(a,e,t,f,c,n||inherit(a,t));return new Transition(r,this._parents,e,t)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;var pi$1=Math.PI,pi$2=Math.PI,prefix$1="$";function Map(){}function map$2(e,t){var n=new Map;if(e instanceof Map)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(r=e[o],o,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function Set(){}Map.prototype=map$2.prototype={constructor:Map,has:function(e){return prefix$1+e in this},get:function(e){return this[prefix$1+e]},set:function(e,t){return this[prefix$1+e]=t,this},remove:function(e){var t=prefix$1+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===prefix$1&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===prefix$1&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===prefix$1&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===prefix$1&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===prefix$1&&++e;return e},empty:function(){for(var e in this)if(e[0]===prefix$1)return!1;return!0},each:function(e){for(var t in this)t[0]===prefix$1&&e(this[t],t.slice(1),this)}};var proto=map$2.prototype;function set$b(e,t){var n=new Set;if(e instanceof Set)e.each(function(e){n.add(e)});else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}Set.prototype=set$b.prototype={constructor:Set,has:proto.has,add:function(e){return this[prefix$1+(e+="")]=e,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function customConverter(e,t){var n=objectConverter(e);return function(r,o){return t(n(r),o,e)}}function inferColumns(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function pad(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function formatYear(e){return e<0?"-"+pad(-e,6):e>9999?"+"+pad(e,6):pad(e,4)}function formatDate(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":formatYear(e.getUTCFullYear(),4)+"-"+pad(e.getUTCMonth()+1,2)+"-"+pad(e.getUTCDate(),2)+(o?"T"+pad(t,2)+":"+pad(n,2)+":"+pad(r,2)+"."+pad(o,3)+"Z":r?"T"+pad(t,2)+":"+pad(n,2)+":"+pad(r,2)+"Z":n||t?"T"+pad(t,2)+":"+pad(n,2)+"Z":"")}function dsvFormat(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],i=e.length,a=0,c=0,u=i<=0,f=!1;function s(){if(u)return EOF;if(f)return f=!1,EOL;var t,r,o=a;if(e.charCodeAt(o)===QUOTE){for(;a++<i&&e.charCodeAt(a)!==QUOTE||e.charCodeAt(++a)===QUOTE;);return(t=a)>=i?u=!0:(r=e.charCodeAt(a++))===NEWLINE?f=!0:r===RETURN&&(f=!0,e.charCodeAt(a)===NEWLINE&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if((r=e.charCodeAt(t=a++))===NEWLINE)f=!0;else if(r===RETURN)f=!0,e.charCodeAt(a)===NEWLINE&&++a;else if(r!==n)continue;return e.slice(o,t)}return u=!0,e.slice(o,i)}for(e.charCodeAt(i-1)===NEWLINE&&--i,e.charCodeAt(i-1)===RETURN&&--i;(r=s())!==EOF;){for(var l=[];r!==EOL&&r!==EOF;)l.push(r),r=s();t&&null==(l=t(l,c++))||o.push(l)}return o}function o(t,n){return t.map(function(t){return n.map(function(e){return a(t[e])}).join(e)})}function i(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?formatDate(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,i=r(e,function(e,r){if(n)return n(e,r-1);o=e,n=t?customConverter(e,t):objectConverter(e)});return i.columns=o||[],i},parseRows:r,format:function(t,n){return null==n&&(n=inferColumns(t)),[n.map(a).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=inferColumns(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(i).join("\n")},formatRow:i,formatValue:a}}var csv=dsvFormat(","),tsv=dsvFormat("\t"),fixtz=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function tree_add(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return add$9(this.cover(t,n),t,n,e)}function add$9(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,c,u,f,s,l,d,h=e._root,p={data:r},v=e._x0,b=e._y0,m=e._x1,g=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((f=t>=(i=(v+m)/2))?v=i:m=i,(s=n>=(a=(b+g)/2))?b=a:g=a,o=h,!(h=h[l=s<<1|f]))return o[l]=p,e;if(c=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===c&&n===u)return p.next=h,o?o[l]=p:e._root=p,e;do{o=o?o[l]=new Array(4):e._root=new Array(4),(f=t>=(i=(v+m)/2))?v=i:m=i,(s=n>=(a=(b+g)/2))?b=a:g=a}while((l=s<<1|f)==(d=(u>=a)<<1|c>=i));return o[d]=h,o[l]=p,e}function addAll(e){var t,n,r,o,i=e.length,a=new Array(i),c=new Array(i),u=1/0,f=1/0,s=-1/0,l=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,c[n]=o,r<u&&(u=r),r>s&&(s=r),o<f&&(f=o),o>l&&(l=o));if(u>s||f>l)return this;for(this.cover(u,f).cover(s,l),n=0;n<i;++n)add$9(this,a[n],c[n],e[n]);return this}function tree_cover(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,c,u=o-n,f=this._root;n>e||e>=o||r>t||t>=i;)switch(c=(t<r)<<1|e<n,(a=new Array(4))[c]=f,f=a,u*=2,c){case 0:o=n+u,i=r+u;break;case 1:n=o-u,i=r+u;break;case 2:o=n+u,r=i-u;break;case 3:n=o-u,r=i-u}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function tree_data(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}function tree_extent(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function tree_find(e,t,n){var r,o,i,a,c,u,f,s=this._x0,l=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new Quad(v,s,l,d,h)),null==n?n=1/0:(s=e-n,l=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(o=u.x0)>d||(i=u.y0)>h||(a=u.x1)<s||(c=u.y1)<l))if(v.length){var b=(o+a)/2,m=(i+c)/2;p.push(new Quad(v[3],b,m,a,c),new Quad(v[2],o,m,b,c),new Quad(v[1],b,i,a,m),new Quad(v[0],o,i,b,m)),(f=(t>=m)<<1|e>=b)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=u)}else{var g=e-+this._x.call(null,v.data),_=t-+this._y.call(null,v.data),y=g*g+_*_;if(y<n){var w=Math.sqrt(n=y);s=e-w,l=t-w,d=e+w,h=t+w,r=v.data}}return r}function tree_remove(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,c,u,f,s,l,d,h=this._root,p=this._x0,v=this._y0,b=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((f=i>=(c=(p+b)/2))?p=c:b=c,(s=a>=(u=(v+m)/2))?v=u:m=u,t=h,!(h=h[l=s<<1|f]))return this;if(!h.length)break;(t[l+1&3]||t[l+2&3]||t[l+3&3])&&(n=t,d=l)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[l]=o:delete t[l],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=o,this)}function removeAll(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function tree_root(){return this._root}function tree_size(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}function tree_visit(e){var t,n,r,o,i,a,c=[],u=this._root;for(u&&c.push(new Quad(u,this._x0,this._y0,this._x1,this._y1));t=c.pop();)if(!e(u=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&u.length){var f=(r+i)/2,s=(o+a)/2;(n=u[3])&&c.push(new Quad(n,f,s,i,a)),(n=u[2])&&c.push(new Quad(n,r,s,f,a)),(n=u[1])&&c.push(new Quad(n,f,o,i,s)),(n=u[0])&&c.push(new Quad(n,r,o,f,s))}return this}function tree_visitAfter(e){var t,n=[],r=[];for(this._root&&n.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,c=t.y0,u=t.x1,f=t.y1,s=(a+u)/2,l=(c+f)/2;(i=o[0])&&n.push(new Quad(i,a,c,s,l)),(i=o[1])&&n.push(new Quad(i,s,c,u,l)),(i=o[2])&&n.push(new Quad(i,a,l,s,f)),(i=o[3])&&n.push(new Quad(i,s,l,u,f))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function defaultX$1(e){return e[0]}function tree_x(e){return arguments.length?(this._x=e,this):this._x}function defaultY$1(e){return e[1]}function tree_y(e){return arguments.length?(this._y=e,this):this._y}function quadtree(e,t,n){var r=new Quadtree(null==t?defaultX$1:t,null==n?defaultY$1:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Quadtree(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function leaf_copy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var e,t,n=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=leaf_copy(t));return n},treeProto.add=tree_add,treeProto.addAll=addAll,treeProto.cover=tree_cover,treeProto.data=tree_data,treeProto.extent=tree_extent,treeProto.find=tree_find,treeProto.remove=tree_remove,treeProto.removeAll=removeAll,treeProto.root=tree_root,treeProto.size=tree_size,treeProto.visit=tree_visit,treeProto.visitAfter=tree_visitAfter,treeProto.x=tree_x,treeProto.y=tree_y;var initialAngle=Math.PI*(3-Math.sqrt(5));function formatDecimal(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function exponent$1(e){return(e=formatDecimal(Math.abs(e)))?e[1]:NaN}function formatGroup(e,t){return function(n,r){for(var o=n.length,i=[],a=0,c=e[0],u=0;o>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),i.push(n.substring(o-=c,o+c)),!((u+=c+1)>r));)c=e[a=(a+1)%e.length];return i.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function FormatSpecifier(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function formatTrim(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}function formatPrefixAuto(e,t){var n=formatDecimal(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+formatDecimal(e,Math.max(0,t+i-1))[0]}function formatRounded(e,t){var n=formatDecimal(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return formatRounded(100*e,t)},r:formatRounded,s:formatPrefixAuto,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function identity$9(e){return e}var locale,format,formatPrefix,map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(e){var t=void 0===e.grouping||void 0===e.thousands?identity$9:formatGroup(map$3.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",i=void 0===e.numerals?identity$9:formatNumerals(map$3.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function f(e){var f=(e=formatSpecifier(e)).fill,s=e.align,l=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,b=e.precision,m=e.trim,g=e.type;"n"===g?(v=!0,g="g"):formatTypes[g]||(void 0===b&&(b=12),m=!0,g="g"),(h||"0"===f&&"="===s)&&(h=!0,f="0",s="=");var _="$"===d?n:"#"===d&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===d?r:/[%p]/.test(g)?a:"",w=formatTypes[g],x=/[defgprs%]/.test(g);function T(e){var n,r,a,d=_,T=y;if("c"===g)T=w(e)+T,e="";else{var E=(e=+e)<0;if(e=isNaN(e)?u:w(Math.abs(e),b),m&&(e=formatTrim(e)),E&&0==+e&&(E=!1),d=(E?"("===l?l:c:"-"===l||"("===l?"":l)+d,T=("s"===g?prefixes[8+prefixExponent/3]:"")+T+(E&&"("===l?")":""),x)for(n=-1,r=e.length;++n<r;)if(48>(a=e.charCodeAt(n))||a>57){T=(46===a?o+e.slice(n+1):e.slice(n))+T,e=e.slice(0,n);break}}v&&!h&&(e=t(e,1/0));var A=d.length+e.length+T.length,S=A<p?new Array(p-A+1).join(f):"";switch(v&&h&&(e=t(S+e,S.length?p-T.length:1/0),S=""),s){case"<":e=d+e+T+S;break;case"=":e=d+S+e+T;break;case"^":e=S.slice(0,A=S.length>>1)+d+e+T+S.slice(A);break;default:e=S+d+e+T}return i(e)}return b=void 0===b?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),T.toString=function(){return e+""},T}return{format:f,formatPrefix:function(e,t){var n=f(((e=formatSpecifier(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(t)/3))),o=Math.pow(10,-r),i=prefixes[8+r/3];return function(e){return n(o*e)+i}}}}function defaultLocale(e){return locale=formatLocale(e),format=locale.format,formatPrefix=locale.formatPrefix,locale}function adder(){return new Adder}function Adder(){this.reset()}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add$a(temp,e,this.t),add$a(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add$a(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var pi$3=Math.PI,areaRingSum=adder(),areaSum=adder(),deltaSum=adder(),sum$1=adder(),lengthSum=adder(),areaSum$1=adder(),areaRingSum$1=adder(),lengthSum$1=adder(),t0$1=new Date,t1$1=new Date;function newInterval(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,c=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return c;do{c.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return c},o.filter=function(n){return newInterval(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,r){return t0$1.setTime(+t),t1$1.setTime(+r),e(t0$1),e(t1$1),Math.floor(n(t0$1,t1$1))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var millisecond=newInterval(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});millisecond.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?newInterval(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):millisecond:null};var durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,second=newInterval(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*durationSecond)},function(e,t){return(t-e)/durationSecond},function(e){return e.getUTCSeconds()}),minute=newInterval(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)},function(e,t){e.setTime(+e+t*durationMinute)},function(e,t){return(t-e)/durationMinute},function(e){return e.getMinutes()}),hour=newInterval(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)},function(e,t){e.setTime(+e+t*durationHour)},function(e,t){return(t-e)/durationHour},function(e){return e.getHours()}),day=newInterval(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay},function(e){return e.getDate()-1});function weekday(e){return newInterval(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),month=newInterval(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),year=newInterval(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});year.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var utcMinute=newInterval(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*durationMinute)},function(e,t){return(t-e)/durationMinute},function(e){return e.getUTCMinutes()}),utcHour=newInterval(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*durationHour)},function(e,t){return(t-e)/durationHour},function(e){return e.getUTCHours()}),utcDay=newInterval(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/durationDay},function(e){return e.getUTCDate()-1});function utcWeekday(e){return newInterval(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/durationWeek})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcMonth=newInterval(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),utcYear=newInterval(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale$1(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,c=e.months,u=e.shortMonths,f=formatRe(o),s=formatLookup(o),l=formatRe(i),d=formatLookup(i),h=formatRe(a),p=formatLookup(a),v=formatRe(c),b=formatLookup(c),m=formatRe(u),g=formatLookup(u),_={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},y={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return c[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=b[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.p=s[r[0].toLowerCase()],n+r[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function x(e,t){return function(n){var r,o,i,a=[],c=-1,u=0,f=e.length;for(n instanceof Date||(n=new Date(+n));++c<f;)37===e.charCodeAt(c)&&(a.push(e.slice(u,c)),null!=(o=pads[r=e.charAt(++c)])?r=e.charAt(++c):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),u=c+1);return a.push(e.slice(u,c)),a.join("")}}function T(e,t){return function(n){var r,o,i=newDate(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!t||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=utcDate(newDate(i.y,0,1))).getUTCDay(),r=o>4||0===o?utcMonday.ceil(r):utcMonday(r),r=utcDay.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=localDate(newDate(i.y,0,1))).getDay(),r=o>4||0===o?monday.ceil(r):monday(r),r=day.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?utcDate(newDate(i.y,0,1)).getUTCDay():localDate(newDate(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,utcDate(i)):localDate(i)}}function E(e,t,n,r){for(var o,i,a=0,c=t.length,u=n.length;a<c;){if(r>=u)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in pads?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(t,_),y.x=x(n,y),y.X=x(r,y),y.c=x(t,y),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=T(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=T(e+="",!0);return t.toString=function(){return e},t}}}utcYear.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var locale$1,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function parseWeekdayNumberSunday(e,t,n){var r=numberRe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var r=numberRe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function parseFullYear(e,t,n){var r=numberRe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function parseYear(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseQuarter(e,t,n){var r=numberRe.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function parseMonthNumber(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function parseDayOfYear(e,t,n){var r=numberRe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function parseHour24(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function parseMinutes(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function parseSeconds(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function parseMilliseconds(e,t,n){var r=numberRe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function parseMicroseconds(e,t,n){var r=numberRe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(e,t,n){var r=percentRe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(e,t,n){var r=numberRe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var r=numberRe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function formatDayOfMonth(e,t){return pad$1(e.getDate(),t,2)}function formatHour24(e,t){return pad$1(e.getHours(),t,2)}function formatHour12(e,t){return pad$1(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad$1(1+day.count(year(e),e),t,3)}function formatMilliseconds(e,t){return pad$1(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad$1(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad$1(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad$1(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return 0===t?7:t}function formatWeekNumberSunday(e,t){return pad$1(sunday.count(year(e)-1,e),t,2)}function formatWeekNumberISO(e,t){var n=e.getDay();return e=n>=4||0===n?thursday(e):thursday.ceil(e),pad$1(thursday.count(year(e),e)+(4===year(e).getDay()),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad$1(monday.count(year(e)-1,e),t,2)}function formatYear$1(e,t){return pad$1(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad$1(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad$1(t/60|0,"0",2)+pad$1(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad$1(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad$1(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad$1(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad$1(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad$1(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad$1(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad$1(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad$1(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(e,t){return pad$1(utcSunday.count(utcYear(e)-1,e),t,2)}function formatUTCWeekNumberISO(e,t){var n=e.getUTCDay();return e=n>=4||0===n?utcThursday(e):utcThursday.ceil(e),pad$1(utcThursday.count(utcYear(e),e)+(4===utcYear(e).getUTCDay()),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad$1(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad$1(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad$1(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}function defaultLocale$1(e){return locale$1=formatLocale$1(e),timeFormat=locale$1.format,timeParse=locale$1.parse,utcFormat=locale$1.utcFormat,utcParse=locale$1.utcParse,locale$1}defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(e){return e.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);function parseIsoNative(e){var t=new Date(e);return isNaN(t)?null:t}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier);function colors(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function ramp(e){return rgbBasis(e[e.length-1])}colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);ramp(scheme);var scheme$1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);ramp(scheme$1);var scheme$2=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);ramp(scheme$2);var scheme$3=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);ramp(scheme$3);var scheme$4=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);ramp(scheme$4);var scheme$5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);ramp(scheme$5);var scheme$6=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);ramp(scheme$6);var scheme$7=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);ramp(scheme$7);var scheme$8=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);ramp(scheme$8);var scheme$9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);ramp(scheme$9);var scheme$a=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);ramp(scheme$a);var scheme$b=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);ramp(scheme$b);var scheme$c=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);ramp(scheme$c);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);ramp(scheme$d);var scheme$e=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);ramp(scheme$e);var scheme$f=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);ramp(scheme$f);var scheme$g=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);ramp(scheme$g);var scheme$h=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);ramp(scheme$h);var scheme$i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);ramp(scheme$i);var scheme$j=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);ramp(scheme$j);var scheme$k=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);ramp(scheme$k);var scheme$l=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);ramp(scheme$l);var scheme$m=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);ramp(scheme$m);var scheme$n=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);ramp(scheme$n);var scheme$o=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);ramp(scheme$o);var scheme$p=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);ramp(scheme$p);var scheme$q=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);ramp(scheme$q),cubehelixLong(cubehelix(300,.5,0),cubehelix(-240,.5,1));var warm=cubehelixLong(cubehelix(-100,.75,.35),cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix(260,.75,.35),cubehelix(80,1.5,.8)),c=cubehelix(),c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function ramp$1(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}ramp$1(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp$1(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp$1(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp$1(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),pi$4=Math.PI;function sign$1(e){return e<0?-1:1}function slope3(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),c=(i*o+a*r)/(r+o);return(sign$1(i)+sign$1(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(c))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$5(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,c=(i-r)/3;e._context.bezierCurveTo(r+c,o+c*t,i-c,a-c*n,i,a)}function MonotoneX(e){this._context=e}function MonotoneY(e){this._context=new ReflectContext(e)}function ReflectContext(e){this._context=e}function createDrawLines(e,t){let n=t.attributes;var r=1;return r>e.limits.lineWidthDims[1]&&(r=e.limits.lineWidthDims[1]),e({frag:"\n      precision mediump float;\n      varying vec3 v_color;\n      varying vec3 wow;\n      uniform float opacity;\n\n\n      void main() {\n        gl_FragColor = vec4(v_color + wow, .9);\n      }",vert:"\n      varying vec3 v_color;\n\n      precision mediump float;\n      attribute vec2 position;\n      attribute vec3 color;\n\n      uniform mat4 projection, view;\n\n      uniform float scale;\n      uniform vec2 offset;\n      uniform float tick;\n      uniform float phase;\n\n      uniform float freq;\n      attribute float dates;\n\n      varying vec3 wow;\n      uniform vec2 selection;\n\n      void main() {\n        vec2 p  = position;\n\n        if (selection.x < dates && dates < selection.y )\n        wow = vec3(1);\n\n        v_color = color;\n\n        // translate\n        p += offset;\n        gl_PointSize = .5;\n        gl_Position = projection * view * vec4(p, 0, 1);\n      }",blend:{enable:!1,func:{srcRGB:"src alpha",srcAlpha:"src alpha",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:n,uniforms:{scale:1,offset:[0,0],phase:0,freq:.01,opacity:.5,selection:()=>window.getAdnan?window.getAdnan():[1,1],view:()=>window.getView(),projection:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},lineWidth:r,count:n.position.length/4,primitive:"lines"})}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$5(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$5(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$5(this,this._t0,n=slope3(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)},ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}};const FRAGMENT_SHADER$1="\nprecision mediump float;\n\nuniform sampler2D texture;\n\nvarying vec2 uv;\n\nvoid main () {\n  gl_FragColor = texture2D(texture, uv);\n}\n",VERTEX_SHADER$1="\nprecision mediump float;\n\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\nvoid main () {\n  uv = position;\n  gl_Position = projection * view * model * vec4(1.0 - 2.0 * position, 0, 1);\n}\n",FRAGMENT_SHADER$2="\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\nuniform vec2 selection;\n\nvarying vec4 color;\n\nvoid main() {\n  float r = 0.0, delta = 0.0, alpha = 1.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n\n  #ifdef GL_OES_standard_derivatives\n    delta = fwidth(r);\n    alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n  #endif\n\n  gl_FragColor = vec4(color.rgb, alpha * color.a);\n}\n",VERTEX_SHADER$2='\nprecision mediump float;\n\nuniform sampler2D colorTex;\nuniform float colorTexRes;\nuniform sampler2D stateTex;\nuniform float stateTexRes;\nuniform float pointSize;\nuniform float pointSizeExtra;\nuniform float numPoints;\nuniform float globalState;\nuniform float isColoredByCategory;\nuniform float isColoredByValue;\nuniform float maxColor;\nuniform float numColorStates;\nuniform float scaling;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute float stateIndex;\n\n// variables to send to the fragment shader\nvarying vec4 color;\n\nvoid main() {\n  // First get the state\n  float eps = 0.5 / stateTexRes;\n  float stateRowIndex = floor((stateIndex + eps) / stateTexRes);\n  vec2 stateTexIndex = vec2(\n    (stateIndex / stateTexRes) - stateRowIndex + eps,\n    stateRowIndex / stateTexRes\n  );\n\n  vec4 state = texture2D(stateTex, stateTexIndex);\n\n  gl_Position = projection * view * model * vec4(state.x, state.y, 0.0, 1.0);\n\n  // Determine color index\n  float colorIndexCat = state.z * isColoredByCategory;\n  float colorIndexVal = floor(state.w * maxColor) * isColoredByValue;\n  float colorIndex = colorIndexCat + colorIndexVal;\n  // Multiply by the number of color states per color\n  // I.e., normal, active, hover, background, etc.\n  colorIndex *= numColorStates;\n  // Half a "pixel" or "texel" in texture coordinates\n  eps = 0.5 / colorTexRes;\n  float colorLinearIndex = colorIndex + globalState;\n  // Need to add cEps here to avoid floating point issue that can lead to\n  // dramatic changes in which color is loaded as floor(3/2.9) = 1 but\n  // floor(3/3.0001) = 0!\n  float colorRowIndex = floor((colorLinearIndex + eps) / colorTexRes);\n\n  vec2 colorTexIndex = vec2(\n    (colorLinearIndex / colorTexRes) - colorRowIndex + eps,\n    colorRowIndex / colorTexRes\n  );\n\n  color = texture2D(colorTex, colorTexIndex);\n\n  // The final scaling consists of linear scaling in [0, 1] and log scaling\n  // in [1, [\n  float finalScaling = min(1.0, scaling) + log2(max(1.0, scaling));\n\n  gl_PointSize = pointSize * finalScaling + pointSizeExtra;\n}\n',COLOR_ACTIVE_IDX=1,COLOR_BG_IDX=3,COLOR_HOVER_IDX=2,COLOR_NORMAL_IDX=0,COLOR_NUM_STATES=4,FLOAT_BYTES$1=Float32Array.BYTES_PER_ELEMENT,GL_EXTENSIONS=["OES_standard_derivatives","OES_texture_float"],LASSO_MIN_DELAY=15,LASSO_MIN_DIST=4,DEFAULT_DATA_ASPECT_RATIO=1,DEFAULT_WIDTH=100,DEFAULT_HEIGHT=100,DEFAULT_POINT_SIZE=30,DEFAULT_POINT_SIZE_SELECTED=2,DEFAULT_POINT_OUTLINE_WIDTH=2,DEFAULT_COLOR_BY=null,DEFAULT_COLOR_NORMAL=[.66,.66,.66,1],DEFAULT_COLOR_ACTIVE=[0,.55,1,1],DEFAULT_COLOR_HOVER=[1,1,1,1],DEFAULT_COLOR_BG=[0,0,0,1],DEFAULT_COLORS=[DEFAULT_COLOR_NORMAL,DEFAULT_COLOR_ACTIVE,DEFAULT_COLOR_HOVER,DEFAULT_COLOR_BG],DEFAULT_TARGET=[0,0],DEFAULT_DISTANCE=1,DEFAULT_ROTATION=0,DEFAULT_VIEW=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),DEFAULT_BACKGROUND_IMAGE=null,DEFAULT_LASSO_COLOR=[0,.666666667,1,1],DEFAULT_SHOW_RECTICLE=!1,DEFAULT_RECTICLE_COLOR=[1,1,1,.5],arrayMax=(e,t)=>e>t?e:t,checkReglExtensions=e=>!!e&&GL_EXTENSIONS.reduce((t,n)=>e.hasExtension(n)?t:(console.warn(`WebGL: ${n} extension not supported. Scatterplot might not render properly`),!1),!0),createRegl=e=>{const t=e.getContext("webgl"),n=[];return GL_EXTENSIONS.forEach(e=>{t.getExtension(e)?n.push(e):console.warn(`WebGL: ${e} extension not supported. Scatterplot might not render properly`)}),createOriginalRegl({gl:t,extensions:n})},dist$3=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),getBBox=e=>{let t=1/0,n=-1/0,r=1/0,o=-1/0;for(let i=0;i<e.length;i+=2)t=e[i]<t?e[i]:t,n=e[i]>n?e[i]:n,r=e[i+1]<r?e[i+1]:r,o=e[i+1]>o?e[i+1]:o;return[t,r,n,o]},hexToRgb=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,r)=>`#${t}${t}${n}${n}${r}${r}`).substring(1).match(/.{2}/g).map(e=>parseInt(e,16)/255**t),loadImage=(e,t=!1)=>new Promise((n,r)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=(()=>{n(o)}),o.onerror=(e=>{r(e)})}),createTextureFromUrl=(e,t,n=!1)=>new Promise((r,o)=>{loadImage(t,n).then(t=>{r(e.texture(t))}).catch(e=>{o(e)})}),hexToRgba=(e,t=!1)=>[...hexToRgb(e,t),255**!t],isHex=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),isNormFloat=e=>e>=0&&e<=1,isNormFloatArray=e=>Array.isArray(e)&&e.every(isNormFloat),isPointInPolygon=([e,t]=[],n)=>{let r,o,i,a,c=!1;for(let u=0,f=n.length-2;u<n.length;u+=2)r=n[u],o=n[u+1],i=n[f],o>t!=(a=n[f+1])>t&&e<(i-r)*(t-o)/(a-o)+r&&(c=!c),f=u;return c},isUint8=e=>Number.isInteger(e)&&e>=0&&e<=255,isUint8Array=e=>Array.isArray(e)&&e.every(isUint8),isRgb=e=>3===e.length&&(isNormFloatArray(e)||isUint8Array(e)),isRgba=e=>4===e.length&&(isNormFloatArray(e)||isUint8Array(e)),max$6=(e,t)=>e>t?e:t,min$5=(e,t)=>e<t?e:t,normNumArray=e=>e.map(t=>t/e.reduce(arrayMax,-1/0)),toRgba=(e,t)=>isRgba(e)?t&&!isNormFloatArray(e)?normNumArray(e):e:isRgb(e)?[...t?normNumArray(e):e,255**!t]:isHex(e)?hexToRgba(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255]),createScatterplot=({regl:e,background:t=DEFAULT_COLOR_BG,backgroundImage:n=null,canvas:r=document.createElement("canvas"),colorBy:o=null,colors:i=DEFAULT_COLORS,lassoColor:a=DEFAULT_LASSO_COLOR,lassoMinDelay:c=15,lassoMinDist:u=4,showRecticle:f=!1,recticleColor:s=DEFAULT_RECTICLE_COLOR,pointSize:l=30,pointSizeSelected:d=2,pointOutlineWidth:h=2,width:p=100,height:v=100,target:b=DEFAULT_TARGET,distance:m=1,rotation:g=0,view:_=DEFAULT_VIEW,drawLines:y}={})=>{const w=createPubSub(),x=new Float32Array(16),T=[0,0];checkReglExtensions(e);let E,A,S,$,R,M,C,N,L,D,k,I,O,F,U,P,j=toRgba(t,!0),W=n,Y=r,H=i,z=p,B=v,V=l,q=d,G=h,X=e||createRegl(r),Z=!1,Q=!1,K=[0,0],J=0,ee=[],te=toRgba(a,!0),ne=+c,re=+u,oe=[],ie=[],ae=1,ce=f,ue=toRgba(s,!0),fe=0,se=0,le=o,de=!1,he=!1,pe=1,ve=!1;const be=e=>e/z*2-1,me=e=>1+e/B*-2,ge=()=>[be(T[0]),me(T[1])],_e=()=>{const[e,t]=ge(),n=[e,t,1,1];return transformMat4$1(n,n,invert$3(x,multiply$3(x,C,multiply$3(x,E.view,N)))),n.slice(0,2)},ye=()=>{const[e,t]=_e(),n=E.scaling,r=2*V*(min$5(1,n)+Math.log2(max$6(1,n)))*window.devicePixelRatio,o=r/z,i=r/B,a=R.range(e-o,t-i,e+o,t+i);let c,u=r;return a.forEach(n=>{const[r,o]=R.points[n],i=dist$3(r,o,e,t);i<u&&(u=i,c=n)}),u<V/z*2?c:-1},we=()=>{const e=(()=>T.slice())();if($){dist$3(...e,...$)>re&&(oe.push(...ge()),ie.push(..._e()),$=e,oe.length>2&&A.setPoints(oe))}else oe.push(...ge()),ie.push(..._e()),$=e};let xe=throttle(we,ne,!0);const Te=()=>{ee.length&&(w.publish("deselect"),ee=[],tt())},Ee=e=>{ee=e,O({usage:"dynamic",type:"float",data:new Float32Array(ee)}),w.publish("select",{points:ee}),tt()},Ae=e=>{const t=Y.getBoundingClientRect();return T[0]=e.clientX-t.left,T[1]=e.clientY-t.top,[...T]},Se=()=>{const e=(e=>{const t=getBBox(e),n=R.range(...t),r=[];return n.forEach(t=>{isPointInPolygon(R.points[t],e)&&r.push(t)}),r})(ie);Ee(e),oe=[],ie=[],$=void 0,A.clear()},$e=e=>{he&&(Z=!0,K=Ae(e),(Q=e.shiftKey)&&E.config({isFixed:!0}))},Re=()=>{he&&(Z=!1,Q&&(Q=!1,E.config({isFixed:!1}),Se()))},Me=e=>{if(!he)return;const t=Ae(e);if(dist$3(...t,...K)>=4)return;const n=ye();n>=0&&Ee([n])},Ce=()=>{Te()},Ne=e=>{if(he){if(Ae(e),ve&&!Q){const e=ye();ot(e)}Q&&xe(),Z&&tt()}},Le=()=>{he&&(P=void 0,ve=!1,Re(),tt())},De=(e=H)=>{const t=e.length;se=Math.max(2,Math.ceil(Math.sqrt(t)));const n=new Float32Array(se**2*4);return e.forEach((e,t)=>{n[4*t]=e[0],n[4*t+1]=e[1],n[4*t+2]=e[2],n[4*t+3]=t%4>0||1===pe?e[3]:pe}),X.texture({data:n,shape:[se,se,4],type:"float"})},ke=()=>{C=fromScaling$3([],[1/(M=z/B),1,1]),N=fromScaling$3([],[ae,1,1])},Ie=()=>U,Oe=()=>se,Fe=()=>O,Ue=()=>V*window.devicePixelRatio,Pe=()=>0,je=()=>k,We=()=>fe,Ye=()=>C;window.getView=(()=>E.view);const He=()=>N,ze=()=>E.scaling,Be=()=>1*("category"===le),Ve=()=>1*("value"===le),qe=()=>H.length/4-1,Ge=()=>4,Xe=(e,t,n,r=0)=>X({frag:FRAGMENT_SHADER$2,vert:VERTEX_SHADER$2,blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:n,size:1}},uniforms:{projection:Ye,model:He,view:getView,scaling:ze,pointSize:Ue,pointSizeExtra:e,globalState:r,colorTex:Ie,colorTexRes:Oe,stateTex:je,stateTexRes:We,isColoredByCategory:Be,isColoredByValue:Ve,maxColor:qe,numColorStates:Ge},count:t,primitive:"points"}),Ze=Xe(Pe,()=>J,()=>I),Qe=Xe(Pe,()=>1,()=>F,2),Ke=X({frag:FRAGMENT_SHADER$1,vert:VERTEX_SHADER$1,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{projection:Ye,model:He,view:getView,texture:()=>W},count:6}),Je=e=>{const t=new Float32Array(e);for(let n=0;n<e;++n)t[n]=n;return t},et=e=>{he=!1,J=e.length,k=(e=>{const t=e.length;fe=Math.max(2,Math.ceil(Math.sqrt(t)));const n=new Float32Array(fe**2*4);for(let r=0;r<t;++r)n[4*r]=e[r][0],n[4*r+1]=e[r][1],n[4*r+2]=e[r][2]||0,n[4*r+3]=e[r][3]||0;return X.texture({data:n,shape:[fe,fe,4],type:"float"})})(e),I({usage:"static",type:"float",data:Je(J)}),R=new KDBush(e,e=>e[0],e=>e[1],16),he=!0},tt=withRaf((e,t)=>{e&&et(e),he&&(X.clear({color:[0,0,0,0],depth:1}),de=E.tick(),W&&Ke(),y({view:getView(),projection:getView()}),Ze(),Z||!ce&&!t||(()=>{if(!(P>=0))return;const[e,t]=R.points[P].slice(0,2),n=[e,t,0,1];multiply$3(x,C,multiply$3(x,E.view,N)),transformMat4$1(n,n,x),L.setPoints([-1,n[1],1,n[1]]),D.setPoints([n[0],1,n[0],-1]),L.draw(),D.draw(),Xe(()=>(q+2*G)*window.devicePixelRatio,()=>1,F,1)(),Xe(()=>(q+G)*window.devicePixelRatio,()=>1,F,3)()})(),P>=0&&Qe(),ee.length&&(()=>{const e=ee.length;Xe(()=>(q+2*G)*window.devicePixelRatio,()=>e,Fe,1)(),Xe(()=>(q+G)*window.devicePixelRatio,()=>e,Fe,3)(),Xe(()=>q,()=>e,Fe,1)()})(),A.draw(),de&&w.publish("view",E.view))}),nt=()=>{X.poll()},rt=({background:e=null,backgroundImage:t=W,colorBy:n=le,colors:r=null,opacity:o=null,lassoColor:i=null,lassoMinDelay:a=null,lassoMinDist:c=null,showRecticle:u=null,recticleColor:f=null,pointOutlineWidth:s=null,pointSize:l=null,pointSizeSelected:d=null,height:h=null,width:p=null,aspectRatio:v=null}={})=>{(e=>{e&&(j=toRgba(e,!0))})(e),(e=>{W=e||null})(t),(e=>{switch(e){case"category":le="category";break;case"value":le="value";break;default:le=null}})(n),(e=>{if(!e||!e.length)return;const t=[];try{e.forEach(e=>{if(!Array.isArray(e)||isRgb(e)||isRgba(e)){const n=toRgba(e,!0),r=[...n.slice(0,3),1];t.push(n,r,r)}else for(let n=0;n<3;n++)t.push(toRgba(e[n],!0));t.push(j)})}catch(e){console.error(e,"Invalid format. Please specify an array of colors or a nested array of accents per colors.")}H=t;try{U=De()}catch(e){H=DEFAULT_COLORS,U=De(),console.error("Invalid colors. Switching back to default colors.")}})(r),(e=>{!+e||+e<=0||(pe=+e,U=De())})(o),(e=>{e&&(te=toRgba(e,!0),A.setStyle({color:te}))})(i),(e=>{+e&&(xe=throttle(we,ne=+e,!0))})(a),(e=>{+e&&(re=+e)})(c),(e=>{null!==e&&(ce=e)})(u),(e=>{e&&(ue=toRgba(e,!0),L.setStyle({color:ue}),D.setStyle({color:ue}))})(f),(e=>{!+e||+e<0||(G=+e)})(s),(e=>{!+e||+e<=0||(V=+e)})(l),(e=>{!+e||+e<0||(q=+e)})(d),(e=>{!+e||+e<=0||(B=+e,Y.height=B*window.devicePixelRatio)})(h),(e=>{!+e||+e<=0||(z=+e,Y.width=z*window.devicePixelRatio)})(p),(e=>{+e<=0||(ae=e)})(v),ke(),E.refresh(),nt(),tt()},ot=(e,t=!1)=>{let n=!1;if(e>=0){n=!0;const t=e!==P;P=e,F.subdata([e]),t&&w.publish("pointover",P)}else n=P,P=void 0,+n>=0&&w.publish("pointout",n);n&&tt(null,t)},it=({key:e})=>{switch(e){case"Escape":Te()}},at=()=>{ve=!0},ct=()=>{ot(),ve=!1,tt()};return ke(),E=canvas2dCamera(Y),_?E.set(clone$3(_)):E.lookAt([...b],m,g),A=createLine(X,{color:te,width:3,is2d:!0}),L=createLine(X,{color:ue,width:1,is2d:!0}),D=createLine(X,{color:ue,width:1,is2d:!0}),(S=scrollSpeed(Y)).on("scroll",()=>{tt()}),I=X.buffer(),O=X.buffer(),F=X.buffer({usage:"dynamic",type:"float",length:FLOAT_BYTES$1}),U=De(),rt({width:z,height:B}),window.addEventListener("keyup",it,!1),window.addEventListener("blur",Le,!1),window.addEventListener("mousedown",$e,!1),window.addEventListener("mouseup",Re,!1),window.addEventListener("mousemove",Ne,!1),Y.addEventListener("mouseenter",at,!1),Y.addEventListener("mouseleave",ct,!1),Y.addEventListener("click",Me,!1),Y.addEventListener("dblclick",Ce,!1),{deselect:Te,destroy:()=>{window.removeEventListener("keyup",it,!1),window.removeEventListener("blur",Le,!1),window.removeEventListener("mousedown",$e,!1),window.removeEventListener("mouseup",Re,!1),window.removeEventListener("mousemove",Ne,!1),Y.removeEventListener("mouseenter",at,!1),Y.removeEventListener("mouseleave",ct,!1),Y.removeEventListener("click",Me,!1),Y.removeEventListener("dblclick",Ce,!1),Y=void 0,E=void 0,X=void 0,A.destroy(),S.dispose(),w.clear()},draw:tt,get:e=>"background"===e?j:"backgroundImage"===e?W:"colorBy"===e?le:"colors"===e?H:"lassoColor"===e?te:"showRecticle"===e?ce:"recticleColor"===e?ue:"opacity"===e?pe:"pointOutlineWidth"===e?G:"pointSize"===e?V:"pointSizeSelected"===e?q:"width"===e?z:"height"===e?B:"aspectRatio"===e?ae:"canvas"===e?Y:"regl"===e?X:"version"===e?"0.0.7":void 0,hover:ot,refresh:nt,reset:(e=>(...t)=>{const n=e(...t);return tt(),n})(()=>{_?E.set(clone$3(_)):E.lookAt([...b],m,g),w.publish("view",E.view)}),select:Ee,set:rt,subscribe:w.subscribe,unsubscribe:w.unsubscribe}};let clip$1=e=>e/4e3,processKMeans=e=>{console.log(e);let t=new Array(4*e.edges.length).fill(0);e.edges.forEach((n,r)=>{t[4*r]=clip$1(e.nodes[n.source].x),t[4*r+1]=clip$1(e.nodes[n.source].y),t[4*r+2]=clip$1(e.nodes[n.target].x),t[4*r+3]=clip$1(e.nodes[n.target].y)});let n=e.edges.map((t,n)=>+e.nodes[t.source].attributes.date),r=lodash.flatten(e.edges.map(t=>{let n=color(e.nodes[t.source].color);return[n.r/255,n.g/255,n.b/255]})),o=r.map((e,t)=>t/r.length);return{position:t,color:r,dates:n,fboColor:o}},init$1=e=>{console.log(createRegl),e.regl=createRegl(e.canvas),e.attributes=processKMeans(e.data),console.log(e.attributes),e.width=1e3,e.height=1e3,e.pointSize=20,e.drawLines=createDrawLines(e.regl,e);const t=createScatterplot(e);t.set({background:"#00ff00"}),console.log("yay");const n=e.data.nodes.map(e=>[e.x/4e3,e.y/4e3,123,"#000000"]);return t.draw(n),t};var index$4={init:init$1};export default index$4;export{createRegl,createTextureFromUrl};
