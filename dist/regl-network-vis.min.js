!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("pub-sub-es"),require("regl")):"function"==typeof define&&define.amd?define(["exports","pub-sub-es","regl"],n):n(t.createScatterplot={},t.createPubSub,t.createREGL)}(this,function(t,n,e){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n,e=e&&e.hasOwnProperty("default")?e.default:e;var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function o(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function u(t){var n=new i(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function a(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],u=n[4],a=n[5],c=n[6],f=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],g=n[14],_=n[15],y=e*a-r*u,m=e*c-i*u,b=e*f-o*u,w=r*c-i*a,x=r*f-o*a,M=i*f-o*c,A=s*v-l*p,S=s*g-h*p,E=s*_-d*p,T=l*g-h*v,C=l*_-d*v,k=h*_-d*g,j=y*k-m*C+b*T+w*E-x*S+M*A;return j?(j=1/j,t[0]=(a*k-c*C+f*T)*j,t[1]=(i*C-r*k-o*T)*j,t[2]=(v*M-g*x+_*w)*j,t[3]=(h*x-l*M-d*w)*j,t[4]=(c*E-u*k-f*S)*j,t[5]=(e*k-i*E+o*S)*j,t[6]=(g*b-p*M-_*m)*j,t[7]=(s*M-h*b+d*m)*j,t[8]=(u*C-a*E+f*A)*j,t[9]=(r*E-e*C-o*A)*j,t[10]=(p*x-v*b+_*y)*j,t[11]=(l*b-s*x-d*y)*j,t[12]=(a*S-u*T-c*A)*j,t[13]=(e*T-r*S+i*A)*j,t[14]=(v*m-p*w-g*y)*j,t[15]=(s*w-l*m+h*y)*j,t):null}function c(t,n,e){var r=n[0],i=n[1],o=n[2],u=n[3],a=n[4],c=n[5],f=n[6],s=n[7],l=n[8],h=n[9],d=n[10],p=n[11],v=n[12],g=n[13],_=n[14],y=n[15],m=e[0],b=e[1],w=e[2],x=e[3];return t[0]=m*r+b*a+w*l+x*v,t[1]=m*i+b*c+w*h+x*g,t[2]=m*o+b*f+w*d+x*_,t[3]=m*u+b*s+w*p+x*y,m=e[4],b=e[5],w=e[6],x=e[7],t[4]=m*r+b*a+w*l+x*v,t[5]=m*i+b*c+w*h+x*g,t[6]=m*o+b*f+w*d+x*_,t[7]=m*u+b*s+w*p+x*y,m=e[8],b=e[9],w=e[10],x=e[11],t[8]=m*r+b*a+w*l+x*v,t[9]=m*i+b*c+w*h+x*g,t[10]=m*o+b*f+w*d+x*_,t[11]=m*u+b*s+w*p+x*y,m=e[12],b=e[13],w=e[14],x=e[15],t[12]=m*r+b*a+w*l+x*v,t[13]=m*i+b*c+w*h+x*g,t[14]=m*o+b*f+w*d+x*_,t[15]=m*u+b*s+w*p+x*y,t}function f(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function s(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function h(t,n,e){var r=new i(3);return r[0]=t,r[1]=n,r[2]=e,r}function d(t,n,e){var r=n[0],i=n[1],o=n[2],u=e[0],a=e[1],c=e[2];return t[0]=i*c-o*a,t[1]=o*u-r*c,t[2]=r*a-i*u,t}var p,v=function(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)};p=l();function g(t,n,e){var r=n[0],i=n[1],o=n[2],u=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*u,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*u,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*u,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*u,t}!function(){var t,n=(t=new i(4),i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function _(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function y(t,n,e,i){var o=n[0],u=n[1],a=n[2],c=n[3],f=e[0],s=e[1],l=e[2],h=e[3],d=void 0,p=void 0,v=void 0,g=void 0,_=void 0;return(p=o*f+u*s+a*l+c*h)<0&&(p=-p,f=-f,s=-s,l=-l,h=-h),1-p>r?(d=Math.acos(p),v=Math.sin(d),g=Math.sin((1-i)*d)/v,_=Math.sin(i*d)/v):(g=1-i,_=i),t[0]=g*o+_*f,t[1]=g*u+_*s,t[2]=g*a+_*l,t[3]=g*c+_*h,t}var m,b,w,x,M,A,S,E=function(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],u=e*e+r*r+i*i+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=e*u,t[1]=r*u,t[2]=i*u,t[3]=o*u),t};m=l(),b=h(1,0,0),w=h(0,1,0),x=_(),M=_(),A=new i(9),i!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,S=A;!function(){var t,n=(t=new i(2),i!=Float32Array&&(t[0]=0,t[1]=0),t)}();const T=[0,0,0,1],C=(t=[0,0],n=1,e=0)=>{const i=new Float32Array(16),u=new Float32Array(16),l=new Float32Array(16);let h=o();const d=()=>(function(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],u=n[5],a=n[6],c=n[8],f=n[9],s=n[10];return t[0]=Math.sqrt(e*e+r*r+i*i),t[1]=Math.sqrt(o*o+u*u+a*a),t[2]=Math.sqrt(c*c+f*f+s*s),t})(i,h)[0],p=([t=0,n=0]=[],e=1,r=0)=>{h=o(),v([-t,-n]),y(r),_(1/e)},v=([t=0,n=0]=[])=>{i[0]=t,i[1]=n,i[2]=0;const e=f(u,i);c(h,e,h)},_=(t,n)=>{if(t<=0)return;i[0]=t,i[1]=t,i[2]=1;const e=s(u,i),r=n?[...n,0]:T,o=f(i,r);c(h,o,c(h,e,c(h,a(l,o),h)))},y=t=>{const n=o();!function(t,n,e){var i,o,u,a=e[0],c=e[1],f=e[2],s=Math.sqrt(a*a+c*c+f*f);s<r||(a*=s=1/s,c*=s,f*=s,i=Math.sin(n),u=1-(o=Math.cos(n)),t[0]=a*a*u+o,t[1]=c*a*u+f*i,t[2]=f*a*u-c*i,t[3]=0,t[4]=a*c*u-f*i,t[5]=c*c*u+o,t[6]=f*c*u+a*i,t[7]=0,t[8]=a*f*u+c*i,t[9]=c*f*u-a*i,t[10]=f*f*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1)}(n,t,[0,0,1]),c(h,n,h)};return p(t,n,e),{get translation(){return(()=>(function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t})(i,h).slice(0,2))()},get target(){return(()=>g(i,T,a(l,h)))()},get scaling(){return d()},get distance(){return(()=>1/d())()},get rotation(){return(()=>Math.acos(h[0]))()},get view(){return(()=>h)()},lookAt:p,translate:v,pan:v,rotate:y,scale:_,zoom:_,reset:()=>{p(t,n,e)},set:t=>{!t||t.length<16||(h=t)}}},k={},j=()=>{Object.keys(k).forEach(t=>{k[t]=!1})};function L(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}j(),window.addEventListener("keydown",({key:t})=>{k[t]=!0},!1),window.addEventListener("keyup",({key:t})=>{k[t]=!1},!1),window.addEventListener("blur",j,!1);var N=L;function P(t){return"function"==typeof t}function D(t){return"object"==typeof t&&null!==t}function R(t){return void 0===t}L.EventEmitter=L,L.prototype._events=void 0,L.prototype._maxListeners=void 0,L.defaultMaxListeners=10,L.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},L.prototype.emit=function(t){var n,e,r,i,o,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||D(this._events.error)&&!this._events.error.length)){if((n=arguments[1])instanceof Error)throw n;var a=new Error('Uncaught, unspecified "error" event. ('+n+")");throw a.context=n,a}if(R(e=this._events[t]))return!1;if(P(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),e.apply(this,i)}else if(D(e))for(i=Array.prototype.slice.call(arguments,1),r=(u=e.slice()).length,o=0;o<r;o++)u[o].apply(this,i);return!0},L.prototype.addListener=function(t,n){var e;if(!P(n))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,P(n.listener)?n.listener:n),this._events[t]?D(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,D(this._events[t])&&!this._events[t].warned&&(e=R(this._maxListeners)?L.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[t].length>e&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},L.prototype.on=L.prototype.addListener,L.prototype.once=function(t,n){if(!P(n))throw TypeError("listener must be a function");var e=!1;function r(){this.removeListener(t,r),e||(e=!0,n.apply(this,arguments))}return r.listener=n,this.on(t,r),this},L.prototype.removeListener=function(t,n){var e,r,i,o;if(!P(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(e=this._events[t]).length,r=-1,e===n||P(e.listener)&&e.listener===n)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,n);else if(D(e)){for(o=i;o-- >0;)if(e[o]===n||e[o].listener&&e[o].listener===n){r=o;break}if(r<0)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,n)}return this},L.prototype.removeAllListeners=function(t){var n,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events={},this}if(P(e=this._events[t]))this.removeListener(t,e);else if(e)for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},L.prototype.listeners=function(t){return this._events&&this._events[t]?P(this._events[t])?[this._events[t]]:this._events[t].slice():[]},L.prototype.listenerCount=function(t){if(this._events){var n=this._events[t];if(P(n))return 1;if(n)return n.length}return 0},L.listenerCount=function(t,n){return t.listenerCount(n)};var I=function(t,n){var e=new N;if(e[0]=0,e[1]=0,e.prev=[0,0],e.flush=function(){e.prev[0]=e[0],e.prev[1]=e[1]},e.dispose=function(){e.removeAllListeners("move"),n.removeEventListener("mousemove",r)},"undefined"==typeof window)return e;n=n||t||window;var r=(t=t||document.body)===document.body||t===window?function(t){e.prev[0]=e[0],e.prev[1]=e[1],e[0]=t.clientX,e[1]=t.clientY,e.emit("move",t)}:function(n){e.prev[0]=e[0],e.prev[1]=e[1];var r=t.getBoundingClientRect();e[0]=n.clientX-r.left,e[1]=n.clientY-r.top,e.emit("move",n)};return n.addEventListener("mousemove",r,!1),e};var U=["left","middle","right"],O=function(t,n){var e=new N;e.left=!1,e.right=!1,e.middle=!1,e.dispose=function(){e.left=!1,e.right=!1,e.middle=!1,t&&(t.removeEventListener("contextmenu",o,!1),t.removeEventListener("mousedown",r,!1),window.removeEventListener("mouseup",i,!1))},"undefined"!=typeof window&&((t=t||window).addEventListener("mousedown",r,!1),window.addEventListener("mouseup",i,!1),n&&t.addEventListener("contextmenu",o,!1));return e;function r(t){if(e.right=!1,e[U[t.button]]=!0,e.emit("down",t),n){if(!t.preventDefault)return!1;t.preventDefault(),t.stopPropagation()}}function i(t){e.right=!1,e[U[t.button]]=!1,e.emit("up",t),n&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())}function o(t){return t.preventDefault&&t.preventDefault()&&!1}};var z,F,$,B=V,W=V,Y=function(t,n,e){X(t,$,n,e),"DOMMouseScroll"==$&&X(t,"MozMousePixelScroll",n,e)},q="";function V(t,n,e){H(t,$,n,e),"DOMMouseScroll"==$&&H(t,"MozMousePixelScroll",n,e)}function H(t,n,e,r){t[z](q+n,"wheel"==$?e:function(t){!t&&(t=window.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaY:0,deltaZ:0,clientX:t.clientX,clientY:t.clientY,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(){t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){t.stopImmediatePropagation&&t.stopImmediatePropagation()}};return"mousewheel"==$?(n.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-.025*t.wheelDeltaX)):n.deltaY=t.detail,e(n)},r||!1)}function X(t,n,e,r){t[F](q+n,e,r||!1)}!function(t,n){t&&t.addEventListener?(z="addEventListener",F="removeEventListener"):(z="attachEvent",F="detachEvent",q="on");$=n?"onwheel"in n.createElement("div")?"wheel":void 0!==n.onmousewheel?"mousewheel":"DOMMouseScroll":"wheel"}("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),B.addWheelListener=W,B.removeWheelListener=Y;var Z=B.addWheelListener,G=B.removeWheelListener,J=function(t,n){var e=new N;if(e.flush=r,e.dispose=function(){G(t,i,!1)},r(),"undefined"==typeof window)return e;return t=t||window,Z(t,i,!1),e;function r(){e[0]=e[1]=e[2]=0}function i(t){var r=1===t.deltaMode?12:1;e[0]+=r*(t.deltaX||0),e[1]+=r*(t.deltaY||0),e[2]+=r*(t.deltaZ||0),e.emit("scroll",e),n&&t.preventDefault&&(t.preventDefault(),t.stopPropagation&&t.stopPropagation())}};const K=(t,{distance:n=1,target:e=[0,0],rotation:r=0,isFixed:i=!1,isPan:o=!0,panSpeed:u=1,isRotate:a=!0,rotateSpeed:c=1,isZoom:f=!0,zoomSpeed:s=1}={})=>{let l=C(e,n,r),h=!1,d=I(t),p=O(t),v=J(t,f),g=t.height/window.devicePixelRatio,_=t.width/window.devicePixelRatio,y=_/g,m=!1;return l.config=(({isFixed:t=null,isPan:n=null,isRotate:e=null,isZoom:r=null,panSpeed:l=null,rotateSpeed:h=null,zoomSpeed:d=null}={})=>{i=null!==t?t:i,o=null!==n?n:o,a=null!==e?e:a,f=null!==r?r:f,u=+l>0?l:u,c=+h>0?h:c,s=+d>0?d:s}),l.dispose=(()=>{v.dispose(),p.dispose(),d.dispose(),l=void 0,v=void 0,p=void 0,d=void 0}),l.refresh=(()=>{g=t.height/window.devicePixelRatio,_=t.width/window.devicePixelRatio,y=_/g}),l.tick=(()=>{if(i)return!1;m=(t=>t?k[t]:k)("Alt"),h=!1;const{0:t,1:n}=d,{0:e,1:r}=d.prev;if(o&&p.left&&!m&&(l.pan([u*(t-e)/_*2*y,u*(r-n)/g*2]),h=!0),f&&v[1]){const e=s*Math.exp(v[1]/g),r=(t/_*2-1)*y,i=1-n/g*2;l.scale(1/e,[r,i]),h=!0}if(a&&p.left&&m){const i=_/2,o=g/2,u=e-i,a=o-r,f=t-i,s=o-n,d=function(t,n){var e=t[0],r=t[1],i=n[0],o=n[1],u=e*e+r*r;u>0&&(u=1/Math.sqrt(u));var a=i*i+o*o;a>0&&(a=1/Math.sqrt(a));var c=(e*i+r*o)*u*a;return c>1?0:c<-1?Math.PI:Math.acos(c)}([u,a],[f,s]),p=u*s-f*a;l.rotate(c*d*Math.sign(p)),h=!0}return v.flush(),d.flush(),h}),l};function Q(t,n,e,r,i,o){if(i-r<=e)return;const u=r+i>>1;!function t(n,e,r,i,o,u){for(;o>i;){if(o-i>600){const a=o-i+1,c=r-i+1,f=Math.log(a),s=.5*Math.exp(2*f/3),l=.5*Math.sqrt(f*s*(a-s)/a)*(c-a/2<0?-1:1),h=Math.max(i,Math.floor(r-c*s/a+l)),d=Math.min(o,Math.floor(r+(a-c)*s/a+l));t(n,e,r,h,d,u)}const a=e[2*r+u];let c=i,f=o;for(tt(n,e,i,r),e[2*o+u]>a&&tt(n,e,i,o);c<f;){for(tt(n,e,c,f),c++,f--;e[2*c+u]<a;)c++;for(;e[2*f+u]>a;)f--}e[2*i+u]===a?tt(n,e,i,f):tt(n,e,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(t,n,u,r,i,o%2),Q(t,n,e,r,u-1,o+1),Q(t,n,e,u+1,i,o+1)}function tt(t,n,e,r){nt(t,e,r),nt(n,2*e,2*r),nt(n,2*e+1,2*r+1)}function nt(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function et(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}const rt=t=>t[0],it=t=>t[1];class ot{constructor(t,n=rt,e=it,r=64,i=Float64Array){this.nodeSize=r,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,u=this.ids=new o(t.length),a=this.coords=new i(2*t.length);for(let r=0;r<t.length;r++)u[r]=r,a[2*r]=n(t[r]),a[2*r+1]=e(t[r]);Q(u,a,r,0,u.length-1,0)}range(t,n,e,r){return function(t,n,e,r,i,o,u){const a=[0,t.length-1,0],c=[];let f,s;for(;a.length;){const l=a.pop(),h=a.pop(),d=a.pop();if(h-d<=u){for(let u=d;u<=h;u++)f=n[2*u],s=n[2*u+1],f>=e&&f<=i&&s>=r&&s<=o&&c.push(t[u]);continue}const p=Math.floor((d+h)/2);f=n[2*p],s=n[2*p+1],f>=e&&f<=i&&s>=r&&s<=o&&c.push(t[p]);const v=(l+1)%2;(0===l?e<=f:r<=s)&&(a.push(d),a.push(p-1),a.push(v)),(0===l?i>=f:o>=s)&&(a.push(p+1),a.push(h),a.push(v))}return c}(this.ids,this.coords,t,n,e,r,this.nodeSize)}within(t,n,e){return function(t,n,e,r,i,o){const u=[0,t.length-1,0],a=[],c=i*i;for(;u.length;){const f=u.pop(),s=u.pop(),l=u.pop();if(s-l<=o){for(let i=l;i<=s;i++)et(n[2*i],n[2*i+1],e,r)<=c&&a.push(t[i]);continue}const h=Math.floor((l+s)/2),d=n[2*h],p=n[2*h+1];et(d,p,e,r)<=c&&a.push(t[h]);const v=(f+1)%2;(0===f?e-i<=d:r-i<=p)&&(u.push(l),u.push(h-1),u.push(v)),(0===f?e+i>=d:r+i>=p)&&(u.push(h+1),u.push(s),u.push(v))}return a}(this.ids,this.coords,t,n,e,this.nodeSize)}}function ut(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}var at="object"==typeof global&&global&&global.Object===Object&&global,ct="object"==typeof self&&self&&self.Object===Object&&self,ft=at||ct||Function("return this")(),st=function(){return ft.Date.now()},lt=ft.Symbol,ht=Object.prototype,dt=ht.hasOwnProperty,pt=ht.toString,vt=lt?lt.toStringTag:void 0;var gt=Object.prototype.toString;var _t="[object Null]",yt="[object Undefined]",mt=lt?lt.toStringTag:void 0;function bt(t){return null==t?void 0===t?yt:_t:mt&&mt in Object(t)?function(t){var n=dt.call(t,vt),e=t[vt];try{t[vt]=void 0}catch(t){}var r=pt.call(t);return n?t[vt]=e:delete t[vt],r}(t):function(t){return gt.call(t)}(t)}var wt="[object Symbol]";var xt=NaN,Mt=/^\s+|\s+$/g,At=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Et=/^0o[0-7]+$/i,Tt=parseInt;function Ct(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&bt(t)==wt}(t))return xt;if(ut(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ut(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Mt,"");var e=St.test(t);return e||Et.test(t)?Tt(t.slice(2),e?2:8):At.test(t)?xt:+t}var kt="Expected a function",jt=Math.max,Lt=Math.min;function Nt(t,n,e){var r,i,o,u,a,c,f=0,s=!1,l=!1,h=!0;if("function"!=typeof t)throw new TypeError(kt);function d(n){var e=r,o=i;return r=i=void 0,f=n,u=t.apply(o,e)}function p(t){var e=t-c;return void 0===c||e>=n||e<0||l&&t-f>=o}function v(){var t=st();if(p(t))return g(t);a=setTimeout(v,function(t){var e=n-(t-c);return l?Lt(e,o-(t-f)):e}(t))}function g(t){return a=void 0,h&&r?d(t):(r=i=void 0,u)}function _(){var t=st(),e=p(t);if(r=arguments,i=this,c=t,e){if(void 0===a)return function(t){return f=t,a=setTimeout(v,n),s?d(t):u}(c);if(l)return clearTimeout(a),a=setTimeout(v,n),d(c)}return void 0===a&&(a=setTimeout(v,n)),u}return n=Ct(n)||0,ut(e)&&(s=!!e.leading,o=(l="maxWait"in e)?jt(Ct(e.maxWait)||0,n):o,h="trailing"in e?!!e.trailing:h),_.cancel=function(){void 0!==a&&clearTimeout(a),f=0,r=c=i=a=void 0},_.flush=function(){return void 0===a?u:g(st())},_}var Pt="Expected a function";function Dt(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError(Pt);return ut(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Nt(t,n,{leading:r,maxWait:n,trailing:i})}const{push:Rt,unshift:It}=Array.prototype,Ut=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ot=Float32Array.BYTES_PER_ELEMENT,zt={duplicate(t,n=1,e=1){const r=[],i=new Array(2*n);for(let o=0,u=t.length/n;o<u;o++){const u=o*n;for(let r=0;r<n;r++){const o=t[u+r];i[r]=o,i[r+n]=o*e}Rt.apply(r,i)}return r},mapElement(t,n,e,r){for(let i=0,o=t.length/e;i<o;i++){const o=n+i*e;t[o]=r(t[o],o,i)}return t},pushElement(t,n,e){const r=new Array(e),i=n*e;for(let n=0;n<e;n++)r[n]=t[i+n];return Rt.apply(t,r),t},unshiftElement(t,n,e){const r=new Array(e),i=n*e;for(let n=0;n<e;n++)r[n]=t[i+n];return It.apply(t,r),t},increaseStride(t,n,e,r=0){const i=[],o=new Array(e).fill(r);for(let e=0,r=t.length/n;e<r;e++){const r=e*n;for(let e=0;e<n;e++)o[e]=t[r+e];Rt.apply(i,o)}return i}},Ft=(t,{projection:n=Ut,model:e=Ut,view:r=Ut,points:i=[],widths:o=[],color:u=[.8,.5,0,1],width:a=1,miter:c=1,is2d:f=!1,zPos2d:s=0}={})=>{if(!t)return void console.error("Regl instance is undefined.");let l,h,d,p,v,g,_,y,m,b,w,x=f?2:3;const M=()=>{_=t.buffer(),y=t.buffer(),m={prevPosition:{buffer:()=>_,offset:0,stride:3*Ot},currPosition:{buffer:()=>_,offset:3*Ot*2,stride:3*Ot},nextPosition:{buffer:()=>_,offset:3*Ot*4,stride:3*Ot},offsetScale:()=>y},b=t.elements(),w=t({attributes:m,depth:{enable:!f},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projection:(t,n)=>t.projection||n.projection,model:(t,n)=>t.model||n.model,view:(t,n)=>t.view||n.view,aspectRatio:({viewportWidth:t,viewportHeight:n})=>t/n,color:()=>u,width:({viewportWidth:t})=>a/t*window.devicePixelRatio,miter:c},elements:()=>b,vert:"\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\nuniform float aspectRatio;\n\nuniform float width;\nuniform int miter;\n\nattribute vec3 prevPosition;\nattribute vec3 currPosition;\nattribute vec3 nextPosition;\nattribute float offsetScale;\n\nvoid main() {\n  vec2 aspectVec = vec2(aspectRatio, 1.0);\n  mat4 projViewModel = projection * view * model;\n  vec4 prevProjected = projViewModel * vec4(prevPosition, 1.0);\n  vec4 currProjected = projViewModel * vec4(currPosition, 1.0);\n  vec4 nextProjected = projViewModel * vec4(nextPosition, 1.0);\n\n  // get 2D screen space with W divide and aspect correction\n  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;\n  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;\n  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n  // starting point uses (next - current)\n  vec2 dir = vec2(0.0);\n  if (currScreen == prevScreen) {\n    dir = normalize(nextScreen - currScreen);\n  }\n  // ending point uses (current - previous)\n  else if (currScreen == nextScreen) {\n    dir = normalize(currScreen - prevScreen);\n  }\n  // somewhere in middle, needs a join\n  else {\n    // get directions from (C - B) and (B - A)\n    vec2 dirA = normalize((currScreen - prevScreen));\n    if (miter == 1) {\n      vec2 dirB = normalize((nextScreen - currScreen));\n      // now compute the miter join normal and length\n      vec2 tangent = normalize(dirA + dirB);\n      vec2 perp = vec2(-dirA.y, dirA.x);\n      vec2 miter = vec2(-tangent.y, tangent.x);\n      dir = tangent;\n    } else {\n      dir = dirA;\n    }\n  }\n\n  vec2 normal = vec2(-dir.y, dir.x) * width;\n  normal.x /= aspectRatio;\n  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);\n  gl_Position = currProjected + offset;\n}",frag:"\nprecision mediump float;\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"})},A=()=>{S(),M()},S=()=>{i=null,d=null,p=null,v=null,g=null,_.destroy(),y.destroy(),b.destroy()},E=(t=[],n=o,e=f)=>{i=t,x=(f=e)?2:3,l=Math.floor(i.length/x),h=l+2,n.length===l&&(o=n),i&&i.length>1?(i.length%x>0&&console.warn(`The length of points (${l}) does not match the dimensions (${x}). Incomplete points are ignored.`),d=i.slice(0,l*x),f&&(d=zt.increaseStride(d,2,3,s)),o.length!==l&&(o=new Array(l).fill(1)),zt.pushElement(d,l-1,3),zt.unshiftElement(d,0,3),p=new Float32Array(zt.duplicate(d,3)),v=zt.duplicate(o,1,-1),g=((t,n,e=[])=>{for(let r=0;r<t-1;r++){const t=n+2*r,i=t+1,o=t+2,u=t+3;e.push(t,i,o,o,i,u)}return e})(l,0),_({usage:"dynamic",type:"float",length:3*h*2*Ot,data:p}),y({usage:"dynamic",type:"float",length:1*l*2*Ot,data:v}),b({primitive:"triangles",usage:"dynamic",type:"uint16",data:g})):A()};return M(),i&&i.length>1&&E(i),{clear:A,destroy:S,draw:({projection:t,model:o,view:u}={})=>{t&&(n=t),o&&(e=o),u&&(r=u),i&&i.length>1&&w({projection:n,model:e,view:r})},getPoints:()=>i,setPoints:E,getData:()=>({points:p,widths:v}),getBuffer:()=>({points:_,widths:y}),getStyle:()=>({color:u,miter:c,width:a}),setStyle:({color:t,miter:n,width:e}={})=>{t&&(u=t),n&&(c=n),+e>0&&(a=e)}}};var $t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Bt,Wt=(function(t,n){(function(){var e,r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="__lodash_hash_undefined__",a=500,c="__lodash_placeholder__",f=1,s=2,l=4,h=1,d=2,p=1,v=2,g=4,_=8,y=16,m=32,b=64,w=128,x=256,M=512,A=30,S="...",E=800,T=16,C=1,k=2,j=1/0,L=9007199254740991,N=1.7976931348623157e308,P=NaN,D=4294967295,R=D-1,I=D>>>1,U=[["ary",w],["bind",p],["bindKey",v],["curry",_],["curryRight",y],["flip",M],["partial",m],["partialRight",b],["rearg",x]],O="[object Arguments]",z="[object Array]",F="[object AsyncFunction]",$="[object Boolean]",B="[object Date]",W="[object DOMException]",Y="[object Error]",q="[object Function]",V="[object GeneratorFunction]",H="[object Map]",X="[object Number]",Z="[object Null]",G="[object Object]",J="[object Proxy]",K="[object RegExp]",Q="[object Set]",tt="[object String]",nt="[object Symbol]",et="[object Undefined]",rt="[object WeakMap]",it="[object WeakSet]",ot="[object ArrayBuffer]",ut="[object DataView]",at="[object Float32Array]",ct="[object Float64Array]",ft="[object Int8Array]",st="[object Int16Array]",lt="[object Int32Array]",ht="[object Uint8Array]",dt="[object Uint8ClampedArray]",pt="[object Uint16Array]",vt="[object Uint32Array]",gt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,wt=RegExp(mt.source),xt=RegExp(bt.source),Mt=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,jt=RegExp(kt.source),Lt=/^\s+|\s+$/g,Nt=/^\s+/,Pt=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,Ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ot=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kt="[\\ud800-\\udfff]",Qt="["+Jt+"]",tn="["+Gt+"]",nn="\\d+",en="[\\u2700-\\u27bf]",rn="[a-z\\xdf-\\xf6\\xf8-\\xff]",on="[^\\ud800-\\udfff"+Jt+nn+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",un="\\ud83c[\\udffb-\\udfff]",an="[^\\ud800-\\udfff]",cn="(?:\\ud83c[\\udde6-\\uddff]){2}",fn="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ln="(?:"+rn+"|"+on+")",hn="(?:"+sn+"|"+on+")",dn="(?:"+tn+"|"+un+")"+"?",pn="[\\ufe0e\\ufe0f]?"+dn+("(?:\\u200d(?:"+[an,cn,fn].join("|")+")[\\ufe0e\\ufe0f]?"+dn+")*"),vn="(?:"+[en,cn,fn].join("|")+")"+pn,gn="(?:"+[an+tn+"?",tn,cn,fn,Kt].join("|")+")",_n=RegExp("['’]","g"),yn=RegExp(tn,"g"),mn=RegExp(un+"(?="+un+")|"+gn+pn,"g"),bn=RegExp([sn+"?"+rn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Qt,sn,"$"].join("|")+")",hn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Qt,sn+ln,"$"].join("|")+")",sn+"?"+ln+"+(?:['’](?:d|ll|m|re|s|t|ve))?",sn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nn,vn].join("|"),"g"),wn=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),xn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],An=-1,Sn={};Sn[at]=Sn[ct]=Sn[ft]=Sn[st]=Sn[lt]=Sn[ht]=Sn[dt]=Sn[pt]=Sn[vt]=!0,Sn[O]=Sn[z]=Sn[ot]=Sn[$]=Sn[ut]=Sn[B]=Sn[Y]=Sn[q]=Sn[H]=Sn[X]=Sn[G]=Sn[K]=Sn[Q]=Sn[tt]=Sn[rt]=!1;var En={};En[O]=En[z]=En[ot]=En[ut]=En[$]=En[B]=En[at]=En[ct]=En[ft]=En[st]=En[lt]=En[H]=En[X]=En[G]=En[K]=En[Q]=En[tt]=En[nt]=En[ht]=En[dt]=En[pt]=En[vt]=!0,En[Y]=En[q]=En[rt]=!1;var Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,kn=parseInt,jn="object"==typeof $t&&$t&&$t.Object===Object&&$t,Ln="object"==typeof self&&self&&self.Object===Object&&self,Nn=jn||Ln||Function("return this")(),Pn=n&&!n.nodeType&&n,Dn=Pn&&t&&!t.nodeType&&t,Rn=Dn&&Dn.exports===Pn,In=Rn&&jn.process,Un=function(){try{var t=Dn&&Dn.require&&Dn.require("util").types;return t||In&&In.binding&&In.binding("util")}catch(t){}}(),On=Un&&Un.isArrayBuffer,zn=Un&&Un.isDate,Fn=Un&&Un.isMap,$n=Un&&Un.isRegExp,Bn=Un&&Un.isSet,Wn=Un&&Un.isTypedArray;function Yn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function qn(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];n(r,u,e(u),t)}return r}function Vn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function Hn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Xn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Zn(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var u=t[e];n(u,e,t)&&(o[i++]=u)}return o}function Gn(t,n){return!!(null==t?0:t.length)&&ue(t,n,0)>-1}function Jn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function Kn(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function Qn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function te(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function ne(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function ee(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var re=se("length");function ie(t,n,e){var r;return e(t,function(t,e,i){if(n(t,e,i))return r=e,!1}),r}function oe(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function ue(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):oe(t,ce,e)}function ae(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function ce(t){return t!=t}function fe(t,n){var e=null==t?0:t.length;return e?de(t,n)/e:P}function se(t){return function(n){return null==n?e:n[t]}}function le(t){return function(n){return null==t?e:t[n]}}function he(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function de(t,n){for(var r,i=-1,o=t.length;++i<o;){var u=n(t[i]);u!==e&&(r=r===e?u:r+u)}return r}function pe(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function ve(t){return function(n){return t(n)}}function ge(t,n){return Kn(n,function(n){return t[n]})}function _e(t,n){return t.has(n)}function ye(t,n){for(var e=-1,r=t.length;++e<r&&ue(n,t[e],0)>-1;);return e}function me(t,n){for(var e=t.length;e--&&ue(n,t[e],0)>-1;);return e}var be=le({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),we=le({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xe(t){return"\\"+Tn[t]}function Me(t){return wn.test(t)}function Ae(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function Se(t,n){return function(e){return t(n(e))}}function Ee(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e];u!==n&&u!==c||(t[e]=c,o[i++]=e)}return o}function Te(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function Ce(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=[t,t]}),e}function ke(t){return Me(t)?function(t){var n=mn.lastIndex=0;for(;mn.test(t);)++n;return n}(t):re(t)}function je(t){return Me(t)?function(t){return t.match(mn)||[]}(t):function(t){return t.split("")}(t)}var Le=le({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ne=function t(n){var $t,Gt=(n=null==n?Nn:Ne.defaults(Nn.Object(),n,Ne.pick(Nn,Mn))).Array,Jt=n.Date,Kt=n.Error,Qt=n.Function,tn=n.Math,nn=n.Object,en=n.RegExp,rn=n.String,on=n.TypeError,un=Gt.prototype,an=Qt.prototype,cn=nn.prototype,fn=n["__core-js_shared__"],sn=an.toString,ln=cn.hasOwnProperty,hn=0,dn=($t=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||""))?"Symbol(src)_1."+$t:"",pn=cn.toString,vn=sn.call(nn),gn=Nn._,mn=en("^"+sn.call(ln).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wn=Rn?n.Buffer:e,Tn=n.Symbol,jn=n.Uint8Array,Ln=wn?wn.allocUnsafe:e,Pn=Se(nn.getPrototypeOf,nn),Dn=nn.create,In=cn.propertyIsEnumerable,Un=un.splice,re=Tn?Tn.isConcatSpreadable:e,le=Tn?Tn.iterator:e,Pe=Tn?Tn.toStringTag:e,De=function(){try{var t=zo(nn,"defineProperty");return t({},"",{}),t}catch(t){}}(),Re=n.clearTimeout!==Nn.clearTimeout&&n.clearTimeout,Ie=Jt&&Jt.now!==Nn.Date.now&&Jt.now,Ue=n.setTimeout!==Nn.setTimeout&&n.setTimeout,Oe=tn.ceil,ze=tn.floor,Fe=nn.getOwnPropertySymbols,$e=wn?wn.isBuffer:e,Be=n.isFinite,We=un.join,Ye=Se(nn.keys,nn),qe=tn.max,Ve=tn.min,He=Jt.now,Xe=n.parseInt,Ze=tn.random,Ge=un.reverse,Je=zo(n,"DataView"),Ke=zo(n,"Map"),Qe=zo(n,"Promise"),tr=zo(n,"Set"),nr=zo(n,"WeakMap"),er=zo(nn,"create"),rr=nr&&new nr,ir={},or=lu(Je),ur=lu(Ke),ar=lu(Qe),cr=lu(tr),fr=lu(nr),sr=Tn?Tn.prototype:e,lr=sr?sr.valueOf:e,hr=sr?sr.toString:e;function dr(t){if(Ca(t)&&!_a(t)&&!(t instanceof _r)){if(t instanceof gr)return t;if(ln.call(t,"__wrapped__"))return hu(t)}return new gr(t)}var pr=function(){function t(){}return function(n){if(!Ta(n))return{};if(Dn)return Dn(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function vr(){}function gr(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function _r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function yr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function mr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function br(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function wr(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new br;++n<e;)this.add(t[n])}function xr(t){var n=this.__data__=new mr(t);this.size=n.size}function Mr(t,n){var e=_a(t),r=!e&&ga(t),i=!e&&!r&&wa(t),o=!e&&!r&&!i&&Ia(t),u=e||r||i||o,a=u?pe(t.length,rn):[],c=a.length;for(var f in t)!n&&!ln.call(t,f)||u&&("length"==f||i&&("offset"==f||"parent"==f)||o&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Vo(f,c))||a.push(f);return a}function Ar(t){var n=t.length;return n?t[wi(0,n-1)]:e}function Sr(t,n){return cu(eo(t),Dr(n,0,t.length))}function Er(t){return cu(eo(t))}function Tr(t,n,r){(r===e||da(t[n],r))&&(r!==e||n in t)||Nr(t,n,r)}function Cr(t,n,r){var i=t[n];ln.call(t,n)&&da(i,r)&&(r!==e||n in t)||Nr(t,n,r)}function kr(t,n){for(var e=t.length;e--;)if(da(t[e][0],n))return e;return-1}function jr(t,n,e,r){return zr(t,function(t,i,o){n(r,t,e(t),o)}),r}function Lr(t,n){return t&&ro(n,ic(n),t)}function Nr(t,n,e){"__proto__"==n&&De?De(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Pr(t,n){for(var r=-1,i=n.length,o=Gt(i),u=null==t;++r<i;)o[r]=u?e:Qa(t,n[r]);return o}function Dr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function Rr(t,n,r,i,o,u){var a,c=n&f,h=n&s,d=n&l;if(r&&(a=o?r(t,i,o,u):r(t)),a!==e)return a;if(!Ta(t))return t;var p=_a(t);if(p){if(a=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&ln.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!c)return eo(t,a)}else{var v=Bo(t),g=v==q||v==V;if(wa(t))return Gi(t,c);if(v==G||v==O||g&&!o){if(a=h||g?{}:Yo(t),!c)return h?function(t,n){return ro(t,$o(t),n)}(t,function(t,n){return t&&ro(n,oc(n),t)}(a,t)):function(t,n){return ro(t,Fo(t),n)}(t,Lr(a,t))}else{if(!En[v])return o?t:{};a=function(t,n,e){var r,i,o,u=t.constructor;switch(n){case ot:return Ji(t);case $:case B:return new u(+t);case ut:return function(t,n){var e=n?Ji(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case at:case ct:case ft:case st:case lt:case ht:case dt:case pt:case vt:return Ki(t,e);case H:return new u;case X:case tt:return new u(t);case K:return(o=new(i=t).constructor(i.source,Ft.exec(i))).lastIndex=i.lastIndex,o;case Q:return new u;case nt:return r=t,lr?nn(lr.call(r)):{}}}(t,v,c)}}u||(u=new xr);var _=u.get(t);if(_)return _;u.set(t,a),Pa(t)?t.forEach(function(e){a.add(Rr(e,n,r,e,t,u))}):ka(t)&&t.forEach(function(e,i){a.set(i,Rr(e,n,r,i,t,u))});var y=p?e:(d?h?No:Lo:h?oc:ic)(t);return Vn(y||t,function(e,i){y&&(e=t[i=e]),Cr(a,i,Rr(e,n,r,i,t,u))}),a}function Ir(t,n,r){var i=r.length;if(null==t)return!i;for(t=nn(t);i--;){var o=r[i],u=n[o],a=t[o];if(a===e&&!(o in t)||!u(a))return!1}return!0}function Ur(t,n,r){if("function"!=typeof t)throw new on(o);return iu(function(){t.apply(e,r)},n)}function Or(t,n,e,i){var o=-1,u=Gn,a=!0,c=t.length,f=[],s=n.length;if(!c)return f;e&&(n=Kn(n,ve(e))),i?(u=Jn,a=!1):n.length>=r&&(u=_e,a=!1,n=new wr(n));t:for(;++o<c;){var l=t[o],h=null==e?l:e(l);if(l=i||0!==l?l:0,a&&h==h){for(var d=s;d--;)if(n[d]===h)continue t;f.push(l)}else u(n,h,i)||f.push(l)}return f}dr.templateSettings={escape:Mt,evaluate:At,interpolate:St,variable:"",imports:{_:dr}},dr.prototype=vr.prototype,dr.prototype.constructor=dr,gr.prototype=pr(vr.prototype),gr.prototype.constructor=gr,_r.prototype=pr(vr.prototype),_r.prototype.constructor=_r,yr.prototype.clear=function(){this.__data__=er?er(null):{},this.size=0},yr.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},yr.prototype.get=function(t){var n=this.__data__;if(er){var r=n[t];return r===u?e:r}return ln.call(n,t)?n[t]:e},yr.prototype.has=function(t){var n=this.__data__;return er?n[t]!==e:ln.call(n,t)},yr.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=er&&n===e?u:n,this},mr.prototype.clear=function(){this.__data__=[],this.size=0},mr.prototype.delete=function(t){var n=this.__data__,e=kr(n,t);return!(e<0||(e==n.length-1?n.pop():Un.call(n,e,1),--this.size,0))},mr.prototype.get=function(t){var n=this.__data__,r=kr(n,t);return r<0?e:n[r][1]},mr.prototype.has=function(t){return kr(this.__data__,t)>-1},mr.prototype.set=function(t,n){var e=this.__data__,r=kr(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Ke||mr),string:new yr}},br.prototype.delete=function(t){var n=Uo(this,t).delete(t);return this.size-=n?1:0,n},br.prototype.get=function(t){return Uo(this,t).get(t)},br.prototype.has=function(t){return Uo(this,t).has(t)},br.prototype.set=function(t,n){var e=Uo(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(t){return this.__data__.set(t,u),this},wr.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.clear=function(){this.__data__=new mr,this.size=0},xr.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},xr.prototype.get=function(t){return this.__data__.get(t)},xr.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.set=function(t,n){var e=this.__data__;if(e instanceof mr){var i=e.__data__;if(!Ke||i.length<r-1)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new br(i)}return e.set(t,n),this.size=e.size,this};var zr=uo(Hr),Fr=uo(Xr,!0);function $r(t,n){var e=!0;return zr(t,function(t,r,i){return e=!!n(t,r,i)}),e}function Br(t,n,r){for(var i=-1,o=t.length;++i<o;){var u=t[i],a=n(u);if(null!=a&&(c===e?a==a&&!Ra(a):r(a,c)))var c=a,f=u}return f}function Wr(t,n){var e=[];return zr(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function Yr(t,n,e,r,i){var o=-1,u=t.length;for(e||(e=qo),i||(i=[]);++o<u;){var a=t[o];n>0&&e(a)?n>1?Yr(a,n-1,e,r,i):Qn(i,a):r||(i[i.length]=a)}return i}var qr=ao(),Vr=ao(!0);function Hr(t,n){return t&&qr(t,n,ic)}function Xr(t,n){return t&&Vr(t,n,ic)}function Zr(t,n){return Zn(n,function(n){return Aa(t[n])})}function Gr(t,n){for(var r=0,i=(n=Vi(n,t)).length;null!=t&&r<i;)t=t[su(n[r++])];return r&&r==i?t:e}function Jr(t,n,e){var r=n(t);return _a(t)?r:Qn(r,e(t))}function Kr(t){return null==t?t===e?et:Z:Pe&&Pe in nn(t)?function(t){var n=ln.call(t,Pe),r=t[Pe];try{t[Pe]=e}catch(t){}var i=pn.call(t);return n?t[Pe]=r:delete t[Pe],i}(t):function(t){return pn.call(t)}(t)}function Qr(t,n){return t>n}function ti(t,n){return null!=t&&ln.call(t,n)}function ni(t,n){return null!=t&&n in nn(t)}function ei(t,n,r){for(var i=r?Jn:Gn,o=t[0].length,u=t.length,a=u,c=Gt(u),f=1/0,s=[];a--;){var l=t[a];a&&n&&(l=Kn(l,ve(n))),f=Ve(l.length,f),c[a]=!r&&(n||o>=120&&l.length>=120)?new wr(a&&l):e}l=t[0];var h=-1,d=c[0];t:for(;++h<o&&s.length<f;){var p=l[h],v=n?n(p):p;if(p=r||0!==p?p:0,!(d?_e(d,v):i(s,v,r))){for(a=u;--a;){var g=c[a];if(!(g?_e(g,v):i(t[a],v,r)))continue t}d&&d.push(v),s.push(p)}}return s}function ri(t,n,r){var i=null==(t=nu(t,n=Vi(n,t)))?t:t[su(Mu(n))];return null==i?e:Yn(i,t,r)}function ii(t){return Ca(t)&&Kr(t)==O}function oi(t,n,r,i,o){return t===n||(null==t||null==n||!Ca(t)&&!Ca(n)?t!=t&&n!=n:function(t,n,r,i,o,u){var a=_a(t),c=_a(n),f=a?z:Bo(t),s=c?z:Bo(n),l=(f=f==O?G:f)==G,p=(s=s==O?G:s)==G,v=f==s;if(v&&wa(t)){if(!wa(n))return!1;a=!0,l=!1}if(v&&!l)return u||(u=new xr),a||Ia(t)?ko(t,n,r,i,o,u):function(t,n,e,r,i,o,u){switch(e){case ut:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ot:return!(t.byteLength!=n.byteLength||!o(new jn(t),new jn(n)));case $:case B:case X:return da(+t,+n);case Y:return t.name==n.name&&t.message==n.message;case K:case tt:return t==n+"";case H:var a=Ae;case Q:var c=r&h;if(a||(a=Te),t.size!=n.size&&!c)return!1;var f=u.get(t);if(f)return f==n;r|=d,u.set(t,n);var s=ko(a(t),a(n),r,i,o,u);return u.delete(t),s;case nt:if(lr)return lr.call(t)==lr.call(n)}return!1}(t,n,f,r,i,o,u);if(!(r&h)){var g=l&&ln.call(t,"__wrapped__"),_=p&&ln.call(n,"__wrapped__");if(g||_){var y=g?t.value():t,m=_?n.value():n;return u||(u=new xr),o(y,m,r,i,u)}}return!!v&&(u||(u=new xr),function(t,n,r,i,o,u){var a=r&h,c=Lo(t),f=c.length,s=Lo(n).length;if(f!=s&&!a)return!1;for(var l=f;l--;){var d=c[l];if(!(a?d in n:ln.call(n,d)))return!1}var p=u.get(t);if(p&&u.get(n))return p==n;var v=!0;u.set(t,n),u.set(n,t);for(var g=a;++l<f;){d=c[l];var _=t[d],y=n[d];if(i)var m=a?i(y,_,d,n,t,u):i(_,y,d,t,n,u);if(!(m===e?_===y||o(_,y,r,i,u):m)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var b=t.constructor,w=n.constructor;b!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(v=!1)}return u.delete(t),u.delete(n),v}(t,n,r,i,o,u))}(t,n,r,i,oi,o))}function ui(t,n,r,i){var o=r.length,u=o,a=!i;if(null==t)return!u;for(t=nn(t);o--;){var c=r[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<u;){var f=(c=r[o])[0],s=t[f],l=c[1];if(a&&c[2]){if(s===e&&!(f in t))return!1}else{var p=new xr;if(i)var v=i(s,l,f,t,n,p);if(!(v===e?oi(l,s,h|d,i,p):v))return!1}}return!0}function ai(t){return!(!Ta(t)||(n=t,dn&&dn in n))&&(Aa(t)?mn:Yt).test(lu(t));var n}function ci(t){return"function"==typeof t?t:null==t?jc:"object"==typeof t?_a(t)?pi(t[0],t[1]):di(t):zc(t)}function fi(t){if(!Jo(t))return Ye(t);var n=[];for(var e in nn(t))ln.call(t,e)&&"constructor"!=e&&n.push(e);return n}function si(t){if(!Ta(t))return function(t){var n=[];if(null!=t)for(var e in nn(t))n.push(e);return n}(t);var n=Jo(t),e=[];for(var r in t)("constructor"!=r||!n&&ln.call(t,r))&&e.push(r);return e}function li(t,n){return t<n}function hi(t,n){var e=-1,r=ma(t)?Gt(t.length):[];return zr(t,function(t,i,o){r[++e]=n(t,i,o)}),r}function di(t){var n=Oo(t);return 1==n.length&&n[0][2]?Qo(n[0][0],n[0][1]):function(e){return e===t||ui(e,t,n)}}function pi(t,n){return Xo(t)&&Ko(n)?Qo(su(t),n):function(r){var i=Qa(r,t);return i===e&&i===n?tc(r,t):oi(n,i,h|d)}}function vi(t,n,r,i,o){t!==n&&qr(n,function(u,a){if(o||(o=new xr),Ta(u))!function(t,n,r,i,o,u,a){var c=eu(t,r),f=eu(n,r),s=a.get(f);if(s)Tr(t,r,s);else{var l=u?u(c,f,r+"",t,n,a):e,h=l===e;if(h){var d=_a(f),p=!d&&wa(f),v=!d&&!p&&Ia(f);l=f,d||p||v?_a(c)?l=c:ba(c)?l=eo(c):p?(h=!1,l=Gi(f,!0)):v?(h=!1,l=Ki(f,!0)):l=[]:La(f)||ga(f)?(l=c,ga(c)?l=Ya(c):Ta(c)&&!Aa(c)||(l=Yo(f))):h=!1}h&&(a.set(f,l),o(l,f,i,u,a),a.delete(f)),Tr(t,r,l)}}(t,n,a,r,vi,i,o);else{var c=i?i(eu(t,a),u,a+"",t,n,o):e;c===e&&(c=u),Tr(t,a,c)}},oc)}function gi(t,n){var r=t.length;if(r)return Vo(n+=n<0?r:0,r)?t[n]:e}function _i(t,n,e){var r=-1;return n=Kn(n.length?n:[jc],ve(Io())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(hi(t,function(t,e,i){return{criteria:Kn(n,function(n){return n(t)}),index:++r,value:t}}),function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,u=i.length,a=e.length;++r<u;){var c=Qi(i[r],o[r]);if(c){if(r>=a)return c;var f=e[r];return c*("desc"==f?-1:1)}}return t.index-n.index}(t,n,e)})}function yi(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var u=n[r],a=Gr(t,u);e(a,u)&&Ei(o,Vi(u,t),a)}return o}function mi(t,n,e,r){var i=r?ae:ue,o=-1,u=n.length,a=t;for(t===n&&(n=eo(n)),e&&(a=Kn(t,ve(e)));++o<u;)for(var c=0,f=n[o],s=e?e(f):f;(c=i(a,s,c,r))>-1;)a!==t&&Un.call(a,c,1),Un.call(t,c,1);return t}function bi(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;Vo(i)?Un.call(t,i,1):Oi(t,i)}}return t}function wi(t,n){return t+ze(Ze()*(n-t+1))}function xi(t,n){var e="";if(!t||n<1||n>L)return e;do{n%2&&(e+=t),(n=ze(n/2))&&(t+=t)}while(n);return e}function Mi(t,n){return ou(tu(t,n,jc),t+"")}function Ai(t){return Ar(dc(t))}function Si(t,n){var e=dc(t);return cu(e,Dr(n,0,e.length))}function Ei(t,n,r,i){if(!Ta(t))return t;for(var o=-1,u=(n=Vi(n,t)).length,a=u-1,c=t;null!=c&&++o<u;){var f=su(n[o]),s=r;if(o!=a){var l=c[f];(s=i?i(l,f,c):e)===e&&(s=Ta(l)?l:Vo(n[o+1])?[]:{})}Cr(c,f,s),c=c[f]}return t}var Ti=rr?function(t,n){return rr.set(t,n),t}:jc,Ci=De?function(t,n){return De(t,"toString",{configurable:!0,enumerable:!1,value:Tc(n),writable:!0})}:jc;function ki(t){return cu(dc(t))}function ji(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Gt(i);++r<i;)o[r]=t[r+n];return o}function Li(t,n){var e;return zr(t,function(t,r,i){return!(e=n(t,r,i))}),!!e}function Ni(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=I){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!Ra(u)&&(e?u<=n:u<n)?r=o+1:i=o}return i}return Pi(t,n,jc,e)}function Pi(t,n,r,i){n=r(n);for(var o=0,u=null==t?0:t.length,a=n!=n,c=null===n,f=Ra(n),s=n===e;o<u;){var l=ze((o+u)/2),h=r(t[l]),d=h!==e,p=null===h,v=h==h,g=Ra(h);if(a)var _=i||v;else _=s?v&&(i||d):c?v&&d&&(i||!p):f?v&&d&&!p&&(i||!g):!p&&!g&&(i?h<=n:h<n);_?o=l+1:u=l}return Ve(u,R)}function Di(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e],a=n?n(u):u;if(!e||!da(a,c)){var c=a;o[i++]=0===u?0:u}}return o}function Ri(t){return"number"==typeof t?t:Ra(t)?P:+t}function Ii(t){if("string"==typeof t)return t;if(_a(t))return Kn(t,Ii)+"";if(Ra(t))return hr?hr.call(t):"";var n=t+"";return"0"==n&&1/t==-j?"-0":n}function Ui(t,n,e){var i=-1,o=Gn,u=t.length,a=!0,c=[],f=c;if(e)a=!1,o=Jn;else if(u>=r){var s=n?null:Mo(t);if(s)return Te(s);a=!1,o=_e,f=new wr}else f=n?[]:c;t:for(;++i<u;){var l=t[i],h=n?n(l):l;if(l=e||0!==l?l:0,a&&h==h){for(var d=f.length;d--;)if(f[d]===h)continue t;n&&f.push(h),c.push(l)}else o(f,h,e)||(f!==c&&f.push(h),c.push(l))}return c}function Oi(t,n){return null==(t=nu(t,n=Vi(n,t)))||delete t[su(Mu(n))]}function zi(t,n,e,r){return Ei(t,n,e(Gr(t,n)),r)}function Fi(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?ji(t,r?0:o,r?o+1:i):ji(t,r?o+1:0,r?i:o)}function $i(t,n){var e=t;return e instanceof _r&&(e=e.value()),te(n,function(t,n){return n.func.apply(n.thisArg,Qn([t],n.args))},e)}function Bi(t,n,e){var r=t.length;if(r<2)return r?Ui(t[0]):[];for(var i=-1,o=Gt(r);++i<r;)for(var u=t[i],a=-1;++a<r;)a!=i&&(o[i]=Or(o[i]||u,t[a],n,e));return Ui(Yr(o,1),n,e)}function Wi(t,n,r){for(var i=-1,o=t.length,u=n.length,a={};++i<o;){var c=i<u?n[i]:e;r(a,t[i],c)}return a}function Yi(t){return ba(t)?t:[]}function qi(t){return"function"==typeof t?t:jc}function Vi(t,n){return _a(t)?t:Xo(t,n)?[t]:fu(qa(t))}var Hi=Mi;function Xi(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:ji(t,n,r)}var Zi=Re||function(t){return Nn.clearTimeout(t)};function Gi(t,n){if(n)return t.slice();var e=t.length,r=Ln?Ln(e):new t.constructor(e);return t.copy(r),r}function Ji(t){var n=new t.constructor(t.byteLength);return new jn(n).set(new jn(t)),n}function Ki(t,n){var e=n?Ji(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Qi(t,n){if(t!==n){var r=t!==e,i=null===t,o=t==t,u=Ra(t),a=n!==e,c=null===n,f=n==n,s=Ra(n);if(!c&&!s&&!u&&t>n||u&&a&&f&&!c&&!s||i&&a&&f||!r&&f||!o)return 1;if(!i&&!u&&!s&&t<n||s&&r&&o&&!i&&!u||c&&r&&o||!a&&o||!f)return-1}return 0}function to(t,n,e,r){for(var i=-1,o=t.length,u=e.length,a=-1,c=n.length,f=qe(o-u,0),s=Gt(c+f),l=!r;++a<c;)s[a]=n[a];for(;++i<u;)(l||i<o)&&(s[e[i]]=t[i]);for(;f--;)s[a++]=t[i++];return s}function no(t,n,e,r){for(var i=-1,o=t.length,u=-1,a=e.length,c=-1,f=n.length,s=qe(o-a,0),l=Gt(s+f),h=!r;++i<s;)l[i]=t[i];for(var d=i;++c<f;)l[d+c]=n[c];for(;++u<a;)(h||i<o)&&(l[d+e[u]]=t[i++]);return l}function eo(t,n){var e=-1,r=t.length;for(n||(n=Gt(r));++e<r;)n[e]=t[e];return n}function ro(t,n,r,i){var o=!r;r||(r={});for(var u=-1,a=n.length;++u<a;){var c=n[u],f=i?i(r[c],t[c],c,r,t):e;f===e&&(f=t[c]),o?Nr(r,c,f):Cr(r,c,f)}return r}function io(t,n){return function(e,r){var i=_a(e)?qn:jr,o=n?n():{};return i(e,t,Io(r,2),o)}}function oo(t){return Mi(function(n,r){var i=-1,o=r.length,u=o>1?r[o-1]:e,a=o>2?r[2]:e;for(u=t.length>3&&"function"==typeof u?(o--,u):e,a&&Ho(r[0],r[1],a)&&(u=o<3?e:u,o=1),n=nn(n);++i<o;){var c=r[i];c&&t(n,c,i,u)}return n})}function uo(t,n){return function(e,r){if(null==e)return e;if(!ma(e))return t(e,r);for(var i=e.length,o=n?i:-1,u=nn(e);(n?o--:++o<i)&&!1!==r(u[o],o,u););return e}}function ao(t){return function(n,e,r){for(var i=-1,o=nn(n),u=r(n),a=u.length;a--;){var c=u[t?a:++i];if(!1===e(o[c],c,o))break}return n}}function co(t){return function(n){var r=Me(n=qa(n))?je(n):e,i=r?r[0]:n.charAt(0),o=r?Xi(r,1).join(""):n.slice(1);return i[t]()+o}}function fo(t){return function(n){return te(Ac(gc(n).replace(_n,"")),t,"")}}function so(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=pr(t.prototype),r=t.apply(e,n);return Ta(r)?r:e}}function lo(t){return function(n,r,i){var o=nn(n);if(!ma(n)){var u=Io(r,3);n=ic(n),r=function(t){return u(o[t],t,o)}}var a=t(n,r,i);return a>-1?o[u?n[a]:a]:e}}function ho(t){return jo(function(n){var r=n.length,i=r,u=gr.prototype.thru;for(t&&n.reverse();i--;){var a=n[i];if("function"!=typeof a)throw new on(o);if(u&&!c&&"wrapper"==Do(a))var c=new gr([],!0)}for(i=c?i:r;++i<r;){var f=Do(a=n[i]),s="wrapper"==f?Po(a):e;c=s&&Zo(s[0])&&s[1]==(w|_|m|x)&&!s[4].length&&1==s[9]?c[Do(s[0])].apply(c,s[3]):1==a.length&&Zo(a)?c[f]():c.thru(a)}return function(){var t=arguments,e=t[0];if(c&&1==t.length&&_a(e))return c.plant(e).value();for(var i=0,o=r?n[i].apply(this,t):e;++i<r;)o=n[i].call(this,o);return o}})}function po(t,n,r,i,o,u,a,c,f,s){var l=n&w,h=n&p,d=n&v,g=n&(_|y),m=n&M,b=d?e:so(t);return function p(){for(var v=arguments.length,_=Gt(v),y=v;y--;)_[y]=arguments[y];if(g)var w=Ro(p),x=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}(_,w);if(i&&(_=to(_,i,o,g)),u&&(_=no(_,u,a,g)),v-=x,g&&v<s){var M=Ee(_,w);return wo(t,n,po,p.placeholder,r,_,M,c,f,s-v)}var A=h?r:this,S=d?A[t]:t;return v=_.length,c?_=function(t,n){for(var r=t.length,i=Ve(n.length,r),o=eo(t);i--;){var u=n[i];t[i]=Vo(u,r)?o[u]:e}return t}(_,c):m&&v>1&&_.reverse(),l&&f<v&&(_.length=f),this&&this!==Nn&&this instanceof p&&(S=b||so(S)),S.apply(A,_)}}function vo(t,n){return function(e,r){return function(t,n,e,r){return Hr(t,function(t,i,o){n(r,e(t),i,o)}),r}(e,t,n(r),{})}}function go(t,n){return function(r,i){var o;if(r===e&&i===e)return n;if(r!==e&&(o=r),i!==e){if(o===e)return i;"string"==typeof r||"string"==typeof i?(r=Ii(r),i=Ii(i)):(r=Ri(r),i=Ri(i)),o=t(r,i)}return o}}function _o(t){return jo(function(n){return n=Kn(n,ve(Io())),Mi(function(e){var r=this;return t(n,function(t){return Yn(t,r,e)})})})}function yo(t,n){var r=(n=n===e?" ":Ii(n)).length;if(r<2)return r?xi(n,t):n;var i=xi(n,Oe(t/ke(n)));return Me(n)?Xi(je(i),0,t).join(""):i.slice(0,t)}function mo(t){return function(n,r,i){return i&&"number"!=typeof i&&Ho(n,r,i)&&(r=i=e),n=Fa(n),r===e?(r=n,n=0):r=Fa(r),function(t,n,e,r){for(var i=-1,o=qe(Oe((n-t)/(e||1)),0),u=Gt(o);o--;)u[r?o:++i]=t,t+=e;return u}(n,r,i=i===e?n<r?1:-1:Fa(i),t)}}function bo(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=Wa(n),e=Wa(e)),t(n,e)}}function wo(t,n,r,i,o,u,a,c,f,s){var l=n&_;n|=l?m:b,(n&=~(l?b:m))&g||(n&=~(p|v));var h=[t,n,o,l?u:e,l?a:e,l?e:u,l?e:a,c,f,s],d=r.apply(e,h);return Zo(t)&&ru(d,h),d.placeholder=i,uu(d,t,n)}function xo(t){var n=tn[t];return function(t,e){if(t=Wa(t),(e=null==e?0:Ve($a(e),292))&&Be(t)){var r=(qa(t)+"e").split("e");return+((r=(qa(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Mo=tr&&1/Te(new tr([,-0]))[1]==j?function(t){return new tr(t)}:Rc;function Ao(t){return function(n){var e=Bo(n);return e==H?Ae(n):e==Q?Ce(n):function(t,n){return Kn(n,function(n){return[n,t[n]]})}(n,t(n))}}function So(t,n,r,i,u,a,f,s){var l=n&v;if(!l&&"function"!=typeof t)throw new on(o);var h=i?i.length:0;if(h||(n&=~(m|b),i=u=e),f=f===e?f:qe($a(f),0),s=s===e?s:$a(s),h-=u?u.length:0,n&b){var d=i,M=u;i=u=e}var A=l?e:Po(t),S=[t,n,r,i,u,d,M,a,f,s];if(A&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<(p|v|w),u=r==w&&e==_||r==w&&e==x&&t[7].length<=n[8]||r==(w|x)&&n[7].length<=n[8]&&e==_;if(!o&&!u)return t;r&p&&(t[2]=n[2],i|=e&p?0:g);var a=n[3];if(a){var f=t[3];t[3]=f?to(f,a,n[4]):a,t[4]=f?Ee(t[3],c):n[4]}(a=n[5])&&(f=t[5],t[5]=f?no(f,a,n[6]):a,t[6]=f?Ee(t[5],c):n[6]),(a=n[7])&&(t[7]=a),r&w&&(t[8]=null==t[8]?n[8]:Ve(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(S,A),t=S[0],n=S[1],r=S[2],i=S[3],u=S[4],!(s=S[9]=S[9]===e?l?0:t.length:qe(S[9]-h,0))&&n&(_|y)&&(n&=~(_|y)),n&&n!=p)E=n==_||n==y?function(t,n,r){var i=so(t);return function o(){for(var u=arguments.length,a=Gt(u),c=u,f=Ro(o);c--;)a[c]=arguments[c];var s=u<3&&a[0]!==f&&a[u-1]!==f?[]:Ee(a,f);return(u-=s.length)<r?wo(t,n,po,o.placeholder,e,a,s,e,e,r-u):Yn(this&&this!==Nn&&this instanceof o?i:t,this,a)}}(t,n,s):n!=m&&n!=(p|m)||u.length?po.apply(e,S):function(t,n,e,r){var i=n&p,o=so(t);return function n(){for(var u=-1,a=arguments.length,c=-1,f=r.length,s=Gt(f+a),l=this&&this!==Nn&&this instanceof n?o:t;++c<f;)s[c]=r[c];for(;a--;)s[c++]=arguments[++u];return Yn(l,i?e:this,s)}}(t,n,r,i);else var E=function(t,n,e){var r=n&p,i=so(t);return function n(){return(this&&this!==Nn&&this instanceof n?i:t).apply(r?e:this,arguments)}}(t,n,r);return uu((A?Ti:ru)(E,S),t,n)}function Eo(t,n,r,i){return t===e||da(t,cn[r])&&!ln.call(i,r)?n:t}function To(t,n,r,i,o,u){return Ta(t)&&Ta(n)&&(u.set(n,t),vi(t,n,e,To,u),u.delete(n)),t}function Co(t){return La(t)?e:t}function ko(t,n,r,i,o,u){var a=r&h,c=t.length,f=n.length;if(c!=f&&!(a&&f>c))return!1;var s=u.get(t);if(s&&u.get(n))return s==n;var l=-1,p=!0,v=r&d?new wr:e;for(u.set(t,n),u.set(n,t);++l<c;){var g=t[l],_=n[l];if(i)var y=a?i(_,g,l,n,t,u):i(g,_,l,t,n,u);if(y!==e){if(y)continue;p=!1;break}if(v){if(!ee(n,function(t,n){if(!_e(v,n)&&(g===t||o(g,t,r,i,u)))return v.push(n)})){p=!1;break}}else if(g!==_&&!o(g,_,r,i,u)){p=!1;break}}return u.delete(t),u.delete(n),p}function jo(t){return ou(tu(t,e,yu),t+"")}function Lo(t){return Jr(t,ic,Fo)}function No(t){return Jr(t,oc,$o)}var Po=rr?function(t){return rr.get(t)}:Rc;function Do(t){for(var n=t.name+"",e=ir[n],r=ln.call(ir,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Ro(t){return(ln.call(dr,"placeholder")?dr:t).placeholder}function Io(){var t=dr.iteratee||Lc;return t=t===Lc?ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Uo(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function Oo(t){for(var n=ic(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Ko(i)]}return n}function zo(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return ai(r)?r:e}var Fo=Fe?function(t){return null==t?[]:(t=nn(t),Zn(Fe(t),function(n){return In.call(t,n)}))}:Bc,$o=Fe?function(t){for(var n=[];t;)Qn(n,Fo(t)),t=Pn(t);return n}:Bc,Bo=Kr;function Wo(t,n,e){for(var r=-1,i=(n=Vi(n,t)).length,o=!1;++r<i;){var u=su(n[r]);if(!(o=null!=t&&e(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ea(i)&&Vo(u,i)&&(_a(t)||ga(t))}function Yo(t){return"function"!=typeof t.constructor||Jo(t)?{}:pr(Pn(t))}function qo(t){return _a(t)||ga(t)||!!(re&&t&&t[re])}function Vo(t,n){var e=typeof t;return!!(n=null==n?L:n)&&("number"==e||"symbol"!=e&&Vt.test(t))&&t>-1&&t%1==0&&t<n}function Ho(t,n,e){if(!Ta(e))return!1;var r=typeof n;return!!("number"==r?ma(e)&&Vo(n,e.length):"string"==r&&n in e)&&da(e[n],t)}function Xo(t,n){if(_a(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Ra(t))||Tt.test(t)||!Et.test(t)||null!=n&&t in nn(n)}function Zo(t){var n=Do(t),e=dr[n];if("function"!=typeof e||!(n in _r.prototype))return!1;if(t===e)return!0;var r=Po(e);return!!r&&t===r[0]}(Je&&Bo(new Je(new ArrayBuffer(1)))!=ut||Ke&&Bo(new Ke)!=H||Qe&&"[object Promise]"!=Bo(Qe.resolve())||tr&&Bo(new tr)!=Q||nr&&Bo(new nr)!=rt)&&(Bo=function(t){var n=Kr(t),r=n==G?t.constructor:e,i=r?lu(r):"";if(i)switch(i){case or:return ut;case ur:return H;case ar:return"[object Promise]";case cr:return Q;case fr:return rt}return n});var Go=fn?Aa:Wc;function Jo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||cn)}function Ko(t){return t==t&&!Ta(t)}function Qo(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in nn(r))}}function tu(t,n,r){return n=qe(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,o=qe(e.length-n,0),u=Gt(o);++i<o;)u[i]=e[n+i];i=-1;for(var a=Gt(n+1);++i<n;)a[i]=e[i];return a[n]=r(u),Yn(t,this,a)}}function nu(t,n){return n.length<2?t:Gr(t,ji(n,0,-1))}function eu(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var ru=au(Ti),iu=Ue||function(t,n){return Nn.setTimeout(t,n)},ou=au(Ci);function uu(t,n,e){var r=n+"";return ou(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Dt,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return Vn(U,function(e){var r="_."+e[0];n&e[1]&&!Gn(t,r)&&t.push(r)}),t.sort()}(function(t){var n=t.match(Rt);return n?n[1].split(It):[]}(r),e)))}function au(t){var n=0,r=0;return function(){var i=He(),o=T-(i-r);if(r=i,o>0){if(++n>=E)return arguments[0]}else n=0;return t.apply(e,arguments)}}function cu(t,n){var r=-1,i=t.length,o=i-1;for(n=n===e?i:n;++r<n;){var u=wi(r,o),a=t[u];t[u]=t[r],t[r]=a}return t.length=n,t}var fu=function(t){var n=aa(t,function(t){return e.size===a&&e.clear(),t}),e=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Ct,function(t,e,r,i){n.push(r?i.replace(Ot,"$1"):e||t)}),n});function su(t){if("string"==typeof t||Ra(t))return t;var n=t+"";return"0"==n&&1/t==-j?"-0":n}function lu(t){if(null!=t){try{return sn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function hu(t){if(t instanceof _r)return t.clone();var n=new gr(t.__wrapped__,t.__chain__);return n.__actions__=eo(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var du=Mi(function(t,n){return ba(t)?Or(t,Yr(n,1,ba,!0)):[]}),pu=Mi(function(t,n){var r=Mu(n);return ba(r)&&(r=e),ba(t)?Or(t,Yr(n,1,ba,!0),Io(r,2)):[]}),vu=Mi(function(t,n){var r=Mu(n);return ba(r)&&(r=e),ba(t)?Or(t,Yr(n,1,ba,!0),e,r):[]});function gu(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:$a(e);return i<0&&(i=qe(r+i,0)),oe(t,Io(n,3),i)}function _u(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==e&&(o=$a(r),o=r<0?qe(i+o,0):Ve(o,i-1)),oe(t,Io(n,3),o,!0)}function yu(t){return null!=t&&t.length?Yr(t,1):[]}function mu(t){return t&&t.length?t[0]:e}var bu=Mi(function(t){var n=Kn(t,Yi);return n.length&&n[0]===t[0]?ei(n):[]}),wu=Mi(function(t){var n=Mu(t),r=Kn(t,Yi);return n===Mu(r)?n=e:r.pop(),r.length&&r[0]===t[0]?ei(r,Io(n,2)):[]}),xu=Mi(function(t){var n=Mu(t),r=Kn(t,Yi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?ei(r,e,n):[]});function Mu(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Au=Mi(Su);function Su(t,n){return t&&t.length&&n&&n.length?mi(t,n):t}var Eu=jo(function(t,n){var e=null==t?0:t.length,r=Pr(t,n);return bi(t,Kn(n,function(t){return Vo(t,e)?+t:t}).sort(Qi)),r});function Tu(t){return null==t?t:Ge.call(t)}var Cu=Mi(function(t){return Ui(Yr(t,1,ba,!0))}),ku=Mi(function(t){var n=Mu(t);return ba(n)&&(n=e),Ui(Yr(t,1,ba,!0),Io(n,2))}),ju=Mi(function(t){var n=Mu(t);return n="function"==typeof n?n:e,Ui(Yr(t,1,ba,!0),e,n)});function Lu(t){if(!t||!t.length)return[];var n=0;return t=Zn(t,function(t){if(ba(t))return n=qe(t.length,n),!0}),pe(n,function(n){return Kn(t,se(n))})}function Nu(t,n){if(!t||!t.length)return[];var r=Lu(t);return null==n?r:Kn(r,function(t){return Yn(n,e,t)})}var Pu=Mi(function(t,n){return ba(t)?Or(t,n):[]}),Du=Mi(function(t){return Bi(Zn(t,ba))}),Ru=Mi(function(t){var n=Mu(t);return ba(n)&&(n=e),Bi(Zn(t,ba),Io(n,2))}),Iu=Mi(function(t){var n=Mu(t);return n="function"==typeof n?n:e,Bi(Zn(t,ba),e,n)}),Uu=Mi(Lu);var Ou=Mi(function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,Nu(t,r)});function zu(t){var n=dr(t);return n.__chain__=!0,n}function Fu(t,n){return n(t)}var $u=jo(function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,o=function(n){return Pr(n,t)};return!(n>1||this.__actions__.length)&&i instanceof _r&&Vo(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Fu,args:[o],thisArg:e}),new gr(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(e),t})):this.thru(o)});var Bu=io(function(t,n,e){ln.call(t,e)?++t[e]:Nr(t,e,1)});var Wu=lo(gu),Yu=lo(_u);function qu(t,n){return(_a(t)?Vn:zr)(t,Io(n,3))}function Vu(t,n){return(_a(t)?Hn:Fr)(t,Io(n,3))}var Hu=io(function(t,n,e){ln.call(t,e)?t[e].push(n):Nr(t,e,[n])});var Xu=Mi(function(t,n,e){var r=-1,i="function"==typeof n,o=ma(t)?Gt(t.length):[];return zr(t,function(t){o[++r]=i?Yn(n,t,e):ri(t,n,e)}),o}),Zu=io(function(t,n,e){Nr(t,e,n)});function Gu(t,n){return(_a(t)?Kn:hi)(t,Io(n,3))}var Ju=io(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var Ku=Mi(function(t,n){if(null==t)return[];var e=n.length;return e>1&&Ho(t,n[0],n[1])?n=[]:e>2&&Ho(n[0],n[1],n[2])&&(n=[n[0]]),_i(t,Yr(n,1),[])}),Qu=Ie||function(){return Nn.Date.now()};function ta(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,So(t,w,e,e,e,e,n)}function na(t,n){var r;if("function"!=typeof n)throw new on(o);return t=$a(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=e),r}}var ea=Mi(function(t,n,e){var r=p;if(e.length){var i=Ee(e,Ro(ea));r|=m}return So(t,r,n,e,i)}),ra=Mi(function(t,n,e){var r=p|v;if(e.length){var i=Ee(e,Ro(ra));r|=m}return So(n,r,t,e,i)});function ia(t,n,r){var i,u,a,c,f,s,l=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new on(o);function v(n){var r=i,o=u;return i=u=e,l=n,c=t.apply(o,r)}function g(t){var r=t-s;return s===e||r>=n||r<0||d&&t-l>=a}function _(){var t=Qu();if(g(t))return y(t);f=iu(_,function(t){var e=n-(t-s);return d?Ve(e,a-(t-l)):e}(t))}function y(t){return f=e,p&&i?v(t):(i=u=e,c)}function m(){var t=Qu(),r=g(t);if(i=arguments,u=this,s=t,r){if(f===e)return function(t){return l=t,f=iu(_,n),h?v(t):c}(s);if(d)return Zi(f),f=iu(_,n),v(s)}return f===e&&(f=iu(_,n)),c}return n=Wa(n)||0,Ta(r)&&(h=!!r.leading,a=(d="maxWait"in r)?qe(Wa(r.maxWait)||0,n):a,p="trailing"in r?!!r.trailing:p),m.cancel=function(){f!==e&&Zi(f),l=0,i=s=u=f=e},m.flush=function(){return f===e?c:y(Qu())},m}var oa=Mi(function(t,n){return Ur(t,1,n)}),ua=Mi(function(t,n,e){return Ur(t,Wa(n)||0,e)});function aa(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new on(o);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return e.cache=o.set(i,u)||o,u};return e.cache=new(aa.Cache||br),e}function ca(t){if("function"!=typeof t)throw new on(o);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}aa.Cache=br;var fa=Hi(function(t,n){var e=(n=1==n.length&&_a(n[0])?Kn(n[0],ve(Io())):Kn(Yr(n,1),ve(Io()))).length;return Mi(function(r){for(var i=-1,o=Ve(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return Yn(t,this,r)})}),sa=Mi(function(t,n){var r=Ee(n,Ro(sa));return So(t,m,e,n,r)}),la=Mi(function(t,n){var r=Ee(n,Ro(la));return So(t,b,e,n,r)}),ha=jo(function(t,n){return So(t,x,e,e,e,n)});function da(t,n){return t===n||t!=t&&n!=n}var pa=bo(Qr),va=bo(function(t,n){return t>=n}),ga=ii(function(){return arguments}())?ii:function(t){return Ca(t)&&ln.call(t,"callee")&&!In.call(t,"callee")},_a=Gt.isArray,ya=On?ve(On):function(t){return Ca(t)&&Kr(t)==ot};function ma(t){return null!=t&&Ea(t.length)&&!Aa(t)}function ba(t){return Ca(t)&&ma(t)}var wa=$e||Wc,xa=zn?ve(zn):function(t){return Ca(t)&&Kr(t)==B};function Ma(t){if(!Ca(t))return!1;var n=Kr(t);return n==Y||n==W||"string"==typeof t.message&&"string"==typeof t.name&&!La(t)}function Aa(t){if(!Ta(t))return!1;var n=Kr(t);return n==q||n==V||n==F||n==J}function Sa(t){return"number"==typeof t&&t==$a(t)}function Ea(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function Ta(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Ca(t){return null!=t&&"object"==typeof t}var ka=Fn?ve(Fn):function(t){return Ca(t)&&Bo(t)==H};function ja(t){return"number"==typeof t||Ca(t)&&Kr(t)==X}function La(t){if(!Ca(t)||Kr(t)!=G)return!1;var n=Pn(t);if(null===n)return!0;var e=ln.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&sn.call(e)==vn}var Na=$n?ve($n):function(t){return Ca(t)&&Kr(t)==K};var Pa=Bn?ve(Bn):function(t){return Ca(t)&&Bo(t)==Q};function Da(t){return"string"==typeof t||!_a(t)&&Ca(t)&&Kr(t)==tt}function Ra(t){return"symbol"==typeof t||Ca(t)&&Kr(t)==nt}var Ia=Wn?ve(Wn):function(t){return Ca(t)&&Ea(t.length)&&!!Sn[Kr(t)]};var Ua=bo(li),Oa=bo(function(t,n){return t<=n});function za(t){if(!t)return[];if(ma(t))return Da(t)?je(t):eo(t);if(le&&t[le])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[le]());var n=Bo(t);return(n==H?Ae:n==Q?Te:dc)(t)}function Fa(t){return t?(t=Wa(t))===j||t===-j?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function $a(t){var n=Fa(t),e=n%1;return n==n?e?n-e:n:0}function Ba(t){return t?Dr($a(t),0,D):0}function Wa(t){if("number"==typeof t)return t;if(Ra(t))return P;if(Ta(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ta(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Lt,"");var e=Wt.test(t);return e||qt.test(t)?kn(t.slice(2),e?2:8):Bt.test(t)?P:+t}function Ya(t){return ro(t,oc(t))}function qa(t){return null==t?"":Ii(t)}var Va=oo(function(t,n){if(Jo(n)||ma(n))ro(n,ic(n),t);else for(var e in n)ln.call(n,e)&&Cr(t,e,n[e])}),Ha=oo(function(t,n){ro(n,oc(n),t)}),Xa=oo(function(t,n,e,r){ro(n,oc(n),t,r)}),Za=oo(function(t,n,e,r){ro(n,ic(n),t,r)}),Ga=jo(Pr);var Ja=Mi(function(t,n){t=nn(t);var r=-1,i=n.length,o=i>2?n[2]:e;for(o&&Ho(n[0],n[1],o)&&(i=1);++r<i;)for(var u=n[r],a=oc(u),c=-1,f=a.length;++c<f;){var s=a[c],l=t[s];(l===e||da(l,cn[s])&&!ln.call(t,s))&&(t[s]=u[s])}return t}),Ka=Mi(function(t){return t.push(e,To),Yn(ac,e,t)});function Qa(t,n,r){var i=null==t?e:Gr(t,n);return i===e?r:i}function tc(t,n){return null!=t&&Wo(t,n,ni)}var nc=vo(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=pn.call(n)),t[n]=e},Tc(jc)),ec=vo(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=pn.call(n)),ln.call(t,n)?t[n].push(e):t[n]=[e]},Io),rc=Mi(ri);function ic(t){return ma(t)?Mr(t):fi(t)}function oc(t){return ma(t)?Mr(t,!0):si(t)}var uc=oo(function(t,n,e){vi(t,n,e)}),ac=oo(function(t,n,e,r){vi(t,n,e,r)}),cc=jo(function(t,n){var e={};if(null==t)return e;var r=!1;n=Kn(n,function(n){return n=Vi(n,t),r||(r=n.length>1),n}),ro(t,No(t),e),r&&(e=Rr(e,f|s|l,Co));for(var i=n.length;i--;)Oi(e,n[i]);return e});var fc=jo(function(t,n){return null==t?{}:function(t,n){return yi(t,n,function(n,e){return tc(t,e)})}(t,n)});function sc(t,n){if(null==t)return{};var e=Kn(No(t),function(t){return[t]});return n=Io(n),yi(t,e,function(t,e){return n(t,e[0])})}var lc=Ao(ic),hc=Ao(oc);function dc(t){return null==t?[]:ge(t,ic(t))}var pc=fo(function(t,n,e){return n=n.toLowerCase(),t+(e?vc(n):n)});function vc(t){return Mc(qa(t).toLowerCase())}function gc(t){return(t=qa(t))&&t.replace(Ht,be).replace(yn,"")}var _c=fo(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),yc=fo(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),mc=co("toLowerCase");var bc=fo(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});var wc=fo(function(t,n,e){return t+(e?" ":"")+Mc(n)});var xc=fo(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),Mc=co("toUpperCase");function Ac(t,n,r){return t=qa(t),(n=r?e:n)===e?function(t){return xn.test(t)}(t)?function(t){return t.match(bn)||[]}(t):function(t){return t.match(Ut)||[]}(t):t.match(n)||[]}var Sc=Mi(function(t,n){try{return Yn(t,e,n)}catch(t){return Ma(t)?t:new Kt(t)}}),Ec=jo(function(t,n){return Vn(n,function(n){n=su(n),Nr(t,n,ea(t[n],t))}),t});function Tc(t){return function(){return t}}var Cc=ho(),kc=ho(!0);function jc(t){return t}function Lc(t){return ci("function"==typeof t?t:Rr(t,f))}var Nc=Mi(function(t,n){return function(e){return ri(e,t,n)}}),Pc=Mi(function(t,n){return function(e){return ri(t,e,n)}});function Dc(t,n,e){var r=ic(n),i=Zr(n,r);null!=e||Ta(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=Zr(n,ic(n)));var o=!(Ta(e)&&"chain"in e&&!e.chain),u=Aa(t);return Vn(i,function(e){var r=n[e];t[e]=r,u&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__);return(e.__actions__=eo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,Qn([this.value()],arguments))})}),t}function Rc(){}var Ic=_o(Kn),Uc=_o(Xn),Oc=_o(ee);function zc(t){return Xo(t)?se(su(t)):function(t){return function(n){return Gr(n,t)}}(t)}var Fc=mo(),$c=mo(!0);function Bc(){return[]}function Wc(){return!1}var Yc=go(function(t,n){return t+n},0),qc=xo("ceil"),Vc=go(function(t,n){return t/n},1),Hc=xo("floor");var Xc,Zc=go(function(t,n){return t*n},1),Gc=xo("round"),Jc=go(function(t,n){return t-n},0);return dr.after=function(t,n){if("function"!=typeof n)throw new on(o);return t=$a(t),function(){if(--t<1)return n.apply(this,arguments)}},dr.ary=ta,dr.assign=Va,dr.assignIn=Ha,dr.assignInWith=Xa,dr.assignWith=Za,dr.at=Ga,dr.before=na,dr.bind=ea,dr.bindAll=Ec,dr.bindKey=ra,dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _a(t)?t:[t]},dr.chain=zu,dr.chunk=function(t,n,r){n=(r?Ho(t,n,r):n===e)?1:qe($a(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var o=0,u=0,a=Gt(Oe(i/n));o<i;)a[u++]=ji(t,o,o+=n);return a},dr.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},dr.concat=function(){var t=arguments.length;if(!t)return[];for(var n=Gt(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return Qn(_a(e)?eo(e):[e],Yr(n,1))},dr.cond=function(t){var n=null==t?0:t.length,e=Io();return t=n?Kn(t,function(t){if("function"!=typeof t[1])throw new on(o);return[e(t[0]),t[1]]}):[],Mi(function(e){for(var r=-1;++r<n;){var i=t[r];if(Yn(i[0],this,e))return Yn(i[1],this,e)}})},dr.conforms=function(t){return function(t){var n=ic(t);return function(e){return Ir(e,t,n)}}(Rr(t,f))},dr.constant=Tc,dr.countBy=Bu,dr.create=function(t,n){var e=pr(t);return null==n?e:Lr(e,n)},dr.curry=function t(n,r,i){var o=So(n,_,e,e,e,e,e,r=i?e:r);return o.placeholder=t.placeholder,o},dr.curryRight=function t(n,r,i){var o=So(n,y,e,e,e,e,e,r=i?e:r);return o.placeholder=t.placeholder,o},dr.debounce=ia,dr.defaults=Ja,dr.defaultsDeep=Ka,dr.defer=oa,dr.delay=ua,dr.difference=du,dr.differenceBy=pu,dr.differenceWith=vu,dr.drop=function(t,n,r){var i=null==t?0:t.length;return i?ji(t,(n=r||n===e?1:$a(n))<0?0:n,i):[]},dr.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?ji(t,0,(n=i-(n=r||n===e?1:$a(n)))<0?0:n):[]},dr.dropRightWhile=function(t,n){return t&&t.length?Fi(t,Io(n,3),!0,!0):[]},dr.dropWhile=function(t,n){return t&&t.length?Fi(t,Io(n,3),!0):[]},dr.fill=function(t,n,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Ho(t,n,r)&&(r=0,i=o),function(t,n,r,i){var o=t.length;for((r=$a(r))<0&&(r=-r>o?0:o+r),(i=i===e||i>o?o:$a(i))<0&&(i+=o),i=r>i?0:Ba(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},dr.filter=function(t,n){return(_a(t)?Zn:Wr)(t,Io(n,3))},dr.flatMap=function(t,n){return Yr(Gu(t,n),1)},dr.flatMapDeep=function(t,n){return Yr(Gu(t,n),j)},dr.flatMapDepth=function(t,n,r){return r=r===e?1:$a(r),Yr(Gu(t,n),r)},dr.flatten=yu,dr.flattenDeep=function(t){return null!=t&&t.length?Yr(t,j):[]},dr.flattenDepth=function(t,n){return null!=t&&t.length?Yr(t,n=n===e?1:$a(n)):[]},dr.flip=function(t){return So(t,M)},dr.flow=Cc,dr.flowRight=kc,dr.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},dr.functions=function(t){return null==t?[]:Zr(t,ic(t))},dr.functionsIn=function(t){return null==t?[]:Zr(t,oc(t))},dr.groupBy=Hu,dr.initial=function(t){return null!=t&&t.length?ji(t,0,-1):[]},dr.intersection=bu,dr.intersectionBy=wu,dr.intersectionWith=xu,dr.invert=nc,dr.invertBy=ec,dr.invokeMap=Xu,dr.iteratee=Lc,dr.keyBy=Zu,dr.keys=ic,dr.keysIn=oc,dr.map=Gu,dr.mapKeys=function(t,n){var e={};return n=Io(n,3),Hr(t,function(t,r,i){Nr(e,n(t,r,i),t)}),e},dr.mapValues=function(t,n){var e={};return n=Io(n,3),Hr(t,function(t,r,i){Nr(e,r,n(t,r,i))}),e},dr.matches=function(t){return di(Rr(t,f))},dr.matchesProperty=function(t,n){return pi(t,Rr(n,f))},dr.memoize=aa,dr.merge=uc,dr.mergeWith=ac,dr.method=Nc,dr.methodOf=Pc,dr.mixin=Dc,dr.negate=ca,dr.nthArg=function(t){return t=$a(t),Mi(function(n){return gi(n,t)})},dr.omit=cc,dr.omitBy=function(t,n){return sc(t,ca(Io(n)))},dr.once=function(t){return na(2,t)},dr.orderBy=function(t,n,r,i){return null==t?[]:(_a(n)||(n=null==n?[]:[n]),_a(r=i?e:r)||(r=null==r?[]:[r]),_i(t,n,r))},dr.over=Ic,dr.overArgs=fa,dr.overEvery=Uc,dr.overSome=Oc,dr.partial=sa,dr.partialRight=la,dr.partition=Ju,dr.pick=fc,dr.pickBy=sc,dr.property=zc,dr.propertyOf=function(t){return function(n){return null==t?e:Gr(t,n)}},dr.pull=Au,dr.pullAll=Su,dr.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?mi(t,n,Io(e,2)):t},dr.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?mi(t,n,e,r):t},dr.pullAt=Eu,dr.range=Fc,dr.rangeRight=$c,dr.rearg=ha,dr.reject=function(t,n){return(_a(t)?Zn:Wr)(t,ca(Io(n,3)))},dr.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Io(n,3);++r<o;){var u=t[r];n(u,r,t)&&(e.push(u),i.push(r))}return bi(t,i),e},dr.rest=function(t,n){if("function"!=typeof t)throw new on(o);return Mi(t,n=n===e?n:$a(n))},dr.reverse=Tu,dr.sampleSize=function(t,n,r){return n=(r?Ho(t,n,r):n===e)?1:$a(n),(_a(t)?Sr:Si)(t,n)},dr.set=function(t,n,e){return null==t?t:Ei(t,n,e)},dr.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:Ei(t,n,r,i)},dr.shuffle=function(t){return(_a(t)?Er:ki)(t)},dr.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Ho(t,n,r)?(n=0,r=i):(n=null==n?0:$a(n),r=r===e?i:$a(r)),ji(t,n,r)):[]},dr.sortBy=Ku,dr.sortedUniq=function(t){return t&&t.length?Di(t):[]},dr.sortedUniqBy=function(t,n){return t&&t.length?Di(t,Io(n,2)):[]},dr.split=function(t,n,r){return r&&"number"!=typeof r&&Ho(t,n,r)&&(n=r=e),(r=r===e?D:r>>>0)?(t=qa(t))&&("string"==typeof n||null!=n&&!Na(n))&&!(n=Ii(n))&&Me(t)?Xi(je(t),0,r):t.split(n,r):[]},dr.spread=function(t,n){if("function"!=typeof t)throw new on(o);return n=null==n?0:qe($a(n),0),Mi(function(e){var r=e[n],i=Xi(e,0,n);return r&&Qn(i,r),Yn(t,this,i)})},dr.tail=function(t){var n=null==t?0:t.length;return n?ji(t,1,n):[]},dr.take=function(t,n,r){return t&&t.length?ji(t,0,(n=r||n===e?1:$a(n))<0?0:n):[]},dr.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?ji(t,(n=i-(n=r||n===e?1:$a(n)))<0?0:n,i):[]},dr.takeRightWhile=function(t,n){return t&&t.length?Fi(t,Io(n,3),!1,!0):[]},dr.takeWhile=function(t,n){return t&&t.length?Fi(t,Io(n,3)):[]},dr.tap=function(t,n){return n(t),t},dr.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new on(o);return Ta(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),ia(t,n,{leading:r,maxWait:n,trailing:i})},dr.thru=Fu,dr.toArray=za,dr.toPairs=lc,dr.toPairsIn=hc,dr.toPath=function(t){return _a(t)?Kn(t,su):Ra(t)?[t]:eo(fu(qa(t)))},dr.toPlainObject=Ya,dr.transform=function(t,n,e){var r=_a(t),i=r||wa(t)||Ia(t);if(n=Io(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Ta(t)&&Aa(o)?pr(Pn(t)):{}}return(i?Vn:Hr)(t,function(t,r,i){return n(e,t,r,i)}),e},dr.unary=function(t){return ta(t,1)},dr.union=Cu,dr.unionBy=ku,dr.unionWith=ju,dr.uniq=function(t){return t&&t.length?Ui(t):[]},dr.uniqBy=function(t,n){return t&&t.length?Ui(t,Io(n,2)):[]},dr.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?Ui(t,e,n):[]},dr.unset=function(t,n){return null==t||Oi(t,n)},dr.unzip=Lu,dr.unzipWith=Nu,dr.update=function(t,n,e){return null==t?t:zi(t,n,qi(e))},dr.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:zi(t,n,qi(r),i)},dr.values=dc,dr.valuesIn=function(t){return null==t?[]:ge(t,oc(t))},dr.without=Pu,dr.words=Ac,dr.wrap=function(t,n){return sa(qi(n),t)},dr.xor=Du,dr.xorBy=Ru,dr.xorWith=Iu,dr.zip=Uu,dr.zipObject=function(t,n){return Wi(t||[],n||[],Cr)},dr.zipObjectDeep=function(t,n){return Wi(t||[],n||[],Ei)},dr.zipWith=Ou,dr.entries=lc,dr.entriesIn=hc,dr.extend=Ha,dr.extendWith=Xa,Dc(dr,dr),dr.add=Yc,dr.attempt=Sc,dr.camelCase=pc,dr.capitalize=vc,dr.ceil=qc,dr.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=Wa(r))==r?r:0),n!==e&&(n=(n=Wa(n))==n?n:0),Dr(Wa(t),n,r)},dr.clone=function(t){return Rr(t,l)},dr.cloneDeep=function(t){return Rr(t,f|l)},dr.cloneDeepWith=function(t,n){return Rr(t,f|l,n="function"==typeof n?n:e)},dr.cloneWith=function(t,n){return Rr(t,l,n="function"==typeof n?n:e)},dr.conformsTo=function(t,n){return null==n||Ir(t,n,ic(n))},dr.deburr=gc,dr.defaultTo=function(t,n){return null==t||t!=t?n:t},dr.divide=Vc,dr.endsWith=function(t,n,r){t=qa(t),n=Ii(n);var i=t.length,o=r=r===e?i:Dr($a(r),0,i);return(r-=n.length)>=0&&t.slice(r,o)==n},dr.eq=da,dr.escape=function(t){return(t=qa(t))&&xt.test(t)?t.replace(bt,we):t},dr.escapeRegExp=function(t){return(t=qa(t))&&jt.test(t)?t.replace(kt,"\\$&"):t},dr.every=function(t,n,r){var i=_a(t)?Xn:$r;return r&&Ho(t,n,r)&&(n=e),i(t,Io(n,3))},dr.find=Wu,dr.findIndex=gu,dr.findKey=function(t,n){return ie(t,Io(n,3),Hr)},dr.findLast=Yu,dr.findLastIndex=_u,dr.findLastKey=function(t,n){return ie(t,Io(n,3),Xr)},dr.floor=Hc,dr.forEach=qu,dr.forEachRight=Vu,dr.forIn=function(t,n){return null==t?t:qr(t,Io(n,3),oc)},dr.forInRight=function(t,n){return null==t?t:Vr(t,Io(n,3),oc)},dr.forOwn=function(t,n){return t&&Hr(t,Io(n,3))},dr.forOwnRight=function(t,n){return t&&Xr(t,Io(n,3))},dr.get=Qa,dr.gt=pa,dr.gte=va,dr.has=function(t,n){return null!=t&&Wo(t,n,ti)},dr.hasIn=tc,dr.head=mu,dr.identity=jc,dr.includes=function(t,n,e,r){t=ma(t)?t:dc(t),e=e&&!r?$a(e):0;var i=t.length;return e<0&&(e=qe(i+e,0)),Da(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&ue(t,n,e)>-1},dr.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:$a(e);return i<0&&(i=qe(r+i,0)),ue(t,n,i)},dr.inRange=function(t,n,r){return n=Fa(n),r===e?(r=n,n=0):r=Fa(r),function(t,n,e){return t>=Ve(n,e)&&t<qe(n,e)}(t=Wa(t),n,r)},dr.invoke=rc,dr.isArguments=ga,dr.isArray=_a,dr.isArrayBuffer=ya,dr.isArrayLike=ma,dr.isArrayLikeObject=ba,dr.isBoolean=function(t){return!0===t||!1===t||Ca(t)&&Kr(t)==$},dr.isBuffer=wa,dr.isDate=xa,dr.isElement=function(t){return Ca(t)&&1===t.nodeType&&!La(t)},dr.isEmpty=function(t){if(null==t)return!0;if(ma(t)&&(_a(t)||"string"==typeof t||"function"==typeof t.splice||wa(t)||Ia(t)||ga(t)))return!t.length;var n=Bo(t);if(n==H||n==Q)return!t.size;if(Jo(t))return!fi(t).length;for(var e in t)if(ln.call(t,e))return!1;return!0},dr.isEqual=function(t,n){return oi(t,n)},dr.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?oi(t,n,e,r):!!i},dr.isError=Ma,dr.isFinite=function(t){return"number"==typeof t&&Be(t)},dr.isFunction=Aa,dr.isInteger=Sa,dr.isLength=Ea,dr.isMap=ka,dr.isMatch=function(t,n){return t===n||ui(t,n,Oo(n))},dr.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,ui(t,n,Oo(n),r)},dr.isNaN=function(t){return ja(t)&&t!=+t},dr.isNative=function(t){if(Go(t))throw new Kt(i);return ai(t)},dr.isNil=function(t){return null==t},dr.isNull=function(t){return null===t},dr.isNumber=ja,dr.isObject=Ta,dr.isObjectLike=Ca,dr.isPlainObject=La,dr.isRegExp=Na,dr.isSafeInteger=function(t){return Sa(t)&&t>=-L&&t<=L},dr.isSet=Pa,dr.isString=Da,dr.isSymbol=Ra,dr.isTypedArray=Ia,dr.isUndefined=function(t){return t===e},dr.isWeakMap=function(t){return Ca(t)&&Bo(t)==rt},dr.isWeakSet=function(t){return Ca(t)&&Kr(t)==it},dr.join=function(t,n){return null==t?"":We.call(t,n)},dr.kebabCase=_c,dr.last=Mu,dr.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==e&&(o=(o=$a(r))<0?qe(i+o,0):Ve(o,i-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,o):oe(t,ce,o,!0)},dr.lowerCase=yc,dr.lowerFirst=mc,dr.lt=Ua,dr.lte=Oa,dr.max=function(t){return t&&t.length?Br(t,jc,Qr):e},dr.maxBy=function(t,n){return t&&t.length?Br(t,Io(n,2),Qr):e},dr.mean=function(t){return fe(t,jc)},dr.meanBy=function(t,n){return fe(t,Io(n,2))},dr.min=function(t){return t&&t.length?Br(t,jc,li):e},dr.minBy=function(t,n){return t&&t.length?Br(t,Io(n,2),li):e},dr.stubArray=Bc,dr.stubFalse=Wc,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Zc,dr.nth=function(t,n){return t&&t.length?gi(t,$a(n)):e},dr.noConflict=function(){return Nn._===this&&(Nn._=gn),this},dr.noop=Rc,dr.now=Qu,dr.pad=function(t,n,e){t=qa(t);var r=(n=$a(n))?ke(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return yo(ze(i),e)+t+yo(Oe(i),e)},dr.padEnd=function(t,n,e){t=qa(t);var r=(n=$a(n))?ke(t):0;return n&&r<n?t+yo(n-r,e):t},dr.padStart=function(t,n,e){t=qa(t);var r=(n=$a(n))?ke(t):0;return n&&r<n?yo(n-r,e)+t:t},dr.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),Xe(qa(t).replace(Nt,""),n||0)},dr.random=function(t,n,r){if(r&&"boolean"!=typeof r&&Ho(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=Fa(t),n===e?(n=t,t=0):n=Fa(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var o=Ze();return Ve(t+o*(n-t+Cn("1e-"+((o+"").length-1))),n)}return wi(t,n)},dr.reduce=function(t,n,e){var r=_a(t)?te:he,i=arguments.length<3;return r(t,Io(n,4),e,i,zr)},dr.reduceRight=function(t,n,e){var r=_a(t)?ne:he,i=arguments.length<3;return r(t,Io(n,4),e,i,Fr)},dr.repeat=function(t,n,r){return n=(r?Ho(t,n,r):n===e)?1:$a(n),xi(qa(t),n)},dr.replace=function(){var t=arguments,n=qa(t[0]);return t.length<3?n:n.replace(t[1],t[2])},dr.result=function(t,n,r){var i=-1,o=(n=Vi(n,t)).length;for(o||(o=1,t=e);++i<o;){var u=null==t?e:t[su(n[i])];u===e&&(i=o,u=r),t=Aa(u)?u.call(t):u}return t},dr.round=Gc,dr.runInContext=t,dr.sample=function(t){return(_a(t)?Ar:Ai)(t)},dr.size=function(t){if(null==t)return 0;if(ma(t))return Da(t)?ke(t):t.length;var n=Bo(t);return n==H||n==Q?t.size:fi(t).length},dr.snakeCase=bc,dr.some=function(t,n,r){var i=_a(t)?ee:Li;return r&&Ho(t,n,r)&&(n=e),i(t,Io(n,3))},dr.sortedIndex=function(t,n){return Ni(t,n)},dr.sortedIndexBy=function(t,n,e){return Pi(t,n,Io(e,2))},dr.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Ni(t,n);if(r<e&&da(t[r],n))return r}return-1},dr.sortedLastIndex=function(t,n){return Ni(t,n,!0)},dr.sortedLastIndexBy=function(t,n,e){return Pi(t,n,Io(e,2),!0)},dr.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var e=Ni(t,n,!0)-1;if(da(t[e],n))return e}return-1},dr.startCase=wc,dr.startsWith=function(t,n,e){return t=qa(t),e=null==e?0:Dr($a(e),0,t.length),n=Ii(n),t.slice(e,e+n.length)==n},dr.subtract=Jc,dr.sum=function(t){return t&&t.length?de(t,jc):0},dr.sumBy=function(t,n){return t&&t.length?de(t,Io(n,2)):0},dr.template=function(t,n,r){var i=dr.templateSettings;r&&Ho(t,n,r)&&(n=e),t=qa(t),n=Xa({},n,i,Eo);var o,u,a=Xa({},n.imports,i.imports,Eo),c=ic(a),f=ge(a,c),s=0,l=n.interpolate||Xt,h="__p += '",d=en((n.escape||Xt).source+"|"+l.source+"|"+(l===St?zt:Xt).source+"|"+(n.evaluate||Xt).source+"|$","g"),p="//# sourceURL="+(ln.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++An+"]")+"\n";t.replace(d,function(n,e,r,i,a,c){return r||(r=i),h+=t.slice(s,c).replace(Zt,xe),e&&(o=!0,h+="' +\n__e("+e+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+n.length,n}),h+="';\n";var v=ln.call(n,"variable")&&n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(gt,""):h).replace(_t,"$1").replace(yt,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Sc(function(){return Qt(c,p+"return "+h).apply(e,f)});if(g.source=h,Ma(g))throw g;return g},dr.times=function(t,n){if((t=$a(t))<1||t>L)return[];var e=D,r=Ve(t,D);n=Io(n),t-=D;for(var i=pe(r,n);++e<t;)n(e);return i},dr.toFinite=Fa,dr.toInteger=$a,dr.toLength=Ba,dr.toLower=function(t){return qa(t).toLowerCase()},dr.toNumber=Wa,dr.toSafeInteger=function(t){return t?Dr($a(t),-L,L):0===t?t:0},dr.toString=qa,dr.toUpper=function(t){return qa(t).toUpperCase()},dr.trim=function(t,n,r){if((t=qa(t))&&(r||n===e))return t.replace(Lt,"");if(!t||!(n=Ii(n)))return t;var i=je(t),o=je(n);return Xi(i,ye(i,o),me(i,o)+1).join("")},dr.trimEnd=function(t,n,r){if((t=qa(t))&&(r||n===e))return t.replace(Pt,"");if(!t||!(n=Ii(n)))return t;var i=je(t);return Xi(i,0,me(i,je(n))+1).join("")},dr.trimStart=function(t,n,r){if((t=qa(t))&&(r||n===e))return t.replace(Nt,"");if(!t||!(n=Ii(n)))return t;var i=je(t);return Xi(i,ye(i,je(n))).join("")},dr.truncate=function(t,n){var r=A,i=S;if(Ta(n)){var o="separator"in n?n.separator:o;r="length"in n?$a(n.length):r,i="omission"in n?Ii(n.omission):i}var u=(t=qa(t)).length;if(Me(t)){var a=je(t);u=a.length}if(r>=u)return t;var c=r-ke(i);if(c<1)return i;var f=a?Xi(a,0,c).join(""):t.slice(0,c);if(o===e)return f+i;if(a&&(c+=f.length-c),Na(o)){if(t.slice(c).search(o)){var s,l=f;for(o.global||(o=en(o.source,qa(Ft.exec(o))+"g")),o.lastIndex=0;s=o.exec(l);)var h=s.index;f=f.slice(0,h===e?c:h)}}else if(t.indexOf(Ii(o),c)!=c){var d=f.lastIndexOf(o);d>-1&&(f=f.slice(0,d))}return f+i},dr.unescape=function(t){return(t=qa(t))&&wt.test(t)?t.replace(mt,Le):t},dr.uniqueId=function(t){var n=++hn;return qa(t)+n},dr.upperCase=xc,dr.upperFirst=Mc,dr.each=qu,dr.eachRight=Vu,dr.first=mu,Dc(dr,(Xc={},Hr(dr,function(t,n){ln.call(dr.prototype,n)||(Xc[n]=t)}),Xc),{chain:!1}),dr.VERSION="4.17.15",Vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dr[t].placeholder=dr}),Vn(["drop","take"],function(t,n){_r.prototype[t]=function(r){r=r===e?1:qe($a(r),0);var i=this.__filtered__&&!n?new _r(this):this.clone();return i.__filtered__?i.__takeCount__=Ve(r,i.__takeCount__):i.__views__.push({size:Ve(r,D),type:t+(i.__dir__<0?"Right":"")}),i},_r.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Vn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e==C||3==e;_r.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Io(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),Vn(["head","last"],function(t,n){var e="take"+(n?"Right":"");_r.prototype[t]=function(){return this[e](1).value()[0]}}),Vn(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");_r.prototype[t]=function(){return this.__filtered__?new _r(this):this[e](1)}}),_r.prototype.compact=function(){return this.filter(jc)},_r.prototype.find=function(t){return this.filter(t).head()},_r.prototype.findLast=function(t){return this.reverse().find(t)},_r.prototype.invokeMap=Mi(function(t,n){return"function"==typeof t?new _r(this):this.map(function(e){return ri(e,t,n)})}),_r.prototype.reject=function(t){return this.filter(ca(Io(t)))},_r.prototype.slice=function(t,n){t=$a(t);var r=this;return r.__filtered__&&(t>0||n<0)?new _r(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=$a(n))<0?r.dropRight(-n):r.take(n-t)),r)},_r.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_r.prototype.toArray=function(){return this.take(D)},Hr(_r.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=dr[i?"take"+("last"==n?"Right":""):n],u=i||/^find/.test(n);o&&(dr.prototype[n]=function(){var n=this.__wrapped__,a=i?[1]:arguments,c=n instanceof _r,f=a[0],s=c||_a(n),l=function(t){var n=o.apply(dr,Qn([t],a));return i&&h?n[0]:n};s&&r&&"function"==typeof f&&1!=f.length&&(c=s=!1);var h=this.__chain__,d=!!this.__actions__.length,p=u&&!h,v=c&&!d;if(!u&&s){n=v?n:new _r(this);var g=t.apply(n,a);return g.__actions__.push({func:Fu,args:[l],thisArg:e}),new gr(g,h)}return p&&v?t.apply(this,a):(g=this.thru(l),p?i?g.value()[0]:g.value():g)})}),Vn(["pop","push","shift","sort","splice","unshift"],function(t){var n=un[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);dr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(_a(i)?i:[],t)}return this[e](function(e){return n.apply(_a(e)?e:[],t)})}}),Hr(_r.prototype,function(t,n){var e=dr[n];if(e){var r=e.name+"";ln.call(ir,r)||(ir[r]=[]),ir[r].push({name:n,func:e})}}),ir[po(e,v).name]=[{name:"wrapper",func:e}],_r.prototype.clone=function(){var t=new _r(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t},_r.prototype.reverse=function(){if(this.__filtered__){var t=new _r(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},_r.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=_a(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=Ve(n,t+u);break;case"takeRight":t=qe(t,n-u)}}return{start:t,end:n}}(0,i,this.__views__),u=o.start,a=o.end,c=a-u,f=r?a:u-1,s=this.__iteratees__,l=s.length,h=0,d=Ve(c,this.__takeCount__);if(!e||!r&&i==c&&d==c)return $i(t,this.__actions__);var p=[];t:for(;c--&&h<d;){for(var v=-1,g=t[f+=n];++v<l;){var _=s[v],y=_.iteratee,m=_.type,b=y(g);if(m==k)g=b;else if(!b){if(m==C)continue t;break t}}p[h++]=g}return p},dr.prototype.at=$u,dr.prototype.chain=function(){return zu(this)},dr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===e&&(this.__values__=za(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},dr.prototype.plant=function(t){for(var n,r=this;r instanceof vr;){var i=hu(r);i.__index__=0,i.__values__=e,n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,n},dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof _r){var n=t;return this.__actions__.length&&(n=new _r(this)),(n=n.reverse()).__actions__.push({func:Fu,args:[Tu],thisArg:e}),new gr(n,this.__chain__)}return this.thru(Tu)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return $i(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,le&&(dr.prototype[le]=function(){return this}),dr}();Dn?((Dn.exports=Ne)._=Ne,Pn._=Ne):Nn._=Ne}).call($t)}(Bt={exports:{}},Bt.exports),Bt.exports);function Yt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}1===(qt=Yt).length&&(Vt=qt,qt=function(t,n){return Yt(Vt(t),n)});var qt,Vt,Ht={value:function(){}};function Xt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Zt(r)}function Zt(t){this._=t}function Gt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Jt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ht,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Zt.prototype=Xt.prototype={constructor:Zt,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<a;)if(e=(t=o[u]).type)i[e]=Jt(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Jt(i[e],t.name,null);return this}for(;++u<a;)if((e=(t=o[u]).type)&&(e=Gt(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Zt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Kt="http://www.w3.org/1999/xhtml",Qt={svg:"http://www.w3.org/2000/svg",xhtml:Kt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tn(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Qt.hasOwnProperty(n)?{space:Qt[n],local:t}:t}function nn(t){var n=tn(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Kt&&n.documentElement.namespaceURI===Kt?n.createElement(t):n.createElementNS(e,t)}})(n)}function en(){}function rn(t){return null==t?en:function(){return this.querySelector(t)}}function on(){return[]}function un(t){return null==t?on:function(){return this.querySelectorAll(t)}}var an=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var cn=document.documentElement;if(!cn.matches){var fn=cn.webkitMatchesSelector||cn.msMatchesSelector||cn.mozMatchesSelector||cn.oMatchesSelector;an=function(t){return function(){return fn.call(this,t)}}}}var sn=an;function ln(t){return new Array(t.length)}function hn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}hn.prototype={constructor:hn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var dn="$";function pn(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new hn(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function vn(t,n,e,r,i,o,u){var a,c,f,s={},l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=dn+u.call(c,c.__data__,a,n),f in s?i[a]=c:s[f]=c);for(a=0;a<h;++a)(c=s[f=dn+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],s[f]=null):e[a]=new hn(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s[d[a]]===c&&(i[a]=c)}function gn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function _n(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function yn(t,n){return t.style.getPropertyValue(n)||_n(t).getComputedStyle(t,null).getPropertyValue(n)}function mn(t){return t.trim().split(/^|\s+/)}function bn(t){return t.classList||new wn(t)}function wn(t){this._node=t,this._names=mn(t.getAttribute("class")||"")}function xn(t,n){for(var e=bn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Mn(t,n){for(var e=bn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function An(){this.textContent=""}function Sn(){this.innerHTML=""}function En(){this.nextSibling&&this.parentNode.appendChild(this)}function Tn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cn(){return null}function kn(){var t=this.parentNode;t&&t.removeChild(this)}function jn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ln(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}wn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Nn={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Nn={mouseenter:"mouseover",mouseleave:"mouseout"}));function Pn(t,n,e){return t=Dn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Dn(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Rn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function In(t,n,e){var r=Nn.hasOwnProperty(t.type)?Pn:Dn;return function(i,o,u){var a,c=this.__on,f=r(n,o,u);if(c)for(var s=0,l=c.length;s<l;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=f,a.capture=e),void(a.value=n);this.addEventListener(t.type,f,e),a={type:t.type,name:t.name,value:n,listener:f,capture:e},c?c.push(a):this.__on=[a]}}function Un(t,n,e){var r=_n(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var On=[null];function zn(t,n){this._groups=t,this._parents=n}function Fn(){return new zn([[document.documentElement]],On)}function $n(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Bn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Wn(){}zn.prototype=Fn.prototype={constructor:zn,select:function(t){"function"!=typeof t&&(t=rn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new zn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=un(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new zn(r,i)},filter:function(t){"function"!=typeof t&&(t=sn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new zn(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e,r=n?vn:pn,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),c=new Array(u),f=new Array(u),s=0;s<u;++s){var l=i[s],h=o[s],d=h.length,p=t.call(l,l&&l.__data__,s,i),v=p.length,g=c[s]=new Array(v),_=a[s]=new Array(v);r(l,h,g,_,f[s]=new Array(d),p,n);for(var y,m,b=0,w=0;b<v;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(m=_[w])&&++w<v;);y._next=m||null}}return(a=new zn(a,i))._enter=c,a._exit=f,a},enter:function(){return new zn(this._enter||this._groups.map(ln),this._parents)},exit:function(){return new zn(this._exit||this._groups.map(ln),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new zn(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=gn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new zn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=tn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):yn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=mn(t+"");if(arguments.length<2){for(var r=bn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?xn:Mn)(this,t)}}:n?function(t){return function(){xn(this,t)}}:function(t){return function(){Mn(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?An:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Sn:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(En)},lower:function(){return this.each(Tn)},append:function(t){var n="function"==typeof t?t:nn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:nn(t),r=null==n?Cn:"function"==typeof n?n:rn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(kn)},clone:function(t){return this.select(t?Ln:jn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?In:Rn,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Un(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Un(this,t,n)}})(t,n))}};var Yn="\\s*([+-]?\\d+)\\s*",qn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hn=/^#([0-9a-f]{3})$/,Xn=/^#([0-9a-f]{6})$/,Zn=new RegExp("^rgb\\("+[Yn,Yn,Yn]+"\\)$"),Gn=new RegExp("^rgb\\("+[Vn,Vn,Vn]+"\\)$"),Jn=new RegExp("^rgba\\("+[Yn,Yn,Yn,qn]+"\\)$"),Kn=new RegExp("^rgba\\("+[Vn,Vn,Vn,qn]+"\\)$"),Qn=new RegExp("^hsl\\("+[qn,Vn,Vn]+"\\)$"),te=new RegExp("^hsla\\("+[qn,Vn,Vn,qn]+"\\)$"),ne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ee(t){var n;return t=(t+"").trim().toLowerCase(),(n=Hn.exec(t))?new ae((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Xn.exec(t))?re(parseInt(n[1],16)):(n=Zn.exec(t))?new ae(n[1],n[2],n[3],1):(n=Gn.exec(t))?new ae(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Jn.exec(t))?ie(n[1],n[2],n[3],n[4]):(n=Kn.exec(t))?ie(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Qn.exec(t))?ce(n[1],n[2]/100,n[3]/100,1):(n=te.exec(t))?ce(n[1],n[2]/100,n[3]/100,n[4]):ne.hasOwnProperty(t)?re(ne[t]):"transparent"===t?new ae(NaN,NaN,NaN,0):null}function re(t){return new ae(t>>16&255,t>>8&255,255&t,1)}function ie(t,n,e,r){return r<=0&&(t=n=e=NaN),new ae(t,n,e,r)}function oe(t){return t instanceof Wn||(t=ee(t)),t?new ae((t=t.rgb()).r,t.g,t.b,t.opacity):new ae}function ue(t,n,e,r){return 1===arguments.length?oe(t):new ae(t,n,e,null==r?1:r)}function ae(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function ce(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new fe(t,n,e,r)}function fe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function se(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}$n(Wn,ee,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),$n(ae,ue,Bn(Wn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ae(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ae(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),$n(fe,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof fe)return new fe(t.h,t.s,t.l,t.opacity);if(t instanceof Wn||(t=ee(t)),!t)return new fe;if(t instanceof fe)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new fe(u,a,c,t.opacity)}(t):new fe(t,n,e,null==r?1:r)},Bn(Wn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ae(se(t>=240?t-240:t+120,i,r),se(t,i,r),se(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var le=Math.PI/180,he=180/Math.PI,de=.95047,pe=1,ve=1.08883,ge=4/29,_e=6/29,ye=3*_e*_e,me=_e*_e*_e;function be(t){if(t instanceof we)return new we(t.l,t.a,t.b,t.opacity);if(t instanceof Ee){var n=t.h*le;return new we(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof ae||(t=oe(t));var e=Se(t.r),r=Se(t.g),i=Se(t.b),o=xe((.4124564*e+.3575761*r+.1804375*i)/de),u=xe((.2126729*e+.7151522*r+.072175*i)/pe);return new we(116*u-16,500*(o-u),200*(u-xe((.0193339*e+.119192*r+.9503041*i)/ve)),t.opacity)}function we(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function xe(t){return t>me?Math.pow(t,1/3):t/ye+ge}function Me(t){return t>_e?t*t*t:ye*(t-ge)}function Ae(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Se(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ee(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}$n(we,function(t,n,e,r){return 1===arguments.length?be(t):new we(t,n,e,null==r?1:r)},Bn(Wn,{brighter:function(t){return new we(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new we(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=pe*Me(t),new ae(Ae(3.2404542*(n=de*Me(n))-1.5371385*t-.4985314*(e=ve*Me(e))),Ae(-.969266*n+1.8760108*t+.041556*e),Ae(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),$n(Ee,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ee)return new Ee(t.h,t.c,t.l,t.opacity);t instanceof we||(t=be(t));var n=Math.atan2(t.b,t.a)*he;return new Ee(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Ee(t,n,e,null==r?1:r)},Bn(Wn,{brighter:function(t){return new Ee(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ee(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return be(this).rgb()}}));var Te=-.14861,Ce=1.78277,ke=-.29227,je=-.90649,Le=1.97294,Ne=Le*je,Pe=Le*Ce,De=Ce*ke-je*Te;function Re(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);t instanceof ae||(t=oe(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(De*r+Ne*n-Pe*e)/(De+Ne-Pe),o=r-i,u=(Le*(e-i)-ke*o)/je,a=Math.sqrt(u*u+o*o)/(Le*i*(1-i)),c=a?Math.atan2(u,o)*he-120:NaN;return new Ie(c<0?c+360:c,a,i,t.opacity)}(t):new Ie(t,n,e,null==r?1:r)}function Ie(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ue(t){return function(){return t}}function Oe(t,n){return function(e){return t+e*n}}function ze(t){return 1==(t=+t)?Fe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ue(isNaN(n)?e:n)}}function Fe(t,n){var e=n-t;return e?Oe(t,e):Ue(isNaN(t)?n:t)}$n(Ie,Re,Bn(Wn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*le,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new ae(255*(n+e*(Te*r+Ce*i)),255*(n+e*(ke*r+je*i)),255*(n+e*(Le*r)),this.opacity)}}));var $e=function t(n){var e=ze(n);function r(t,n){var r=e((t=ue(t)).r,(n=ue(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=Fe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function Be(t,n){return n-=t=+t,function(e){return t+n*e}}var We=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(We.source,"g");var qe,Ve,He,Xe,Ze=180/Math.PI,Ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Je(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ze,skewX:Math.atan(c)*Ze,scaleX:u,scaleY:a}}function Ke(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Be(t,i)},{i:c-2,x:Be(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Be(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Be(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Be(t,e)},{i:a-2,x:Be(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}var Qe=Ke(function(t){return"none"===t?Ge:(qe||(qe=document.createElement("DIV"),Ve=document.documentElement,He=document.defaultView),qe.style.transform=t,t=He.getComputedStyle(Ve.appendChild(qe),null).getPropertyValue("transform"),Ve.removeChild(qe),Je(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),tr=Ke(function(t){return null==t?Ge:(Xe||(Xe=document.createElementNS("http://www.w3.org/2000/svg","g")),Xe.setAttribute("transform",t),(t=Xe.transform.baseVal.consolidate())?Je((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ge)},", ",")",")");Math.SQRT2;function nr(t){return function n(e){function r(n,r){var i=t((n=Re(n)).h,(r=Re(r)).h),o=Fe(n.s,r.s),u=Fe(n.l,r.l),a=Fe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}nr(function(t,n){var e=n-t;return e?Oe(t,e>180||e<-180?e-360*Math.round(e/360):e):Ue(isNaN(t)?n:t)});var er,rr,ir=nr(Fe),or=0,ur=0,ar=0,cr=1e3,fr=0,sr=0,lr=0,hr="object"==typeof performance&&performance.now?performance:Date,dr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pr(){return sr||(dr(vr),sr=hr.now()+lr)}function vr(){sr=0}function gr(){this._call=this._time=this._next=null}function _r(t,n,e){var r=new gr;return r.restart(t,n,e),r}function yr(){sr=(fr=hr.now())+lr,or=ur=0;try{!function(){pr(),++or;for(var t,n=er;n;)(t=sr-n._time)>=0&&n._call.call(null,t),n=n._next;--or}()}finally{or=0,function(){var t,n,e=er,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:er=n);rr=t,br(r)}(),sr=0}}function mr(){var t=hr.now(),n=t-fr;n>cr&&(lr-=n,fr=t)}function br(t){or||(ur&&(ur=clearTimeout(ur)),t-sr>24?(t<1/0&&(ur=setTimeout(yr,t-hr.now()-lr)),ar&&(ar=clearInterval(ar))):(ar||(fr=hr.now(),ar=setInterval(mr,cr)),or=1,dr(yr)))}function wr(t,n,e){var r=new gr;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}gr.prototype=_r.prototype={constructor:gr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?pr():+e)+(null==n?0:+n),this._next||rr===this||(rr?rr._next=this:er=this,rr=this),this._call=t,this._time=e,br()},stop:function(){this._call&&(this._call=null,this._time=1/0,br())}};var xr=Xt("start","end","interrupt"),Mr=[],Ar=0,Sr=1,Er=2,Tr=3,Cr=4,kr=5,jr=6;function Lr(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var f,s,l,h;if(e.state!==Sr)return a();for(f in i)if((h=i[f]).name===e.name){if(h.state===Tr)return wr(o);h.state===Cr?(h.state=jr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=jr,h.timer.stop(),delete i[f])}if(wr(function(){e.state===Tr&&(e.state=Cr,e.timer.restart(u,e.delay,e.time),u(c))}),e.state=Er,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Er){for(e.state=Tr,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=kr,1),o=-1,u=r.length;++o<u;)r[o].call(null,i);e.state===kr&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=jr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=_r(function(t){e.state=Sr,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:xr,tween:Mr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ar})}function Nr(t,n){var e=Dr(t,n);if(e.state>Ar)throw new Error("too late; already scheduled");return e}function Pr(t,n){var e=Dr(t,n);if(e.state>Er)throw new Error("too late; already started");return e}function Dr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Rr(t,n,e){var r=t._id;return t.each(function(){var t=Pr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Dr(t,r).value[n]}}function Ir(t,n){var e;return("number"==typeof n?Be:n instanceof ee?$e:(e=ee(n))?(n=e,$e):function(t,n){var e,r,i,o=We.lastIndex=Ye.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=We.exec(t))&&(r=Ye.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Be(e,r)})),o=Ye.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})})(t,n)}var Ur=Fn.prototype.constructor;var Or=0;function zr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Fr(){return++Or}var $r=Fn.prototype;zr.prototype=function(t){return Fn().transition(t)}.prototype={constructor:zr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=rn(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,f=r[u],s=f.length,l=o[u]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,Lr(l[h],n,e,h,l,Dr(a,e)));return new zr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=un(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=Dr(c,e),v=0,g=d.length;v<g;++v)(h=d[v])&&Lr(h,n,e,v,d,p);o.push(d),u.push(c)}return new zr(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=sn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new zr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new zr(u,this._parents,this._name,this._id)},selection:function(){return new Ur(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Fr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)if(u=a[f]){var s=Dr(u,n);Lr(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new zr(r,this._parents,t,e)},call:$r.call,nodes:$r.nodes,node:$r.node,size:$r.size,empty:$r.empty,each:$r.each,on:function(t,n){var e=this._id;return arguments.length<2?Dr(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Nr:Pr;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=tn(t),r="transform"===e?tr:Ir;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,Rr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=tn(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Qe:Ir;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=yn(this,t),u=(this.style.removeProperty(t),yn(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=yn(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=yn(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,Rr(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=yn(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Rr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Dr(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Pr(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Pr(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Nr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Nr(this,t).delay=n}})(n,t)):Dr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Pr(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Pr(this,t).duration=n}})(n,t)):Dr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Pr(this,t).ease=n}}(n,t)):Dr(this.node(),n).ease}};Math.PI,Math.PI;var Br={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Wr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Br.time=pr(),Br;return e}Fn.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Er&&e.state<kr,e.state=jr,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}(this,t)})},Fn.prototype.transition=function(t){var n,e;t instanceof zr?(n=t._id,t=t._name):(n=Fr(),(e=Br).time=pr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)(u=a[f])&&Lr(u,t,n,f,a,e||Wr(u,n));return new zr(r,this._parents,t,n)};Math.PI,Math.PI;function Yr(){}function qr(t,n){var e=new Yr;if(t instanceof Yr)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function Vr(){}Yr.prototype=qr.prototype={constructor:Yr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Hr=qr.prototype;Vr.prototype=function(t,n){var e=new Vr;if(t instanceof Vr)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Vr,has:Hr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Hr.remove,clear:Hr.clear,values:Hr.keys,size:Hr.size,empty:Hr.empty,each:Hr.each};var Xr={},Zr={},Gr=34,Jr=10,Kr=13;function Qr(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function ti(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,f=!1;function s(){if(c)return Zr;if(f)return f=!1,Xr;var n,r,i=u;if(t.charCodeAt(i)===Gr){for(;u++<o&&t.charCodeAt(u)!==Gr||t.charCodeAt(++u)===Gr;);return(n=u)>=o?c=!0:(r=t.charCodeAt(u++))===Jr?f=!0:r===Kr&&(f=!0,t.charCodeAt(u)===Jr&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if((r=t.charCodeAt(n=u++))===Jr)f=!0;else if(r===Kr)f=!0,t.charCodeAt(u)===Jr&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Jr&&--o,t.charCodeAt(o-1)===Kr&&--o;(r=s())!==Zr;){for(var l=[];r!==Xr&&r!==Zr;)l.push(r),r=s();n&&null==(l=n(l,a++))||i.push(l)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Qr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Qr(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}ti(","),ti("\t");function ni(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,f,s,l,h,d=t._root,p={data:r},v=t._x0,g=t._y0,_=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((f=n>=(o=(v+_)/2))?v=o:_=o,(s=e>=(u=(g+y)/2))?g=u:y=u,i=d,!(d=d[l=s<<1|f]))return i[l]=p,t;if(a=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===a&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(f=n>=(o=(v+_)/2))?v=o:_=o,(s=e>=(u=(g+y)/2))?g=u:y=u}while((l=s<<1|f)==(h=(c>=u)<<1|a>=o));return i[h]=d,i[l]=p,t}function ei(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function ri(t){return t[0]}function ii(t){return t[1]}function oi(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ui(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ai=function(t,n,e){var r=new oi(null==n?ri:n,null==e?ii:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=oi.prototype;ai.copy=function(){var t,n,e=new oi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ui(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ui(n));return e},ai.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ni(this.cover(n,e),n,e,t)},ai.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,f=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>s&&(s=r),i<f&&(f=i),i>l&&(l=i));for(s<c&&(c=this._x0,s=this._x1),l<f&&(f=this._y0,l=this._y1),this.cover(c,f).cover(s,l),e=0;e<o;++e)ni(this,u[e],a[e],t[e]);return this},ai.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,f=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(u=new Array(4))[a]=f,f=u}while(o=r+(c*=2),t>(i=e+c)||n>o);break;case 1:do{(u=new Array(4))[a]=f,f=u}while(o=r+(c*=2),(e=i-c)>t||n>o);break;case 2:do{(u=new Array(4))[a]=f,f=u}while(r=o-(c*=2),t>(i=e+c)||r>n);break;case 3:do{(u=new Array(4))[a]=f,f=u}while(r=o-(c*=2),(e=i-c)>t||r>n)}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},ai.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},ai.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ai.find=function(t,n,e){var r,i,o,u,a,c,f,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new ei(v,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>d||(u=c.x1)<s||(a=c.y1)<l))if(v.length){var g=(i+u)/2,_=(o+a)/2;p.push(new ei(v[3],g,_,u,a),new ei(v[2],i,_,g,a),new ei(v[1],g,o,u,_),new ei(v[0],i,o,g,_)),(f=(n>=_)<<1|t>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=c)}else{var y=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),b=y*y+m*m;if(b<e){var w=Math.sqrt(e=b);s=t-w,l=n-w,h=t+w,d=n+w,r=v.data}}return r},ai.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,f,s,l,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,_=this._y1;if(!d)return this;if(d.length)for(;;){if((f=o>=(a=(p+g)/2))?p=a:g=a,(s=u>=(c=(v+_)/2))?v=c:_=c,n=d,!(d=d[l=s<<1|f]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},ai.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ai.root=function(){return this._root},ai.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},ai.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new ei(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var f=(r+o)/2,s=(i+u)/2;(e=c[3])&&a.push(new ei(e,f,s,o,u)),(e=c[2])&&a.push(new ei(e,r,s,f,u)),(e=c[1])&&a.push(new ei(e,f,i,o,s)),(e=c[0])&&a.push(new ei(e,r,i,f,s))}return this},ai.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ei(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,f=n.y1,s=(u+c)/2,l=(a+f)/2;(o=i[0])&&e.push(new ei(o,u,a,s,l)),(o=i[1])&&e.push(new ei(o,s,a,c,l)),(o=i[2])&&e.push(new ei(o,u,l,s,f)),(o=i[3])&&e.push(new ei(o,s,l,c,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ai.x=function(t){return arguments.length?(this._x=t,this):this._x},ai.y=function(t){return arguments.length?(this._y=t,this):this._y};var ci;Math.PI,Math.sqrt(5);function fi(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function si(t,n){var e=fi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var li={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return si(100*t,n)},r:si,s:function(t,n){var e=fi(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ci=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fi(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},hi=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function di(t){return new pi(t)}function pi(t){if(!(n=hi.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],f=n[8]&&+n[8].slice(1),s=n[9]||"";"n"===s?(c=!0,s="g"):li[s]||(s=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=f,this.type=s}function vi(t){return t}di.prototype=pi.prototype,pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var gi,_i=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yi(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}):vi,i=t.currency,o=t.decimal,u=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):vi,a=t.percent||"%";function c(t){var n=(t=di(t)).fill,e=t.align,c=t.sign,f=t.symbol,s=t.zero,l=t.width,h=t.comma,d=t.precision,p=t.type,v="$"===f?i[0]:"#"===f&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===f?i[1]:/[%p]/.test(p)?a:"",_=li[p],y=!p||/[defgprs%]/.test(p);function m(t){var i,a,f,m=v,b=g;if("c"===p)b=_(t)+b,t="";else{var w=(t=+t)<0;if(t=_(Math.abs(t),d),w&&0==+t&&(w=!1),m=(w?"("===c?c:"-":"-"===c||"("===c?"":c)+m,b=("s"===p?_i[8+ci/3]:"")+b+(w&&"("===c?")":""),y)for(i=-1,a=t.length;++i<a;)if(48>(f=t.charCodeAt(i))||f>57){b=(46===f?o+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}h&&!s&&(t=r(t,1/0));var x=m.length+t.length+b.length,M=x<l?new Array(l-x+1).join(n):"";switch(h&&s&&(t=r(M+t,M.length?l-b.length:1/0),M=""),e){case"<":t=m+t+b+M;break;case"=":t=m+M+t+b;break;case"^":t=M.slice(0,x=M.length>>1)+m+t+b+M.slice(x);break;default:t=M+m+t+b}return u(t)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),m.toString=function(){return t+""},m}return{format:c,formatPrefix:function(t,n){var e,r=c(((t=di(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((e=n,((e=fi(Math.abs(e)))?e[1]:NaN)/3)))),o=Math.pow(10,-i),u=_i[8+i/3];return function(t){return r(o*t)+u}}}}function mi(){return new bi}function bi(){this.reset()}gi=yi({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),gi.format,gi.formatPrefix,bi.prototype={constructor:bi,reset:function(){this.s=this.t=0},add:function(t){xi(wi,t,this.t),xi(this,wi.s,this.s),this.s?this.t+=wi.t:this.s=wi.t},valueOf:function(){return this.s}};var wi=new bi;function xi(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}Math.PI,mi(),mi(),mi(),mi(),mi(),mi(),mi(),mi();var Mi=new Date,Ai=new Date;function Si(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return Si(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Mi.setTime(+n),Ai.setTime(+r),t(Mi),t(Ai),Math.floor(e(Mi,Ai))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Ei=Si(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Ei.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Si(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Ei:null};var Ti=6e4,Ci=6048e5,ki=(Si(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Si(function(t){t.setTime(Math.floor(t/Ti)*Ti)},function(t,n){t.setTime(+t+n*Ti)},function(t,n){return(n-t)/Ti},function(t){return t.getMinutes()}),Si(function(t){var n=t.getTimezoneOffset()*Ti%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Si(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ti)/864e5},function(t){return t.getDate()-1}));function ji(t){return Si(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ti)/Ci})}var Li=ji(0),Ni=ji(1),Pi=(ji(2),ji(3),ji(4)),Di=(ji(5),ji(6),Si(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Si(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Di.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Si(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};Si(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Ti)},function(t,n){return(n-t)/Ti},function(t){return t.getUTCMinutes()}),Si(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()});var Ri=Si(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function Ii(t){return Si(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Ci})}var Ui=Ii(0),Oi=Ii(1),zi=(Ii(2),Ii(3),Ii(4)),Fi=(Ii(5),Ii(6),Si(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Si(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function $i(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bi(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wi(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Fi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Si(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Yi,qi,Vi,Hi={"-":"",_:" ",0:"0"},Xi=/^\s*\d+/,Zi=/^%/,Gi=/[\\^$*+?|[\]().{}]/g;function Ji(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ki(t){return t.replace(Gi,"\\$&")}function Qi(t){return new RegExp("^(?:"+t.map(Ki).join("|")+")","i")}function to(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function no(t,n,e){var r=Xi.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function eo(t,n,e){var r=Xi.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function ro(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function io(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function oo(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function uo(t,n,e){var r=Xi.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ao(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function co(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function fo(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function so(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function lo(t,n,e){var r=Xi.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ho(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function po(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function vo(t,n,e){var r=Xi.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function go(t,n,e){var r=Xi.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function _o(t,n,e){var r=Xi.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function yo(t,n,e){var r=Zi.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function mo(t,n,e){var r=Xi.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function bo(t,n,e){var r=Xi.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function wo(t,n){return Ji(t.getDate(),n,2)}function xo(t,n){return Ji(t.getHours(),n,2)}function Mo(t,n){return Ji(t.getHours()%12||12,n,2)}function Ao(t,n){return Ji(1+ki.count(Di(t),t),n,3)}function So(t,n){return Ji(t.getMilliseconds(),n,3)}function Eo(t,n){return So(t,n)+"000"}function To(t,n){return Ji(t.getMonth()+1,n,2)}function Co(t,n){return Ji(t.getMinutes(),n,2)}function ko(t,n){return Ji(t.getSeconds(),n,2)}function jo(t){var n=t.getDay();return 0===n?7:n}function Lo(t,n){return Ji(Li.count(Di(t),t),n,2)}function No(t,n){var e=t.getDay();return t=e>=4||0===e?Pi(t):Pi.ceil(t),Ji(Pi.count(Di(t),t)+(4===Di(t).getDay()),n,2)}function Po(t){return t.getDay()}function Do(t,n){return Ji(Ni.count(Di(t),t),n,2)}function Ro(t,n){return Ji(t.getFullYear()%100,n,2)}function Io(t,n){return Ji(t.getFullYear()%1e4,n,4)}function Uo(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Ji(n/60|0,"0",2)+Ji(n%60,"0",2)}function Oo(t,n){return Ji(t.getUTCDate(),n,2)}function zo(t,n){return Ji(t.getUTCHours(),n,2)}function Fo(t,n){return Ji(t.getUTCHours()%12||12,n,2)}function $o(t,n){return Ji(1+Ri.count(Fi(t),t),n,3)}function Bo(t,n){return Ji(t.getUTCMilliseconds(),n,3)}function Wo(t,n){return Bo(t,n)+"000"}function Yo(t,n){return Ji(t.getUTCMonth()+1,n,2)}function qo(t,n){return Ji(t.getUTCMinutes(),n,2)}function Vo(t,n){return Ji(t.getUTCSeconds(),n,2)}function Ho(t){var n=t.getUTCDay();return 0===n?7:n}function Xo(t,n){return Ji(Ui.count(Fi(t),t),n,2)}function Zo(t,n){var e=t.getUTCDay();return t=e>=4||0===e?zi(t):zi.ceil(t),Ji(zi.count(Fi(t),t)+(4===Fi(t).getUTCDay()),n,2)}function Go(t){return t.getUTCDay()}function Jo(t,n){return Ji(Oi.count(Fi(t),t),n,2)}function Ko(t,n){return Ji(t.getUTCFullYear()%100,n,2)}function Qo(t,n){return Ji(t.getUTCFullYear()%1e4,n,4)}function tu(){return"+0000"}function nu(){return"%"}function eu(t){return+t}function ru(t){return Math.floor(+t/1e3)}!function(t){Yi=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,f=Qi(i),s=to(i),l=Qi(o),h=to(o),d=Qi(u),p=to(u),v=Qi(a),g=to(a),_=Qi(c),y=to(c),m={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:wo,e:wo,f:Eo,H:xo,I:Mo,j:Ao,L:So,m:To,M:Co,p:function(t){return i[+(t.getHours()>=12)]},Q:eu,s:ru,S:ko,u:jo,U:Lo,V:No,w:Po,W:Do,x:null,X:null,y:Ro,Y:Io,Z:Uo,"%":nu},b={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Oo,e:Oo,f:Wo,H:zo,I:Fo,j:$o,L:Bo,m:Yo,M:qo,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:eu,s:ru,S:Vo,u:Ho,U:Xo,V:Zo,w:Go,W:Jo,x:null,X:null,y:Ko,Y:Qo,Z:tu,"%":nu},w={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=_.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:so,e:so,f:_o,H:ho,I:ho,j:lo,L:go,m:fo,M:po,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1},Q:mo,s:bo,S:vo,u:eo,U:ro,V:io,w:no,W:oo,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:ao,Y:uo,Z:co,"%":yo};function x(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,f=t.length;for(e instanceof Date||(e=new Date(+e));++a<f;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Hi[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=Wi(1900);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bi(Wi(o.y))).getUTCDay(),r=i>4||0===i?Oi.ceil(r):Oi(r),r=Ri.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=n(Wi(o.y))).getDay(),r=i>4||0===i?Ni.ceil(r):Ni(r),r=ki.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bi(Wi(o.y)).getUTCDay():n(Wi(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bi(o)):n(o)}}function A(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=w[i in Hi?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return m.x=x(e,m),m.X=x(r,m),m.c=x(n,m),b.x=x(e,b),b.X=x(r,b),b.c=x(n,b),{format:function(t){var n=x(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",$i);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,Bi);return n.toString=function(){return t},n}}}(t),Yi.format,Yi.parse,qi=Yi.utcFormat,Vi=Yi.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||qi("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Vi("%Y-%m-%dT%H:%M:%S.%LZ");function iu(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}iu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),iu("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),iu("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),iu("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ir(Re(300,.5,0),Re(-240,.5,1));ir(Re(-100,.75,.35),Re(80,1.5,.8)),ir(Re(260,.75,.35),Re(80,1.5,.8)),Re();function ou(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}ou(iu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));ou(iu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ou(iu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ou(iu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Math.PI;function uu(t){return t<0?-1:1}function au(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(uu(o)+uu(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function cu(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function fu(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function su(t){this._context=t}function lu(t){this._context=t}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fu(this,this._t0,cu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,fu(this,cu(this,e=au(this,t,n)),e);break;default:fu(this,this._t0,e=au(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new lu(t)}.prototype=Object.create(su.prototype)).point=function(t,n){su.prototype.point.call(this,n,t)},lu.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};const hu=Float32Array.BYTES_PER_ELEMENT,du=["OES_standard_derivatives","OES_texture_float"],pu=[0,0,0,1],vu=[[.66,.66,.66,1],[0,.55,1,1],[1,1,1,1],pu],gu=[0,0],_u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),yu=[0,.666666667,1,1],mu=[1,1,1,.5],bu=(t,n)=>t>n?t:n,wu=t=>{const n=t.getContext("webgl"),r=[];return du.forEach(t=>{n.getExtension(t)?r.push(t):console.warn(`WebGL: ${t} extension not supported. Scatterplot might not render properly`)}),e({gl:n,extensions:r})},xu=(t,n,e,r)=>Math.sqrt((t-e)**2+(n-r)**2),Mu=(t,n=!1)=>t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,n,e,r)=>`#${n}${n}${e}${e}${r}${r}`).substring(1).match(/.{2}/g).map(t=>parseInt(t,16)/255**n),Au=t=>t>=0&&t<=1,Su=t=>Array.isArray(t)&&t.every(Au),Eu=t=>Number.isInteger(t)&&t>=0&&t<=255,Tu=t=>Array.isArray(t)&&t.every(Eu),Cu=t=>3===t.length&&(Su(t)||Tu(t)),ku=t=>4===t.length&&(Su(t)||Tu(t)),ju=t=>t.map(n=>n/t.reduce(bu,-1/0)),Lu=(t,n)=>ku(t)?n&&!Su(t)?ju(t):t:Cu(t)?[...n?ju(t):t,255**!n]:(t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t))(t)?((t,n=!1)=>[...Mu(t,n),255**!n])(t,n):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),n?[1,1,1,1]:[255,255,255,255]),Nu=({regl:t,background:e=pu,backgroundImage:r=null,canvas:i=document.createElement("canvas"),colorBy:o=null,colors:f=vu,lassoColor:l=yu,lassoMinDelay:h=15,lassoMinDist:d=4,showRecticle:p=!1,recticleColor:v=mu,pointSize:_=30,pointSizeSelected:y=2,pointOutlineWidth:m=2,width:b=100,height:w=100,target:x=gu,distance:M=1,rotation:A=0,view:S=_u,drawLines:E}={})=>{const T=n(),C=new Float32Array(16),k=[0,0];(t=>!!t&&du.reduce((n,e)=>t.hasExtension(e)?n:(console.warn(`WebGL: ${e} extension not supported. Scatterplot might not render properly`),!1),!0))(t);let j,L,N,P,D,R,I,U,O,z,F,$,B,W,Y,q,V=Lu(e,!0),H=r,X=i,Z=f,G=b,Q=w,tt=_,nt=y,et=m,rt=t||wu(i),it=!1,ut=!1,at=[0,0],ct=0,ft=[],st=Lu(l,!0),lt=+h,ht=+d,dt=[],pt=[],vt=1,gt=p,_t=Lu(v,!0),yt=0,mt=0,bt=o,wt=!1,xt=!1,Mt=1,At=!1;const St=t=>t/G*2-1,Et=t=>1+t/Q*-2,Tt=()=>[St(k[0]),Et(k[1])],Ct=()=>{const[t,n]=Tt(),e=[t,n,1,1];return g(e,e,a(C,c(C,I,c(C,j.view,U)))),e.slice(0,2)},kt=()=>{const[t,n]=Ct(),e=j.scaling,r=2*tt*(((t,n)=>t<n?t:n)(1,e)+Math.log2(((t,n)=>t>n?t:n)(1,e)))*window.devicePixelRatio,i=r/G,o=r/Q,u=D.range(t-i,n-o,t+i,n+o);let a,c=r;return u.forEach(e=>{const[r,i]=D.points[e],o=xu(r,i,t,n);o<c&&(c=o,a=e)}),c<tt/G*2?a:-1},jt=()=>{const t=(()=>k.slice())();if(P){xu(...t,...P)>ht&&(dt.push(...Tt()),pt.push(...Ct()),P=t,dt.length>2&&L.setPoints(dt))}else dt.push(...Tt()),pt.push(...Ct()),P=t};let Lt=Dt(jt,lt,!0);const Nt=()=>{ft.length&&(T.publish("deselect"),ft=[],dn())},Pt=t=>{ft=t,B({usage:"dynamic",type:"float",data:new Float32Array(ft)}),T.publish("select",{points:ft}),dn()},Rt=t=>{const n=X.getBoundingClientRect();return k[0]=t.clientX-n.left,k[1]=t.clientY-n.top,[...k]},It=()=>{const t=(t=>{const n=(t=>{let n=1/0,e=-1/0,r=1/0,i=-1/0;for(let o=0;o<t.length;o+=2)n=t[o]<n?t[o]:n,e=t[o]>e?t[o]:e,r=t[o+1]<r?t[o+1]:r,i=t[o+1]>i?t[o+1]:i;return[n,r,e,i]})(t),e=D.range(...n),r=[];return e.forEach(n=>{(([t,n]=[],e)=>{let r,i,o,u,a=!1;for(let c=0,f=e.length-2;c<e.length;c+=2)r=e[c],i=e[c+1],o=e[f],i>n!=(u=e[f+1])>n&&t<(o-r)*(n-i)/(u-i)+r&&(a=!a),f=c;return a})(D.points[n],t)&&r.push(n)}),r})(pt);Pt(t),dt=[],pt=[],P=void 0,L.clear()},Ut=t=>{xt&&(it=!0,at=Rt(t),(ut=t.shiftKey)&&j.config({isFixed:!0}))},Ot=()=>{xt&&(it=!1,ut&&(ut=!1,j.config({isFixed:!1}),It()))},zt=t=>{if(!xt)return;const n=Rt(t);if(xu(...n,...at)>=4)return;const e=kt();e>=0&&Pt([e])},$t=()=>{Nt()},Bt=t=>{if(xt){if(Rt(t),At&&!ut){const t=kt();gn(t)}ut&&Lt(),it&&dn()}},Wt=()=>{xt&&(q=void 0,At=!1,Ot(),dn())},Yt=(t=Z)=>{const n=t.length;mt=Math.max(2,Math.ceil(Math.sqrt(n)));const e=new Float32Array(mt**2*4);return t.forEach((t,n)=>{e[4*n]=t[0],e[4*n+1]=t[1],e[4*n+2]=t[2],e[4*n+3]=n%4>0||1===Mt?t[3]:Mt}),rt.texture({data:e,shape:[mt,mt,4],type:"float"})},qt=()=>{I=s([],[1/(R=G/Q),1,1]),U=s([],[vt,1,1])},Vt=()=>Y,Ht=()=>mt,Xt=()=>B,Zt=()=>tt*window.devicePixelRatio,Gt=()=>0,Jt=()=>F,Kt=()=>yt,Qt=()=>I;window.getView=(()=>j.view);const tn=()=>U,nn=()=>j.scaling,en=()=>1*("category"===bt),rn=()=>1*("value"===bt),on=()=>Z.length/4-1,un=()=>4,an=(t,n,e,r=0)=>rt({frag:"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\nuniform vec2 selection;\n\nvarying vec4 color;\n\nvoid main() {\n  float r = 0.0, delta = 0.0, alpha = 1.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n\n  #ifdef GL_OES_standard_derivatives\n    delta = fwidth(r);\n    alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n  #endif\n\n  gl_FragColor = vec4(color.rgb, alpha * color.a);\n}\n",vert:'\nprecision mediump float;\n\nuniform sampler2D colorTex;\nuniform float colorTexRes;\nuniform sampler2D stateTex;\nuniform float stateTexRes;\nuniform float pointSize;\nuniform float pointSizeExtra;\nuniform float numPoints;\nuniform float globalState;\nuniform float isColoredByCategory;\nuniform float isColoredByValue;\nuniform float maxColor;\nuniform float numColorStates;\nuniform float scaling;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute float stateIndex;\n\n// variables to send to the fragment shader\nvarying vec4 color;\n\nvoid main() {\n  // First get the state\n  float eps = 0.5 / stateTexRes;\n  float stateRowIndex = floor((stateIndex + eps) / stateTexRes);\n  vec2 stateTexIndex = vec2(\n    (stateIndex / stateTexRes) - stateRowIndex + eps,\n    stateRowIndex / stateTexRes\n  );\n\n  vec4 state = texture2D(stateTex, stateTexIndex);\n\n  gl_Position = projection * view * model * vec4(state.x, state.y, 0.0, 1.0);\n\n  // Determine color index\n  float colorIndexCat = state.z * isColoredByCategory;\n  float colorIndexVal = floor(state.w * maxColor) * isColoredByValue;\n  float colorIndex = colorIndexCat + colorIndexVal;\n  // Multiply by the number of color states per color\n  // I.e., normal, active, hover, background, etc.\n  colorIndex *= numColorStates;\n  // Half a "pixel" or "texel" in texture coordinates\n  eps = 0.5 / colorTexRes;\n  float colorLinearIndex = colorIndex + globalState;\n  // Need to add cEps here to avoid floating point issue that can lead to\n  // dramatic changes in which color is loaded as floor(3/2.9) = 1 but\n  // floor(3/3.0001) = 0!\n  float colorRowIndex = floor((colorLinearIndex + eps) / colorTexRes);\n\n  vec2 colorTexIndex = vec2(\n    (colorLinearIndex / colorTexRes) - colorRowIndex + eps,\n    colorRowIndex / colorTexRes\n  );\n\n  color = texture2D(colorTex, colorTexIndex);\n\n  // The final scaling consists of linear scaling in [0, 1] and log scaling\n  // in [1, [\n  float finalScaling = min(1.0, scaling) + log2(max(1.0, scaling));\n\n  gl_PointSize = pointSize * finalScaling + pointSizeExtra;\n}\n',blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:e,size:1}},uniforms:{projection:Qt,model:tn,view:getView,scaling:nn,pointSize:Zt,pointSizeExtra:t,globalState:r,colorTex:Vt,colorTexRes:Ht,stateTex:Jt,stateTexRes:Kt,isColoredByCategory:en,isColoredByValue:rn,maxColor:on,numColorStates:un},count:n,primitive:"points"}),cn=an(Gt,()=>ct,()=>$),fn=an(Gt,()=>1,()=>W,2),sn=rt({frag:"\nprecision mediump float;\n\nuniform sampler2D texture;\n\nvarying vec2 uv;\n\nvoid main () {\n  gl_FragColor = texture2D(texture, uv);\n}\n",vert:"\nprecision mediump float;\n\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\nvoid main () {\n  uv = position;\n  gl_Position = projection * view * model * vec4(1.0 - 2.0 * position, 0, 1);\n}\n",attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{projection:Qt,model:tn,view:getView,texture:()=>H},count:6}),ln=t=>{const n=new Float32Array(t);for(let e=0;e<t;++e)n[e]=e;return n},hn=t=>{xt=!1,ct=t.length,F=(t=>{const n=t.length;yt=Math.max(2,Math.ceil(Math.sqrt(n)));const e=new Float32Array(yt**2*4);for(let r=0;r<n;++r)e[4*r]=t[r][0],e[4*r+1]=t[r][1],e[4*r+2]=t[r][2]||0,e[4*r+3]=t[r][3]||0;return rt.texture({data:e,shape:[yt,yt,4],type:"float"})})(t),$({usage:"static",type:"float",data:ln(ct)}),D=new ot(t,t=>t[0],t=>t[1],16),xt=!0},dn=((t,n,e=window.requestAnimationFrame)=>{let r,i=!1;return(...o)=>{if(r=o,!i)return i=!0,e(()=>{const e=t(...r);i=!1,n&&n(e)})}})((t,n)=>{t&&hn(t),xt&&(rt.clear({color:[0,0,0,0],depth:1}),wt=j.tick(),H&&sn(),E({view:getView(),projection:getView()}),cn(),it||!gt&&!n||(()=>{if(!(q>=0))return;const[t,n]=D.points[q].slice(0,2),e=[t,n,0,1];c(C,I,c(C,j.view,U)),g(e,e,C),O.setPoints([-1,e[1],1,e[1]]),z.setPoints([e[0],1,e[0],-1]),O.draw(),z.draw(),an(()=>(nt+2*et)*window.devicePixelRatio,()=>1,W,1)(),an(()=>(nt+et)*window.devicePixelRatio,()=>1,W,3)()})(),q>=0&&fn(),ft.length&&(()=>{const t=ft.length;an(()=>(nt+2*et)*window.devicePixelRatio,()=>t,Xt,1)(),an(()=>(nt+et)*window.devicePixelRatio,()=>t,Xt,3)(),an(()=>nt,()=>t,Xt,1)()})(),L.draw(),wt&&T.publish("view",j.view))}),pn=()=>{rt.poll()},vn=({background:t=null,backgroundImage:n=H,colorBy:e=bt,colors:r=null,opacity:i=null,lassoColor:o=null,lassoMinDelay:u=null,lassoMinDist:a=null,showRecticle:c=null,recticleColor:f=null,pointOutlineWidth:s=null,pointSize:l=null,pointSizeSelected:h=null,height:d=null,width:p=null,aspectRatio:v=null}={})=>{(t=>{t&&(V=Lu(t,!0))})(t),(t=>{H=t||null})(n),(t=>{switch(t){case"category":bt="category";break;case"value":bt="value";break;default:bt=null}})(e),(t=>{if(!t||!t.length)return;const n=[];try{t.forEach(t=>{if(!Array.isArray(t)||Cu(t)||ku(t)){const e=Lu(t,!0),r=[...e.slice(0,3),1];n.push(e,r,r)}else for(let e=0;e<3;e++)n.push(Lu(t[e],!0));n.push(V)})}catch(t){console.error(t,"Invalid format. Please specify an array of colors or a nested array of accents per colors.")}Z=n;try{Y=Yt()}catch(t){Z=vu,Y=Yt(),console.error("Invalid colors. Switching back to default colors.")}})(r),(t=>{!+t||+t<=0||(Mt=+t,Y=Yt())})(i),(t=>{t&&(st=Lu(t,!0),L.setStyle({color:st}))})(o),(t=>{+t&&(Lt=Dt(jt,lt=+t,!0))})(u),(t=>{+t&&(ht=+t)})(a),(t=>{null!==t&&(gt=t)})(c),(t=>{t&&(_t=Lu(t,!0),O.setStyle({color:_t}),z.setStyle({color:_t}))})(f),(t=>{!+t||+t<0||(et=+t)})(s),(t=>{!+t||+t<=0||(tt=+t)})(l),(t=>{!+t||+t<0||(nt=+t)})(h),(t=>{!+t||+t<=0||(Q=+t,X.height=Q*window.devicePixelRatio)})(d),(t=>{!+t||+t<=0||(G=+t,X.width=G*window.devicePixelRatio)})(p),(t=>{+t<=0||(vt=t)})(v),qt(),j.refresh(),pn(),dn()},gn=(t,n=!1)=>{let e=!1;if(t>=0){e=!0;const n=t!==q;q=t,W.subdata([t]),n&&T.publish("pointover",q)}else e=q,q=void 0,+e>=0&&T.publish("pointout",e);e&&dn(null,n)},_n=({key:t})=>{switch(t){case"Escape":Nt()}},yn=()=>{At=!0},mn=()=>{gn(),At=!1,dn()};return qt(),j=K(X),S?j.set(u(S)):j.lookAt([...x],M,A),L=Ft(rt,{color:st,width:3,is2d:!0}),O=Ft(rt,{color:_t,width:1,is2d:!0}),z=Ft(rt,{color:_t,width:1,is2d:!0}),(N=J(X)).on("scroll",()=>{dn()}),$=rt.buffer(),B=rt.buffer(),W=rt.buffer({usage:"dynamic",type:"float",length:hu}),Y=Yt(),vn({width:G,height:Q}),window.addEventListener("keyup",_n,!1),window.addEventListener("blur",Wt,!1),window.addEventListener("mousedown",Ut,!1),window.addEventListener("mouseup",Ot,!1),window.addEventListener("mousemove",Bt,!1),X.addEventListener("mouseenter",yn,!1),X.addEventListener("mouseleave",mn,!1),X.addEventListener("click",zt,!1),X.addEventListener("dblclick",$t,!1),{deselect:Nt,destroy:()=>{window.removeEventListener("keyup",_n,!1),window.removeEventListener("blur",Wt,!1),window.removeEventListener("mousedown",Ut,!1),window.removeEventListener("mouseup",Ot,!1),window.removeEventListener("mousemove",Bt,!1),X.removeEventListener("mouseenter",yn,!1),X.removeEventListener("mouseleave",mn,!1),X.removeEventListener("click",zt,!1),X.removeEventListener("dblclick",$t,!1),X=void 0,j=void 0,rt=void 0,L.destroy(),N.dispose(),T.clear()},draw:dn,get:t=>"background"===t?V:"backgroundImage"===t?H:"colorBy"===t?bt:"colors"===t?Z:"lassoColor"===t?st:"showRecticle"===t?gt:"recticleColor"===t?_t:"opacity"===t?Mt:"pointOutlineWidth"===t?et:"pointSize"===t?tt:"pointSizeSelected"===t?nt:"width"===t?G:"height"===t?Q:"aspectRatio"===t?vt:"canvas"===t?X:"regl"===t?rt:"version"===t?"0.0.7":void 0,hover:gn,refresh:pn,reset:(t=>(...n)=>{const e=t(...n);return dn(),e})(()=>{S?j.set(u(S)):j.lookAt([...x],M,A),T.publish("view",j.view)}),select:Pt,set:vn,subscribe:T.subscribe,unsubscribe:T.unsubscribe}};let Pu=t=>t/4e3;var Du={init:t=>{console.log(wu),t.regl=wu(t.canvas),t.attributes=(t=>{console.log(t);let n=new Array(4*t.edges.length).fill(0);t.edges.forEach((e,r)=>{n[4*r]=Pu(t.nodes[e.source].x),n[4*r+1]=Pu(t.nodes[e.source].y),n[4*r+2]=Pu(t.nodes[e.target].x),n[4*r+3]=Pu(t.nodes[e.target].y)});let e=t.edges.map((n,e)=>+t.nodes[n.source].attributes.date),r=Wt.flatten(t.edges.map(n=>{let e=ee(t.nodes[n.source].color);return[e.r/255,e.g/255,e.b/255]})),i=r.map((t,n)=>n/r.length);return{position:n,color:r,dates:e,fboColor:i}})(t.data),console.log(t.attributes),t.width=1e3,t.height=1e3,t.pointSize=20,t.drawLines=function(t,n){let e=n.attributes;var r=1;return r>t.limits.lineWidthDims[1]&&(r=t.limits.lineWidthDims[1]),t({frag:"\n      precision mediump float;\n      varying vec3 v_color;\n      varying vec3 wow;\n      uniform float opacity;\n\n\n      void main() {\n        gl_FragColor = vec4(v_color + wow, .9);\n      }",vert:"\n      varying vec3 v_color;\n\n      precision mediump float;\n      attribute vec2 position;\n      attribute vec3 color;\n\n      uniform mat4 projection, view;\n\n      uniform float scale;\n      uniform vec2 offset;\n      uniform float tick;\n      uniform float phase;\n\n      uniform float freq;\n      attribute float dates;\n\n      varying vec3 wow;\n      uniform vec2 selection;\n\n      void main() {\n        vec2 p  = position;\n\n        if (selection.x < dates && dates < selection.y )\n        wow = vec3(1);\n\n        v_color = color;\n\n        // translate\n        p += offset;\n        gl_PointSize = .5;\n        gl_Position = projection * view * vec4(p, 0, 1);\n      }",blend:{enable:!1,func:{srcRGB:"src alpha",srcAlpha:"src alpha",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:e,uniforms:{scale:1,offset:[0,0],phase:0,freq:.01,opacity:.5,selection:()=>window.getAdnan?window.getAdnan():[1,1],view:()=>window.getView(),projection:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},lineWidth:r,count:e.position.length/4,primitive:"lines"})}(t.regl,t);const n=Nu(t);n.set({background:"#00ff00"}),console.log("yay");const e=t.data.nodes.map(t=>[t.x/4e3,t.y/4e3,123,"#000000"]);return n.draw(e),n}};t.default=Du,t.createRegl=wu,t.createTextureFromUrl=((t,n,e=!1)=>new Promise((r,i)=>{((t,n=!1)=>new Promise((e,r)=>{const i=new Image;n&&(i.crossOrigin="anonymous"),i.src=t,i.onload=(()=>{e(i)}),i.onerror=(t=>{r(t)})}))(n,e).then(n=>{r(t.texture(n))}).catch(t=>{i(t)})})),Object.defineProperty(t,"__esModule",{value:!0})});
