!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="./",e(e.s=80)}({0:function(t,n,e){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],f="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",x="[object String]",_="[object Symbol]",w="[object WeakMap]",M="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",k="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",z="[object Uint8Array]",j="[object Uint16Array]",D="[object Uint32Array]",B=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,N=RegExp(L.source),R=RegExp(F.source),I=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,V=RegExp($.source),G=/^\s+|\s+$/g,X=/^\s+/,Z=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ft=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",vt="["+pt+"]",mt="["+ht+"]",gt="\\d+",yt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",xt="[^\\ud800-\\udfff"+pt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_t="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",At="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+bt+"|"+xt+")",St="(?:"+Et+"|"+xt+")",Tt="(?:"+mt+"|"+_t+")"+"?",Ct="[\\ufe0e\\ufe0f]?"+Tt+("(?:\\u200d(?:"+[wt,Mt,At].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*"),zt="(?:"+[yt,Mt,At].join("|")+")"+Ct,jt="(?:"+[wt+mt+"?",mt,Mt,At,dt].join("|")+")",Dt=RegExp("['’]","g"),Bt=RegExp(mt,"g"),Ot=RegExp(_t+"(?="+_t+")|"+jt+Ct,"g"),Pt=RegExp([Et+"?"+bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,Et,"$"].join("|")+")",St+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Et+kt,"$"].join("|")+")",Et+"?"+kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,zt].join("|"),"g"),Lt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Ft=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rt=-1,It={};It[E]=It[k]=It[S]=It[T]=It[C]=It[z]=It["[object Uint8ClampedArray]"]=It[j]=It[D]=!0,It[f]=It[s]=It[M]=It[c]=It[A]=It[l]=It[h]=It[p]=It[v]=It[m]=It[g]=It[y]=It[b]=It[x]=It[w]=!1;var Ut={};Ut[f]=Ut[s]=Ut[M]=Ut[A]=Ut[c]=Ut[l]=Ut[E]=Ut[k]=Ut[S]=Ut[T]=Ut[C]=Ut[v]=Ut[m]=Ut[g]=Ut[y]=Ut[b]=Ut[x]=Ut[_]=Ut[z]=Ut["[object Uint8ClampedArray]"]=Ut[j]=Ut[D]=!0,Ut[h]=Ut[p]=Ut[w]=!1;var qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,Yt=parseInt,Ht="object"==typeof t&&t&&t.Object===Object&&t,$t="object"==typeof self&&self&&self.Object===Object&&self,Vt=Ht||$t||Function("return this")(),Gt=n&&!n.nodeType&&n,Xt=Gt&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=Xt&&Xt.exports===Gt,Qt=Zt&&Ht.process,Jt=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),Kt=Jt&&Jt.isArrayBuffer,tn=Jt&&Jt.isDate,nn=Jt&&Jt.isMap,en=Jt&&Jt.isRegExp,rn=Jt&&Jt.isSet,on=Jt&&Jt.isTypedArray;function an(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function un(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function fn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function sn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function cn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function ln(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function hn(t,n){return!!(null==t?0:t.length)&&wn(t,n,0)>-1}function pn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function dn(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function vn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function mn(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function gn(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function yn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var bn=kn("length");function xn(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function _n(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function wn(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):_n(t,An,e)}function Mn(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function An(t){return t!=t}function En(t,n){var e=null==t?0:t.length;return e?Cn(t,n)/e:NaN}function kn(t){return function(n){return null==n?void 0:n[t]}}function Sn(t){return function(n){return null==t?void 0:t[n]}}function Tn(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function Cn(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);void 0!==o&&(e=void 0===e?o:e+o)}return e}function zn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function jn(t){return function(n){return t(n)}}function Dn(t,n){return dn(n,(function(n){return t[n]}))}function Bn(t,n){return t.has(n)}function On(t,n){for(var e=-1,r=t.length;++e<r&&wn(n,t[e],0)>-1;);return e}function Pn(t,n){for(var e=t.length;e--&&wn(n,t[e],0)>-1;);return e}function Ln(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var Fn=Sn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Nn=Sn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Rn(t){return"\\"+qt[t]}function In(t){return Lt.test(t)}function Un(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function qn(t,n){return function(e){return t(n(e))}}function Wn(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e];u!==n&&u!==a||(t[e]=a,o[i++]=e)}return o}function Yn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function Hn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function $n(t){return In(t)?function(t){var n=Ot.lastIndex=0;for(;Ot.test(t);)++n;return n}(t):bn(t)}function Vn(t){return In(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}var Gn=Sn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xn=function t(n){var e,r=(n=null==n?Vt:Xn.defaults(Vt.Object(),n,Xn.pick(Vt,Nt))).Array,i=n.Date,ht=n.Error,pt=n.Function,dt=n.Math,vt=n.Object,mt=n.RegExp,gt=n.String,yt=n.TypeError,bt=r.prototype,xt=pt.prototype,_t=vt.prototype,wt=n["__core-js_shared__"],Mt=xt.toString,At=_t.hasOwnProperty,Et=0,kt=(e=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",St=_t.toString,Tt=Mt.call(vt),Ct=Vt._,zt=mt("^"+Mt.call(At).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=Zt?n.Buffer:void 0,Ot=n.Symbol,Lt=n.Uint8Array,qt=jt?jt.allocUnsafe:void 0,Ht=qn(vt.getPrototypeOf,vt),$t=vt.create,Gt=_t.propertyIsEnumerable,Xt=bt.splice,Qt=Ot?Ot.isConcatSpreadable:void 0,Jt=Ot?Ot.iterator:void 0,bn=Ot?Ot.toStringTag:void 0,Sn=function(){try{var t=Ki(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Zn=n.clearTimeout!==Vt.clearTimeout&&n.clearTimeout,Qn=i&&i.now!==Vt.Date.now&&i.now,Jn=n.setTimeout!==Vt.setTimeout&&n.setTimeout,Kn=dt.ceil,te=dt.floor,ne=vt.getOwnPropertySymbols,ee=jt?jt.isBuffer:void 0,re=n.isFinite,ie=bt.join,oe=qn(vt.keys,vt),ae=dt.max,ue=dt.min,fe=i.now,se=n.parseInt,ce=dt.random,le=bt.reverse,he=Ki(n,"DataView"),pe=Ki(n,"Map"),de=Ki(n,"Promise"),ve=Ki(n,"Set"),me=Ki(n,"WeakMap"),ge=Ki(vt,"create"),ye=me&&new me,be={},xe=So(he),_e=So(pe),we=So(de),Me=So(ve),Ae=So(me),Ee=Ot?Ot.prototype:void 0,ke=Ee?Ee.valueOf:void 0,Se=Ee?Ee.toString:void 0;function Te(t){if(Ya(t)&&!Ba(t)&&!(t instanceof De)){if(t instanceof je)return t;if(At.call(t,"__wrapped__"))return To(t)}return new je(t)}var Ce=function(){function t(){}return function(n){if(!Wa(n))return{};if($t)return $t(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();function ze(){}function je(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=void 0}function De(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Be(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Oe(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Pe(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Le(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Pe;++n<e;)this.add(t[n])}function Fe(t){var n=this.__data__=new Oe(t);this.size=n.size}function Ne(t,n){var e=Ba(t),r=!e&&Da(t),i=!e&&!r&&Fa(t),o=!e&&!r&&!i&&Ja(t),a=e||r||i||o,u=a?zn(t.length,gt):[],f=u.length;for(var s in t)!n&&!At.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ao(s,f))||u.push(s);return u}function Re(t){var n=t.length;return n?t[Lr(0,n-1)]:void 0}function Ie(t,n){return Ao(gi(t),Xe(n,0,t.length))}function Ue(t){return Ao(gi(t))}function qe(t,n,e){(void 0===e||Ca(t[n],e))&&(void 0!==e||n in t)||Ve(t,n,e)}function We(t,n,e){var r=t[n];At.call(t,n)&&Ca(r,e)&&(void 0!==e||n in t)||Ve(t,n,e)}function Ye(t,n){for(var e=t.length;e--;)if(Ca(t[e][0],n))return e;return-1}function He(t,n,e,r){return tr(t,(function(t,i,o){n(r,t,e(t),o)})),r}function $e(t,n){return t&&yi(n,xu(n),t)}function Ve(t,n,e){"__proto__"==n&&Sn?Sn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Ge(t,n){for(var e=-1,i=n.length,o=r(i),a=null==t;++e<i;)o[e]=a?void 0:vu(t,n[e]);return o}function Xe(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}function Ze(t,n,e,r,i,o){var a,u=1&n,s=2&n,h=4&n;if(e&&(a=i?e(t,r,i,o):e(t)),void 0!==a)return a;if(!Wa(t))return t;var w=Ba(t);if(w){if(a=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&At.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!u)return gi(t,a)}else{var B=eo(t),O=B==p||B==d;if(Fa(t))return li(t,u);if(B==g||B==f||O&&!i){if(a=s||O?{}:io(t),!u)return s?function(t,n){return yi(t,no(t),n)}(t,function(t,n){return t&&yi(n,_u(n),t)}(a,t)):function(t,n){return yi(t,to(t),n)}(t,$e(a,t))}else{if(!Ut[B])return i?t:{};a=function(t,n,e){var r=t.constructor;switch(n){case M:return hi(t);case c:case l:return new r(+t);case A:return function(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case E:case k:case S:case T:case C:case z:case"[object Uint8ClampedArray]":case j:case D:return pi(t,e);case v:return new r;case m:case x:return new r(t);case y:return function(t){var n=new t.constructor(t.source,rt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case b:return new r;case _:return i=t,ke?vt(ke.call(i)):{}}var i}(t,B,u)}}o||(o=new Fe);var P=o.get(t);if(P)return P;o.set(t,a),Xa(t)?t.forEach((function(r){a.add(Ze(r,n,e,r,t,o))})):Ha(t)&&t.forEach((function(r,i){a.set(i,Ze(r,n,e,i,t,o))}));var L=w?void 0:(h?s?$i:Hi:s?_u:xu)(t);return fn(L||t,(function(r,i){L&&(r=t[i=r]),We(a,i,Ze(r,n,e,i,t,o))})),a}function Qe(t,n,e){var r=e.length;if(null==t)return!r;for(t=vt(t);r--;){var i=e[r],o=n[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Je(t,n,e){if("function"!=typeof t)throw new yt(o);return xo((function(){t.apply(void 0,e)}),n)}function Ke(t,n,e,r){var i=-1,o=hn,a=!0,u=t.length,f=[],s=n.length;if(!u)return f;e&&(n=dn(n,jn(e))),r?(o=pn,a=!1):n.length>=200&&(o=Bn,a=!1,n=new Le(n));t:for(;++i<u;){var c=t[i],l=null==e?c:e(c);if(c=r||0!==c?c:0,a&&l==l){for(var h=s;h--;)if(n[h]===l)continue t;f.push(c)}else o(n,l,r)||f.push(c)}return f}Te.templateSettings={escape:I,evaluate:U,interpolate:q,variable:"",imports:{_:Te}},Te.prototype=ze.prototype,Te.prototype.constructor=Te,je.prototype=Ce(ze.prototype),je.prototype.constructor=je,De.prototype=Ce(ze.prototype),De.prototype.constructor=De,Be.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Be.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Be.prototype.get=function(t){var n=this.__data__;if(ge){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return At.call(n,t)?n[t]:void 0},Be.prototype.has=function(t){var n=this.__data__;return ge?void 0!==n[t]:At.call(n,t)},Be.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ge&&void 0===n?"__lodash_hash_undefined__":n,this},Oe.prototype.clear=function(){this.__data__=[],this.size=0},Oe.prototype.delete=function(t){var n=this.__data__,e=Ye(n,t);return!(e<0)&&(e==n.length-1?n.pop():Xt.call(n,e,1),--this.size,!0)},Oe.prototype.get=function(t){var n=this.__data__,e=Ye(n,t);return e<0?void 0:n[e][1]},Oe.prototype.has=function(t){return Ye(this.__data__,t)>-1},Oe.prototype.set=function(t,n){var e=this.__data__,r=Ye(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new Be,map:new(pe||Oe),string:new Be}},Pe.prototype.delete=function(t){var n=Qi(this,t).delete(t);return this.size-=n?1:0,n},Pe.prototype.get=function(t){return Qi(this,t).get(t)},Pe.prototype.has=function(t){return Qi(this,t).has(t)},Pe.prototype.set=function(t,n){var e=Qi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Le.prototype.add=Le.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Le.prototype.has=function(t){return this.__data__.has(t)},Fe.prototype.clear=function(){this.__data__=new Oe,this.size=0},Fe.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Fe.prototype.get=function(t){return this.__data__.get(t)},Fe.prototype.has=function(t){return this.__data__.has(t)},Fe.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Oe){var r=e.__data__;if(!pe||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Pe(r)}return e.set(t,n),this.size=e.size,this};var tr=_i(fr),nr=_i(sr,!0);function er(t,n){var e=!0;return tr(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function rr(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=n(o);if(null!=a&&(void 0===u?a==a&&!Qa(a):e(a,u)))var u=a,f=o}return f}function ir(t,n){var e=[];return tr(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function or(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=oo),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?or(u,n-1,e,r,i):vn(i,u):r||(i[i.length]=u)}return i}var ar=wi(),ur=wi(!0);function fr(t,n){return t&&ar(t,n,xu)}function sr(t,n){return t&&ur(t,n,xu)}function cr(t,n){return ln(n,(function(n){return Ia(t[n])}))}function lr(t,n){for(var e=0,r=(n=ui(n,t)).length;null!=t&&e<r;)t=t[ko(n[e++])];return e&&e==r?t:void 0}function hr(t,n,e){var r=n(t);return Ba(t)?r:vn(r,e(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":bn&&bn in vt(t)?function(t){var n=At.call(t,bn),e=t[bn];try{t[bn]=void 0;var r=!0}catch(t){}var i=St.call(t);r&&(n?t[bn]=e:delete t[bn]);return i}(t):function(t){return St.call(t)}(t)}function dr(t,n){return t>n}function vr(t,n){return null!=t&&At.call(t,n)}function mr(t,n){return null!=t&&n in vt(t)}function gr(t,n,e){for(var i=e?pn:hn,o=t[0].length,a=t.length,u=a,f=r(a),s=1/0,c=[];u--;){var l=t[u];u&&n&&(l=dn(l,jn(n))),s=ue(l.length,s),f[u]=!e&&(n||o>=120&&l.length>=120)?new Le(u&&l):void 0}l=t[0];var h=-1,p=f[0];t:for(;++h<o&&c.length<s;){var d=l[h],v=n?n(d):d;if(d=e||0!==d?d:0,!(p?Bn(p,v):i(c,v,e))){for(u=a;--u;){var m=f[u];if(!(m?Bn(m,v):i(t[u],v,e)))continue t}p&&p.push(v),c.push(d)}}return c}function yr(t,n,e){var r=null==(t=mo(t,n=ui(n,t)))?t:t[ko(Ro(n))];return null==r?void 0:an(r,t,e)}function br(t){return Ya(t)&&pr(t)==f}function xr(t,n,e,r,i){return t===n||(null==t||null==n||!Ya(t)&&!Ya(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var a=Ba(t),u=Ba(n),p=a?s:eo(t),d=u?s:eo(n),w=(p=p==f?g:p)==g,E=(d=d==f?g:d)==g,k=p==d;if(k&&Fa(t)){if(!Fa(n))return!1;a=!0,w=!1}if(k&&!w)return o||(o=new Fe),a||Ja(t)?Wi(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case A:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case M:return!(t.byteLength!=n.byteLength||!o(new Lt(t),new Lt(n)));case c:case l:case m:return Ca(+t,+n);case h:return t.name==n.name&&t.message==n.message;case y:case x:return t==n+"";case v:var u=Un;case b:var f=1&r;if(u||(u=Yn),t.size!=n.size&&!f)return!1;var s=a.get(t);if(s)return s==n;r|=2,a.set(t,n);var p=Wi(u(t),u(n),r,i,o,a);return a.delete(t),p;case _:if(ke)return ke.call(t)==ke.call(n)}return!1}(t,n,p,e,r,i,o);if(!(1&e)){var S=w&&At.call(t,"__wrapped__"),T=E&&At.call(n,"__wrapped__");if(S||T){var C=S?t.value():t,z=T?n.value():n;return o||(o=new Fe),i(C,z,e,r,o)}}if(!k)return!1;return o||(o=new Fe),function(t,n,e,r,i,o){var a=1&e,u=Hi(t),f=u.length,s=Hi(n).length;if(f!=s&&!a)return!1;var c=f;for(;c--;){var l=u[c];if(!(a?l in n:At.call(n,l)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var p=!0;o.set(t,n),o.set(n,t);var d=a;for(;++c<f;){l=u[c];var v=t[l],m=n[l];if(r)var g=a?r(m,v,l,n,t,o):r(v,m,l,t,n,o);if(!(void 0===g?v===m||i(v,m,e,r,o):g)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=t.constructor,b=n.constructor;y!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(t),o.delete(n),p}(t,n,e,r,i,o)}(t,n,e,r,xr,i))}function _r(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var f=(u=e[i])[0],s=t[f],c=u[1];if(a&&u[2]){if(void 0===s&&!(f in t))return!1}else{var l=new Fe;if(r)var h=r(s,c,f,t,n,l);if(!(void 0===h?xr(c,s,3,r,l):h))return!1}}return!0}function wr(t){return!(!Wa(t)||(n=t,kt&&kt in n))&&(Ia(t)?zt:at).test(So(t));var n}function Mr(t){return"function"==typeof t?t:null==t?$u:"object"==typeof t?Ba(t)?Cr(t[0],t[1]):Tr(t):nf(t)}function Ar(t){if(!lo(t))return oe(t);var n=[];for(var e in vt(t))At.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Er(t){if(!Wa(t))return function(t){var n=[];if(null!=t)for(var e in vt(t))n.push(e);return n}(t);var n=lo(t),e=[];for(var r in t)("constructor"!=r||!n&&At.call(t,r))&&e.push(r);return e}function kr(t,n){return t<n}function Sr(t,n){var e=-1,i=Pa(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++e]=n(t,r,o)})),i}function Tr(t){var n=Ji(t);return 1==n.length&&n[0][2]?po(n[0][0],n[0][1]):function(e){return e===t||_r(e,t,n)}}function Cr(t,n){return fo(t)&&ho(n)?po(ko(t),n):function(e){var r=vu(e,t);return void 0===r&&r===n?mu(e,t):xr(n,r,3)}}function zr(t,n,e,r,i){t!==n&&ar(n,(function(o,a){if(i||(i=new Fe),Wa(o))!function(t,n,e,r,i,o,a){var u=yo(t,e),f=yo(n,e),s=a.get(f);if(s)return void qe(t,e,s);var c=o?o(u,f,e+"",t,n,a):void 0,l=void 0===c;if(l){var h=Ba(f),p=!h&&Fa(f),d=!h&&!p&&Ja(f);c=f,h||p||d?Ba(u)?c=u:La(u)?c=gi(u):p?(l=!1,c=li(f,!0)):d?(l=!1,c=pi(f,!0)):c=[]:Va(f)||Da(f)?(c=u,Da(u)?c=au(u):Wa(u)&&!Ia(u)||(c=io(f))):l=!1}l&&(a.set(f,c),i(c,f,r,o,a),a.delete(f));qe(t,e,c)}(t,n,a,e,zr,r,i);else{var u=r?r(yo(t,a),o,a+"",t,n,i):void 0;void 0===u&&(u=o),qe(t,a,u)}}),_u)}function jr(t,n){var e=t.length;if(e)return ao(n+=n<0?e:0,e)?t[n]:void 0}function Dr(t,n,e){var r=-1;return n=dn(n.length?n:[$u],jn(Zi())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Sr(t,(function(t,e,i){return{criteria:dn(n,(function(n){return n(t)})),index:++r,value:t}})),(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;for(;++r<a;){var f=di(i[r],o[r]);if(f){if(r>=u)return f;var s=e[r];return f*("desc"==s?-1:1)}}return t.index-n.index}(t,n,e)}))}function Br(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=lr(t,a);e(u,a)&&Ur(o,ui(a,t),u)}return o}function Or(t,n,e,r){var i=r?Mn:wn,o=-1,a=n.length,u=t;for(t===n&&(n=gi(n)),e&&(u=dn(t,jn(e)));++o<a;)for(var f=0,s=n[o],c=e?e(s):s;(f=i(u,c,f,r))>-1;)u!==t&&Xt.call(u,f,1),Xt.call(t,f,1);return t}function Pr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;ao(i)?Xt.call(t,i,1):Kr(t,i)}}return t}function Lr(t,n){return t+te(ce()*(n-t+1))}function Fr(t,n){var e="";if(!t||n<1||n>9007199254740991)return e;do{n%2&&(e+=t),(n=te(n/2))&&(t+=t)}while(n);return e}function Nr(t,n){return _o(vo(t,n,$u),t+"")}function Rr(t){return Re(Cu(t))}function Ir(t,n){var e=Cu(t);return Ao(e,Xe(n,0,e.length))}function Ur(t,n,e,r){if(!Wa(t))return t;for(var i=-1,o=(n=ui(n,t)).length,a=o-1,u=t;null!=u&&++i<o;){var f=ko(n[i]),s=e;if(i!=a){var c=u[f];void 0===(s=r?r(c,f,u):void 0)&&(s=Wa(c)?c:ao(n[i+1])?[]:{})}We(u,f,s),u=u[f]}return t}var qr=ye?function(t,n){return ye.set(t,n),t}:$u,Wr=Sn?function(t,n){return Sn(t,"toString",{configurable:!0,enumerable:!1,value:Wu(n),writable:!0})}:$u;function Yr(t){return Ao(Cu(t))}function Hr(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+n];return a}function $r(t,n){var e;return tr(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function Vr(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Qa(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return Gr(t,n,$u,e)}function Gr(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,a=n!=n,u=null===n,f=Qa(n),s=void 0===n;i<o;){var c=te((i+o)/2),l=e(t[c]),h=void 0!==l,p=null===l,d=l==l,v=Qa(l);if(a)var m=r||d;else m=s?d&&(r||h):u?d&&h&&(r||!p):f?d&&h&&!p&&(r||!v):!p&&!v&&(r?l<=n:l<n);m?i=c+1:o=c}return ue(o,4294967294)}function Xr(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!Ca(u,f)){var f=u;o[i++]=0===a?0:a}}return o}function Zr(t){return"number"==typeof t?t:Qa(t)?NaN:+t}function Qr(t){if("string"==typeof t)return t;if(Ba(t))return dn(t,Qr)+"";if(Qa(t))return Se?Se.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Jr(t,n,e){var r=-1,i=hn,o=t.length,a=!0,u=[],f=u;if(e)a=!1,i=pn;else if(o>=200){var s=n?null:Fi(t);if(s)return Yn(s);a=!1,i=Bn,f=new Le}else f=n?[]:u;t:for(;++r<o;){var c=t[r],l=n?n(c):c;if(c=e||0!==c?c:0,a&&l==l){for(var h=f.length;h--;)if(f[h]===l)continue t;n&&f.push(l),u.push(c)}else i(f,l,e)||(f!==u&&f.push(l),u.push(c))}return u}function Kr(t,n){return null==(t=mo(t,n=ui(n,t)))||delete t[ko(Ro(n))]}function ti(t,n,e,r){return Ur(t,n,e(lr(t,n)),r)}function ni(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ei(t,n){var e=t;return e instanceof De&&(e=e.value()),mn(n,(function(t,n){return n.func.apply(n.thisArg,vn([t],n.args))}),e)}function ri(t,n,e){var i=t.length;if(i<2)return i?Jr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],f=-1;++f<i;)f!=o&&(a[o]=Ke(a[o]||u,t[f],n,e));return Jr(or(a,1),n,e)}function ii(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;){var u=r<o?n[r]:void 0;e(a,t[r],u)}return a}function oi(t){return La(t)?t:[]}function ai(t){return"function"==typeof t?t:$u}function ui(t,n){return Ba(t)?t:fo(t,n)?[t]:Eo(uu(t))}var fi=Nr;function si(t,n,e){var r=t.length;return e=void 0===e?r:e,!n&&e>=r?t:Hr(t,n,e)}var ci=Zn||function(t){return Vt.clearTimeout(t)};function li(t,n){if(n)return t.slice();var e=t.length,r=qt?qt(e):new t.constructor(e);return t.copy(r),r}function hi(t){var n=new t.constructor(t.byteLength);return new Lt(n).set(new Lt(t)),n}function pi(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function di(t,n){if(t!==n){var e=void 0!==t,r=null===t,i=t==t,o=Qa(t),a=void 0!==n,u=null===n,f=n==n,s=Qa(n);if(!u&&!s&&!o&&t>n||o&&a&&f&&!u&&!s||r&&a&&f||!e&&f||!i)return 1;if(!r&&!o&&!s&&t<n||s&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!f)return-1}return 0}function vi(t,n,e,i){for(var o=-1,a=t.length,u=e.length,f=-1,s=n.length,c=ae(a-u,0),l=r(s+c),h=!i;++f<s;)l[f]=n[f];for(;++o<u;)(h||o<a)&&(l[e[o]]=t[o]);for(;c--;)l[f++]=t[o++];return l}function mi(t,n,e,i){for(var o=-1,a=t.length,u=-1,f=e.length,s=-1,c=n.length,l=ae(a-f,0),h=r(l+c),p=!i;++o<l;)h[o]=t[o];for(var d=o;++s<c;)h[d+s]=n[s];for(;++u<f;)(p||o<a)&&(h[d+e[u]]=t[o++]);return h}function gi(t,n){var e=-1,i=t.length;for(n||(n=r(i));++e<i;)n[e]=t[e];return n}function yi(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var u=n[o],f=r?r(e[u],t[u],u,e,t):void 0;void 0===f&&(f=t[u]),i?Ve(e,u,f):We(e,u,f)}return e}function bi(t,n){return function(e,r){var i=Ba(e)?un:He,o=n?n():{};return i(e,t,Zi(r,2),o)}}function xi(t){return Nr((function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(e[0],e[1],a)&&(o=i<3?void 0:o,i=1),n=vt(n);++r<i;){var u=e[r];u&&t(n,u,r,o)}return n}))}function _i(t,n){return function(e,r){if(null==e)return e;if(!Pa(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=vt(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function wi(t){return function(n,e,r){for(var i=-1,o=vt(n),a=r(n),u=a.length;u--;){var f=a[t?u:++i];if(!1===e(o[f],f,o))break}return n}}function Mi(t){return function(n){var e=In(n=uu(n))?Vn(n):void 0,r=e?e[0]:n.charAt(0),i=e?si(e,1).join(""):n.slice(1);return r[t]()+i}}function Ai(t){return function(n){return mn(Iu(Du(n).replace(Dt,"")),t,"")}}function Ei(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Ce(t.prototype),r=t.apply(e,n);return Wa(r)?r:e}}function ki(t){return function(n,e,r){var i=vt(n);if(!Pa(n)){var o=Zi(e,3);n=xu(n),e=function(t){return o(i[t],t,i)}}var a=t(n,e,r);return a>-1?i[o?n[a]:a]:void 0}}function Si(t){return Yi((function(n){var e=n.length,r=e,i=je.prototype.thru;for(t&&n.reverse();r--;){var a=n[r];if("function"!=typeof a)throw new yt(o);if(i&&!u&&"wrapper"==Gi(a))var u=new je([],!0)}for(r=u?r:e;++r<e;){var f=Gi(a=n[r]),s="wrapper"==f?Vi(a):void 0;u=s&&so(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[Gi(s[0])].apply(u,s[3]):1==a.length&&so(a)?u[f]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ba(r))return u.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}}))}function Ti(t,n,e,i,o,a,u,f,s,c){var l=128&n,h=1&n,p=2&n,d=24&n,v=512&n,m=p?void 0:Ei(t);return function g(){for(var y=arguments.length,b=r(y),x=y;x--;)b[x]=arguments[x];if(d)var _=Xi(g),w=Ln(b,_);if(i&&(b=vi(b,i,o,d)),a&&(b=mi(b,a,u,d)),y-=w,d&&y<c){var M=Wn(b,_);return Pi(t,n,Ti,g.placeholder,e,b,M,f,s,c-y)}var A=h?e:this,E=p?A[t]:t;return y=b.length,f?b=go(b,f):v&&y>1&&b.reverse(),l&&s<y&&(b.length=s),this&&this!==Vt&&this instanceof g&&(E=m||Ei(E)),E.apply(A,b)}}function Ci(t,n){return function(e,r){return function(t,n,e,r){return fr(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function zi(t,n){return function(e,r){var i;if(void 0===e&&void 0===r)return n;if(void 0!==e&&(i=e),void 0!==r){if(void 0===i)return r;"string"==typeof e||"string"==typeof r?(e=Qr(e),r=Qr(r)):(e=Zr(e),r=Zr(r)),i=t(e,r)}return i}}function ji(t){return Yi((function(n){return n=dn(n,jn(Zi())),Nr((function(e){var r=this;return t(n,(function(t){return an(t,r,e)}))}))}))}function Di(t,n){var e=(n=void 0===n?" ":Qr(n)).length;if(e<2)return e?Fr(n,t):n;var r=Fr(n,Kn(t/$n(n)));return In(n)?si(Vn(r),0,t).join(""):r.slice(0,t)}function Bi(t){return function(n,e,i){return i&&"number"!=typeof i&&uo(n,e,i)&&(e=i=void 0),n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e,i){for(var o=-1,a=ae(Kn((n-t)/(e||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=e;return u}(n,e,i=void 0===i?n<e?1:-1:eu(i),t)}}function Oi(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=ou(n),e=ou(e)),t(n,e)}}function Pi(t,n,e,r,i,o,a,u,f,s){var c=8&n;n|=c?32:64,4&(n&=~(c?64:32))||(n&=-4);var l=[t,n,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,u,f,s],h=e.apply(void 0,l);return so(t)&&bo(h,l),h.placeholder=r,wo(h,t,n)}function Li(t){var n=dt[t];return function(t,e){if(t=ou(t),(e=null==e?0:ue(ru(e),292))&&re(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Fi=ve&&1/Yn(new ve([,-0]))[1]==1/0?function(t){return new ve(t)}:Qu;function Ni(t){return function(n){var e=eo(n);return e==v?Un(n):e==b?Hn(n):function(t,n){return dn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Ri(t,n,e,i,u,f,s,c){var l=2&n;if(!l&&"function"!=typeof t)throw new yt(o);var h=i?i.length:0;if(h||(n&=-97,i=u=void 0),s=void 0===s?s:ae(ru(s),0),c=void 0===c?c:ru(c),h-=u?u.length:0,64&n){var p=i,d=u;i=u=void 0}var v=l?void 0:Vi(t),m=[t,n,e,i,u,p,d,f,s,c];if(v&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<131,u=128==r&&8==e||128==r&&256==e&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!o&&!u)return t;1&r&&(t[2]=n[2],i|=1&e?0:4);var f=n[3];if(f){var s=t[3];t[3]=s?vi(s,f,n[4]):f,t[4]=s?Wn(t[3],a):n[4]}(f=n[5])&&(s=t[5],t[5]=s?mi(s,f,n[6]):f,t[6]=s?Wn(t[5],a):n[6]);(f=n[7])&&(t[7]=f);128&r&&(t[8]=null==t[8]?n[8]:ue(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=i}(m,v),t=m[0],n=m[1],e=m[2],i=m[3],u=m[4],!(c=m[9]=void 0===m[9]?l?0:t.length:ae(m[9]-h,0))&&24&n&&(n&=-25),n&&1!=n)g=8==n||16==n?function(t,n,e){var i=Ei(t);return function o(){for(var a=arguments.length,u=r(a),f=a,s=Xi(o);f--;)u[f]=arguments[f];var c=a<3&&u[0]!==s&&u[a-1]!==s?[]:Wn(u,s);if((a-=c.length)<e)return Pi(t,n,Ti,o.placeholder,void 0,u,c,void 0,void 0,e-a);var l=this&&this!==Vt&&this instanceof o?i:t;return an(l,this,u)}}(t,n,c):32!=n&&33!=n||u.length?Ti.apply(void 0,m):function(t,n,e,i){var o=1&n,a=Ei(t);return function n(){for(var u=-1,f=arguments.length,s=-1,c=i.length,l=r(c+f),h=this&&this!==Vt&&this instanceof n?a:t;++s<c;)l[s]=i[s];for(;f--;)l[s++]=arguments[++u];return an(h,o?e:this,l)}}(t,n,e,i);else var g=function(t,n,e){var r=1&n,i=Ei(t);return function n(){var o=this&&this!==Vt&&this instanceof n?i:t;return o.apply(r?e:this,arguments)}}(t,n,e);return wo((v?qr:bo)(g,m),t,n)}function Ii(t,n,e,r){return void 0===t||Ca(t,_t[e])&&!At.call(r,e)?n:t}function Ui(t,n,e,r,i,o){return Wa(t)&&Wa(n)&&(o.set(n,t),zr(t,n,void 0,Ui,o),o.delete(n)),t}function qi(t){return Va(t)?void 0:t}function Wi(t,n,e,r,i,o){var a=1&e,u=t.length,f=n.length;if(u!=f&&!(a&&f>u))return!1;var s=o.get(t);if(s&&o.get(n))return s==n;var c=-1,l=!0,h=2&e?new Le:void 0;for(o.set(t,n),o.set(n,t);++c<u;){var p=t[c],d=n[c];if(r)var v=a?r(d,p,c,n,t,o):r(p,d,c,t,n,o);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!yn(n,(function(t,n){if(!Bn(h,n)&&(p===t||i(p,t,e,r,o)))return h.push(n)}))){l=!1;break}}else if(p!==d&&!i(p,d,e,r,o)){l=!1;break}}return o.delete(t),o.delete(n),l}function Yi(t){return _o(vo(t,void 0,Oo),t+"")}function Hi(t){return hr(t,xu,to)}function $i(t){return hr(t,_u,no)}var Vi=ye?function(t){return ye.get(t)}:Qu;function Gi(t){for(var n=t.name+"",e=be[n],r=At.call(be,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Xi(t){return(At.call(Te,"placeholder")?Te:t).placeholder}function Zi(){var t=Te.iteratee||Vu;return t=t===Vu?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function Qi(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function Ji(t){for(var n=xu(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,ho(i)]}return n}function Ki(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return wr(e)?e:void 0}var to=ne?function(t){return null==t?[]:(t=vt(t),ln(ne(t),(function(n){return Gt.call(t,n)})))}:of,no=ne?function(t){for(var n=[];t;)vn(n,to(t)),t=Ht(t);return n}:of,eo=pr;function ro(t,n,e){for(var r=-1,i=(n=ui(n,t)).length,o=!1;++r<i;){var a=ko(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&qa(i)&&ao(a,i)&&(Ba(t)||Da(t))}function io(t){return"function"!=typeof t.constructor||lo(t)?{}:Ce(Ht(t))}function oo(t){return Ba(t)||Da(t)||!!(Qt&&t&&t[Qt])}function ao(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&ft.test(t))&&t>-1&&t%1==0&&t<n}function uo(t,n,e){if(!Wa(e))return!1;var r=typeof n;return!!("number"==r?Pa(e)&&ao(n,e.length):"string"==r&&n in e)&&Ca(e[n],t)}function fo(t,n){if(Ba(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Qa(t))||(Y.test(t)||!W.test(t)||null!=n&&t in vt(n))}function so(t){var n=Gi(t),e=Te[n];if("function"!=typeof e||!(n in De.prototype))return!1;if(t===e)return!0;var r=Vi(e);return!!r&&t===r[0]}(he&&eo(new he(new ArrayBuffer(1)))!=A||pe&&eo(new pe)!=v||de&&"[object Promise]"!=eo(de.resolve())||ve&&eo(new ve)!=b||me&&eo(new me)!=w)&&(eo=function(t){var n=pr(t),e=n==g?t.constructor:void 0,r=e?So(e):"";if(r)switch(r){case xe:return A;case _e:return v;case we:return"[object Promise]";case Me:return b;case Ae:return w}return n});var co=wt?Ia:af;function lo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||_t)}function ho(t){return t==t&&!Wa(t)}function po(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in vt(e)))}}function vo(t,n,e){return n=ae(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=ae(i.length-n,0),u=r(a);++o<a;)u[o]=i[n+o];o=-1;for(var f=r(n+1);++o<n;)f[o]=i[o];return f[n]=e(u),an(t,this,f)}}function mo(t,n){return n.length<2?t:lr(t,Hr(n,0,-1))}function go(t,n){for(var e=t.length,r=ue(n.length,e),i=gi(t);r--;){var o=n[r];t[r]=ao(o,e)?i[o]:void 0}return t}function yo(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var bo=Mo(qr),xo=Jn||function(t,n){return Vt.setTimeout(t,n)},_o=Mo(Wr);function wo(t,n,e){var r=n+"";return _o(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return fn(u,(function(e){var r="_."+e[0];n&e[1]&&!hn(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(J);return n?n[1].split(K):[]}(r),e)))}function Mo(t){var n=0,e=0;return function(){var r=fe(),i=16-(r-e);if(e=r,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function Ao(t,n){var e=-1,r=t.length,i=r-1;for(n=void 0===n?r:n;++e<n;){var o=Lr(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}var Eo=function(t){var n=Ma(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(H,(function(t,e,r,i){n.push(r?i.replace(nt,"$1"):e||t)})),n}));function ko(t){if("string"==typeof t||Qa(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function So(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function To(t){if(t instanceof De)return t.clone();var n=new je(t.__wrapped__,t.__chain__);return n.__actions__=gi(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Co=Nr((function(t,n){return La(t)?Ke(t,or(n,1,La,!0)):[]})),zo=Nr((function(t,n){var e=Ro(n);return La(e)&&(e=void 0),La(t)?Ke(t,or(n,1,La,!0),Zi(e,2)):[]})),jo=Nr((function(t,n){var e=Ro(n);return La(e)&&(e=void 0),La(t)?Ke(t,or(n,1,La,!0),void 0,e):[]}));function Do(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),_n(t,Zi(n,3),i)}function Bo(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==e&&(i=ru(e),i=e<0?ae(r+i,0):ue(i,r-1)),_n(t,Zi(n,3),i,!0)}function Oo(t){return(null==t?0:t.length)?or(t,1):[]}function Po(t){return t&&t.length?t[0]:void 0}var Lo=Nr((function(t){var n=dn(t,oi);return n.length&&n[0]===t[0]?gr(n):[]})),Fo=Nr((function(t){var n=Ro(t),e=dn(t,oi);return n===Ro(e)?n=void 0:e.pop(),e.length&&e[0]===t[0]?gr(e,Zi(n,2)):[]})),No=Nr((function(t){var n=Ro(t),e=dn(t,oi);return(n="function"==typeof n?n:void 0)&&e.pop(),e.length&&e[0]===t[0]?gr(e,void 0,n):[]}));function Ro(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}var Io=Nr(Uo);function Uo(t,n){return t&&t.length&&n&&n.length?Or(t,n):t}var qo=Yi((function(t,n){var e=null==t?0:t.length,r=Ge(t,n);return Pr(t,dn(n,(function(t){return ao(t,e)?+t:t})).sort(di)),r}));function Wo(t){return null==t?t:le.call(t)}var Yo=Nr((function(t){return Jr(or(t,1,La,!0))})),Ho=Nr((function(t){var n=Ro(t);return La(n)&&(n=void 0),Jr(or(t,1,La,!0),Zi(n,2))})),$o=Nr((function(t){var n=Ro(t);return n="function"==typeof n?n:void 0,Jr(or(t,1,La,!0),void 0,n)}));function Vo(t){if(!t||!t.length)return[];var n=0;return t=ln(t,(function(t){if(La(t))return n=ae(t.length,n),!0})),zn(n,(function(n){return dn(t,kn(n))}))}function Go(t,n){if(!t||!t.length)return[];var e=Vo(t);return null==n?e:dn(e,(function(t){return an(n,void 0,t)}))}var Xo=Nr((function(t,n){return La(t)?Ke(t,n):[]})),Zo=Nr((function(t){return ri(ln(t,La))})),Qo=Nr((function(t){var n=Ro(t);return La(n)&&(n=void 0),ri(ln(t,La),Zi(n,2))})),Jo=Nr((function(t){var n=Ro(t);return n="function"==typeof n?n:void 0,ri(ln(t,La),void 0,n)})),Ko=Nr(Vo);var ta=Nr((function(t){var n=t.length,e=n>1?t[n-1]:void 0;return e="function"==typeof e?(t.pop(),e):void 0,Go(t,e)}));function na(t){var n=Te(t);return n.__chain__=!0,n}function ea(t,n){return n(t)}var ra=Yi((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return Ge(n,t)};return!(n>1||this.__actions__.length)&&r instanceof De&&ao(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:ea,args:[i],thisArg:void 0}),new je(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,n,e){At.call(t,e)?++t[e]:Ve(t,e,1)}));var oa=ki(Do),aa=ki(Bo);function ua(t,n){return(Ba(t)?fn:tr)(t,Zi(n,3))}function fa(t,n){return(Ba(t)?sn:nr)(t,Zi(n,3))}var sa=bi((function(t,n,e){At.call(t,e)?t[e].push(n):Ve(t,e,[n])}));var ca=Nr((function(t,n,e){var i=-1,o="function"==typeof n,a=Pa(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?an(n,t,e):yr(t,n,e)})),a})),la=bi((function(t,n,e){Ve(t,e,n)}));function ha(t,n){return(Ba(t)?dn:Sr)(t,Zi(n,3))}var pa=bi((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var da=Nr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&uo(t,n[0],n[1])?n=[]:e>2&&uo(n[0],n[1],n[2])&&(n=[n[0]]),Dr(t,or(n,1),[])})),va=Qn||function(){return Vt.Date.now()};function ma(t,n,e){return n=e?void 0:n,Ri(t,128,void 0,void 0,void 0,void 0,n=t&&null==n?t.length:n)}function ga(t,n){var e;if("function"!=typeof n)throw new yt(o);return t=ru(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=void 0),e}}var ya=Nr((function(t,n,e){var r=1;if(e.length){var i=Wn(e,Xi(ya));r|=32}return Ri(t,r,n,e,i)})),ba=Nr((function(t,n,e){var r=3;if(e.length){var i=Wn(e,Xi(ba));r|=32}return Ri(n,r,t,e,i)}));function xa(t,n,e){var r,i,a,u,f,s,c=0,l=!1,h=!1,p=!0;if("function"!=typeof t)throw new yt(o);function d(n){var e=r,o=i;return r=i=void 0,c=n,u=t.apply(o,e)}function v(t){return c=t,f=xo(g,n),l?d(t):u}function m(t){var e=t-s;return void 0===s||e>=n||e<0||h&&t-c>=a}function g(){var t=va();if(m(t))return y(t);f=xo(g,function(t){var e=n-(t-s);return h?ue(e,a-(t-c)):e}(t))}function y(t){return f=void 0,p&&r?d(t):(r=i=void 0,u)}function b(){var t=va(),e=m(t);if(r=arguments,i=this,s=t,e){if(void 0===f)return v(s);if(h)return ci(f),f=xo(g,n),d(s)}return void 0===f&&(f=xo(g,n)),u}return n=ou(n)||0,Wa(e)&&(l=!!e.leading,a=(h="maxWait"in e)?ae(ou(e.maxWait)||0,n):a,p="trailing"in e?!!e.trailing:p),b.cancel=function(){void 0!==f&&ci(f),c=0,r=s=i=f=void 0},b.flush=function(){return void 0===f?u:y(va())},b}var _a=Nr((function(t,n){return Je(t,1,n)})),wa=Nr((function(t,n,e){return Je(t,ou(n)||0,e)}));function Ma(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new yt(o);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(Ma.Cache||Pe),e}function Aa(t){if("function"!=typeof t)throw new yt(o);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Ma.Cache=Pe;var Ea=fi((function(t,n){var e=(n=1==n.length&&Ba(n[0])?dn(n[0],jn(Zi())):dn(or(n,1),jn(Zi()))).length;return Nr((function(r){for(var i=-1,o=ue(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return an(t,this,r)}))})),ka=Nr((function(t,n){return Ri(t,32,void 0,n,Wn(n,Xi(ka)))})),Sa=Nr((function(t,n){return Ri(t,64,void 0,n,Wn(n,Xi(Sa)))})),Ta=Yi((function(t,n){return Ri(t,256,void 0,void 0,void 0,n)}));function Ca(t,n){return t===n||t!=t&&n!=n}var za=Oi(dr),ja=Oi((function(t,n){return t>=n})),Da=br(function(){return arguments}())?br:function(t){return Ya(t)&&At.call(t,"callee")&&!Gt.call(t,"callee")},Ba=r.isArray,Oa=Kt?jn(Kt):function(t){return Ya(t)&&pr(t)==M};function Pa(t){return null!=t&&qa(t.length)&&!Ia(t)}function La(t){return Ya(t)&&Pa(t)}var Fa=ee||af,Na=tn?jn(tn):function(t){return Ya(t)&&pr(t)==l};function Ra(t){if(!Ya(t))return!1;var n=pr(t);return n==h||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Va(t)}function Ia(t){if(!Wa(t))return!1;var n=pr(t);return n==p||n==d||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ua(t){return"number"==typeof t&&t==ru(t)}function qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Wa(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Ya(t){return null!=t&&"object"==typeof t}var Ha=nn?jn(nn):function(t){return Ya(t)&&eo(t)==v};function $a(t){return"number"==typeof t||Ya(t)&&pr(t)==m}function Va(t){if(!Ya(t)||pr(t)!=g)return!1;var n=Ht(t);if(null===n)return!0;var e=At.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Mt.call(e)==Tt}var Ga=en?jn(en):function(t){return Ya(t)&&pr(t)==y};var Xa=rn?jn(rn):function(t){return Ya(t)&&eo(t)==b};function Za(t){return"string"==typeof t||!Ba(t)&&Ya(t)&&pr(t)==x}function Qa(t){return"symbol"==typeof t||Ya(t)&&pr(t)==_}var Ja=on?jn(on):function(t){return Ya(t)&&qa(t.length)&&!!It[pr(t)]};var Ka=Oi(kr),tu=Oi((function(t,n){return t<=n}));function nu(t){if(!t)return[];if(Pa(t))return Za(t)?Vn(t):gi(t);if(Jt&&t[Jt])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Jt]());var n=eo(t);return(n==v?Un:n==b?Yn:Cu)(t)}function eu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var n=eu(t),e=n%1;return n==n?e?n-e:n:0}function iu(t){return t?Xe(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Qa(t))return NaN;if(Wa(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Wa(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var e=ot.test(t);return e||ut.test(t)?Yt(t.slice(2),e?2:8):it.test(t)?NaN:+t}function au(t){return yi(t,_u(t))}function uu(t){return null==t?"":Qr(t)}var fu=xi((function(t,n){if(lo(n)||Pa(n))yi(n,xu(n),t);else for(var e in n)At.call(n,e)&&We(t,e,n[e])})),su=xi((function(t,n){yi(n,_u(n),t)})),cu=xi((function(t,n,e,r){yi(n,_u(n),t,r)})),lu=xi((function(t,n,e,r){yi(n,xu(n),t,r)})),hu=Yi(Ge);var pu=Nr((function(t,n){t=vt(t);var e=-1,r=n.length,i=r>2?n[2]:void 0;for(i&&uo(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],a=_u(o),u=-1,f=a.length;++u<f;){var s=a[u],c=t[s];(void 0===c||Ca(c,_t[s])&&!At.call(t,s))&&(t[s]=o[s])}return t})),du=Nr((function(t){return t.push(void 0,Ui),an(Mu,void 0,t)}));function vu(t,n,e){var r=null==t?void 0:lr(t,n);return void 0===r?e:r}function mu(t,n){return null!=t&&ro(t,n,mr)}var gu=Ci((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=St.call(n)),t[n]=e}),Wu($u)),yu=Ci((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=St.call(n)),At.call(t,n)?t[n].push(e):t[n]=[e]}),Zi),bu=Nr(yr);function xu(t){return Pa(t)?Ne(t):Ar(t)}function _u(t){return Pa(t)?Ne(t,!0):Er(t)}var wu=xi((function(t,n,e){zr(t,n,e)})),Mu=xi((function(t,n,e,r){zr(t,n,e,r)})),Au=Yi((function(t,n){var e={};if(null==t)return e;var r=!1;n=dn(n,(function(n){return n=ui(n,t),r||(r=n.length>1),n})),yi(t,$i(t),e),r&&(e=Ze(e,7,qi));for(var i=n.length;i--;)Kr(e,n[i]);return e}));var Eu=Yi((function(t,n){return null==t?{}:function(t,n){return Br(t,n,(function(n,e){return mu(t,e)}))}(t,n)}));function ku(t,n){if(null==t)return{};var e=dn($i(t),(function(t){return[t]}));return n=Zi(n),Br(t,e,(function(t,e){return n(t,e[0])}))}var Su=Ni(xu),Tu=Ni(_u);function Cu(t){return null==t?[]:Dn(t,xu(t))}var zu=Ai((function(t,n,e){return n=n.toLowerCase(),t+(e?ju(n):n)}));function ju(t){return Ru(uu(t).toLowerCase())}function Du(t){return(t=uu(t))&&t.replace(st,Fn).replace(Bt,"")}var Bu=Ai((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Ou=Ai((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Pu=Mi("toLowerCase");var Lu=Ai((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Fu=Ai((function(t,n,e){return t+(e?" ":"")+Ru(n)}));var Nu=Ai((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Ru=Mi("toUpperCase");function Iu(t,n,e){return t=uu(t),void 0===(n=e?void 0:n)?function(t){return Ft.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(n)||[]}var Uu=Nr((function(t,n){try{return an(t,void 0,n)}catch(t){return Ra(t)?t:new ht(t)}})),qu=Yi((function(t,n){return fn(n,(function(n){n=ko(n),Ve(t,n,ya(t[n],t))})),t}));function Wu(t){return function(){return t}}var Yu=Si(),Hu=Si(!0);function $u(t){return t}function Vu(t){return Mr("function"==typeof t?t:Ze(t,1))}var Gu=Nr((function(t,n){return function(e){return yr(e,t,n)}})),Xu=Nr((function(t,n){return function(e){return yr(t,e,n)}}));function Zu(t,n,e){var r=xu(n),i=cr(n,r);null!=e||Wa(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=cr(n,xu(n)));var o=!(Wa(e)&&"chain"in e&&!e.chain),a=Ia(t);return fn(i,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,vn([this.value()],arguments))})})),t}function Qu(){}var Ju=ji(dn),Ku=ji(cn),tf=ji(yn);function nf(t){return fo(t)?kn(ko(t)):function(t){return function(n){return lr(n,t)}}(t)}var ef=Bi(),rf=Bi(!0);function of(){return[]}function af(){return!1}var uf=zi((function(t,n){return t+n}),0),ff=Li("ceil"),sf=zi((function(t,n){return t/n}),1),cf=Li("floor");var lf,hf=zi((function(t,n){return t*n}),1),pf=Li("round"),df=zi((function(t,n){return t-n}),0);return Te.after=function(t,n){if("function"!=typeof n)throw new yt(o);return t=ru(t),function(){if(--t<1)return n.apply(this,arguments)}},Te.ary=ma,Te.assign=fu,Te.assignIn=su,Te.assignInWith=cu,Te.assignWith=lu,Te.at=hu,Te.before=ga,Te.bind=ya,Te.bindAll=qu,Te.bindKey=ba,Te.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ba(t)?t:[t]},Te.chain=na,Te.chunk=function(t,n,e){n=(e?uo(t,n,e):void 0===n)?1:ae(ru(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var o=0,a=0,u=r(Kn(i/n));o<i;)u[a++]=Hr(t,o,o+=n);return u},Te.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},Te.concat=function(){var t=arguments.length;if(!t)return[];for(var n=r(t-1),e=arguments[0],i=t;i--;)n[i-1]=arguments[i];return vn(Ba(e)?gi(e):[e],or(n,1))},Te.cond=function(t){var n=null==t?0:t.length,e=Zi();return t=n?dn(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[e(t[0]),t[1]]})):[],Nr((function(e){for(var r=-1;++r<n;){var i=t[r];if(an(i[0],this,e))return an(i[1],this,e)}}))},Te.conforms=function(t){return function(t){var n=xu(t);return function(e){return Qe(e,t,n)}}(Ze(t,1))},Te.constant=Wu,Te.countBy=ia,Te.create=function(t,n){var e=Ce(t);return null==n?e:$e(e,n)},Te.curry=function t(n,e,r){var i=Ri(n,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Te.curryRight=function t(n,e,r){var i=Ri(n,16,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Te.debounce=xa,Te.defaults=pu,Te.defaultsDeep=du,Te.defer=_a,Te.delay=wa,Te.difference=Co,Te.differenceBy=zo,Te.differenceWith=jo,Te.drop=function(t,n,e){var r=null==t?0:t.length;return r?Hr(t,(n=e||void 0===n?1:ru(n))<0?0:n,r):[]},Te.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Hr(t,0,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n):[]},Te.dropRightWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3),!0,!0):[]},Te.dropWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3),!0):[]},Te.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&uo(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=ru(e))<0&&(e=-e>i?0:i+e),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=e>r?0:iu(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},Te.filter=function(t,n){return(Ba(t)?ln:ir)(t,Zi(n,3))},Te.flatMap=function(t,n){return or(ha(t,n),1)},Te.flatMapDeep=function(t,n){return or(ha(t,n),1/0)},Te.flatMapDepth=function(t,n,e){return e=void 0===e?1:ru(e),or(ha(t,n),e)},Te.flatten=Oo,Te.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Te.flattenDepth=function(t,n){return(null==t?0:t.length)?or(t,n=void 0===n?1:ru(n)):[]},Te.flip=function(t){return Ri(t,512)},Te.flow=Yu,Te.flowRight=Hu,Te.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},Te.functions=function(t){return null==t?[]:cr(t,xu(t))},Te.functionsIn=function(t){return null==t?[]:cr(t,_u(t))},Te.groupBy=sa,Te.initial=function(t){return(null==t?0:t.length)?Hr(t,0,-1):[]},Te.intersection=Lo,Te.intersectionBy=Fo,Te.intersectionWith=No,Te.invert=gu,Te.invertBy=yu,Te.invokeMap=ca,Te.iteratee=Vu,Te.keyBy=la,Te.keys=xu,Te.keysIn=_u,Te.map=ha,Te.mapKeys=function(t,n){var e={};return n=Zi(n,3),fr(t,(function(t,r,i){Ve(e,n(t,r,i),t)})),e},Te.mapValues=function(t,n){var e={};return n=Zi(n,3),fr(t,(function(t,r,i){Ve(e,r,n(t,r,i))})),e},Te.matches=function(t){return Tr(Ze(t,1))},Te.matchesProperty=function(t,n){return Cr(t,Ze(n,1))},Te.memoize=Ma,Te.merge=wu,Te.mergeWith=Mu,Te.method=Gu,Te.methodOf=Xu,Te.mixin=Zu,Te.negate=Aa,Te.nthArg=function(t){return t=ru(t),Nr((function(n){return jr(n,t)}))},Te.omit=Au,Te.omitBy=function(t,n){return ku(t,Aa(Zi(n)))},Te.once=function(t){return ga(2,t)},Te.orderBy=function(t,n,e,r){return null==t?[]:(Ba(n)||(n=null==n?[]:[n]),Ba(e=r?void 0:e)||(e=null==e?[]:[e]),Dr(t,n,e))},Te.over=Ju,Te.overArgs=Ea,Te.overEvery=Ku,Te.overSome=tf,Te.partial=ka,Te.partialRight=Sa,Te.partition=pa,Te.pick=Eu,Te.pickBy=ku,Te.property=nf,Te.propertyOf=function(t){return function(n){return null==t?void 0:lr(t,n)}},Te.pull=Io,Te.pullAll=Uo,Te.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Or(t,n,Zi(e,2)):t},Te.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?Or(t,n,void 0,e):t},Te.pullAt=qo,Te.range=ef,Te.rangeRight=rf,Te.rearg=Ta,Te.reject=function(t,n){return(Ba(t)?ln:ir)(t,Aa(Zi(n,3)))},Te.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Zi(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return Pr(t,i),e},Te.rest=function(t,n){if("function"!=typeof t)throw new yt(o);return Nr(t,n=void 0===n?n:ru(n))},Te.reverse=Wo,Te.sampleSize=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),(Ba(t)?Ie:Ir)(t,n)},Te.set=function(t,n,e){return null==t?t:Ur(t,n,e)},Te.setWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:Ur(t,n,e,r)},Te.shuffle=function(t){return(Ba(t)?Ue:Yr)(t)},Te.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&uo(t,n,e)?(n=0,e=r):(n=null==n?0:ru(n),e=void 0===e?r:ru(e)),Hr(t,n,e)):[]},Te.sortBy=da,Te.sortedUniq=function(t){return t&&t.length?Xr(t):[]},Te.sortedUniqBy=function(t,n){return t&&t.length?Xr(t,Zi(n,2)):[]},Te.split=function(t,n,e){return e&&"number"!=typeof e&&uo(t,n,e)&&(n=e=void 0),(e=void 0===e?4294967295:e>>>0)?(t=uu(t))&&("string"==typeof n||null!=n&&!Ga(n))&&!(n=Qr(n))&&In(t)?si(Vn(t),0,e):t.split(n,e):[]},Te.spread=function(t,n){if("function"!=typeof t)throw new yt(o);return n=null==n?0:ae(ru(n),0),Nr((function(e){var r=e[n],i=si(e,0,n);return r&&vn(i,r),an(t,this,i)}))},Te.tail=function(t){var n=null==t?0:t.length;return n?Hr(t,1,n):[]},Te.take=function(t,n,e){return t&&t.length?Hr(t,0,(n=e||void 0===n?1:ru(n))<0?0:n):[]},Te.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Hr(t,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n,r):[]},Te.takeRightWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3),!1,!0):[]},Te.takeWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3)):[]},Te.tap=function(t,n){return n(t),t},Te.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new yt(o);return Wa(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),xa(t,n,{leading:r,maxWait:n,trailing:i})},Te.thru=ea,Te.toArray=nu,Te.toPairs=Su,Te.toPairsIn=Tu,Te.toPath=function(t){return Ba(t)?dn(t,ko):Qa(t)?[t]:gi(Eo(uu(t)))},Te.toPlainObject=au,Te.transform=function(t,n,e){var r=Ba(t),i=r||Fa(t)||Ja(t);if(n=Zi(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Wa(t)&&Ia(o)?Ce(Ht(t)):{}}return(i?fn:fr)(t,(function(t,r,i){return n(e,t,r,i)})),e},Te.unary=function(t){return ma(t,1)},Te.union=Yo,Te.unionBy=Ho,Te.unionWith=$o,Te.uniq=function(t){return t&&t.length?Jr(t):[]},Te.uniqBy=function(t,n){return t&&t.length?Jr(t,Zi(n,2)):[]},Te.uniqWith=function(t,n){return n="function"==typeof n?n:void 0,t&&t.length?Jr(t,void 0,n):[]},Te.unset=function(t,n){return null==t||Kr(t,n)},Te.unzip=Vo,Te.unzipWith=Go,Te.update=function(t,n,e){return null==t?t:ti(t,n,ai(e))},Te.updateWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,n,ai(e),r)},Te.values=Cu,Te.valuesIn=function(t){return null==t?[]:Dn(t,_u(t))},Te.without=Xo,Te.words=Iu,Te.wrap=function(t,n){return ka(ai(n),t)},Te.xor=Zo,Te.xorBy=Qo,Te.xorWith=Jo,Te.zip=Ko,Te.zipObject=function(t,n){return ii(t||[],n||[],We)},Te.zipObjectDeep=function(t,n){return ii(t||[],n||[],Ur)},Te.zipWith=ta,Te.entries=Su,Te.entriesIn=Tu,Te.extend=su,Te.extendWith=cu,Zu(Te,Te),Te.add=uf,Te.attempt=Uu,Te.camelCase=zu,Te.capitalize=ju,Te.ceil=ff,Te.clamp=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=ou(e))==e?e:0),void 0!==n&&(n=(n=ou(n))==n?n:0),Xe(ou(t),n,e)},Te.clone=function(t){return Ze(t,4)},Te.cloneDeep=function(t){return Ze(t,5)},Te.cloneDeepWith=function(t,n){return Ze(t,5,n="function"==typeof n?n:void 0)},Te.cloneWith=function(t,n){return Ze(t,4,n="function"==typeof n?n:void 0)},Te.conformsTo=function(t,n){return null==n||Qe(t,n,xu(n))},Te.deburr=Du,Te.defaultTo=function(t,n){return null==t||t!=t?n:t},Te.divide=sf,Te.endsWith=function(t,n,e){t=uu(t),n=Qr(n);var r=t.length,i=e=void 0===e?r:Xe(ru(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},Te.eq=Ca,Te.escape=function(t){return(t=uu(t))&&R.test(t)?t.replace(F,Nn):t},Te.escapeRegExp=function(t){return(t=uu(t))&&V.test(t)?t.replace($,"\\$&"):t},Te.every=function(t,n,e){var r=Ba(t)?cn:er;return e&&uo(t,n,e)&&(n=void 0),r(t,Zi(n,3))},Te.find=oa,Te.findIndex=Do,Te.findKey=function(t,n){return xn(t,Zi(n,3),fr)},Te.findLast=aa,Te.findLastIndex=Bo,Te.findLastKey=function(t,n){return xn(t,Zi(n,3),sr)},Te.floor=cf,Te.forEach=ua,Te.forEachRight=fa,Te.forIn=function(t,n){return null==t?t:ar(t,Zi(n,3),_u)},Te.forInRight=function(t,n){return null==t?t:ur(t,Zi(n,3),_u)},Te.forOwn=function(t,n){return t&&fr(t,Zi(n,3))},Te.forOwnRight=function(t,n){return t&&sr(t,Zi(n,3))},Te.get=vu,Te.gt=za,Te.gte=ja,Te.has=function(t,n){return null!=t&&ro(t,n,vr)},Te.hasIn=mu,Te.head=Po,Te.identity=$u,Te.includes=function(t,n,e,r){t=Pa(t)?t:Cu(t),e=e&&!r?ru(e):0;var i=t.length;return e<0&&(e=ae(i+e,0)),Za(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&wn(t,n,e)>-1},Te.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),wn(t,n,i)},Te.inRange=function(t,n,e){return n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e){return t>=ue(n,e)&&t<ae(n,e)}(t=ou(t),n,e)},Te.invoke=bu,Te.isArguments=Da,Te.isArray=Ba,Te.isArrayBuffer=Oa,Te.isArrayLike=Pa,Te.isArrayLikeObject=La,Te.isBoolean=function(t){return!0===t||!1===t||Ya(t)&&pr(t)==c},Te.isBuffer=Fa,Te.isDate=Na,Te.isElement=function(t){return Ya(t)&&1===t.nodeType&&!Va(t)},Te.isEmpty=function(t){if(null==t)return!0;if(Pa(t)&&(Ba(t)||"string"==typeof t||"function"==typeof t.splice||Fa(t)||Ja(t)||Da(t)))return!t.length;var n=eo(t);if(n==v||n==b)return!t.size;if(lo(t))return!Ar(t).length;for(var e in t)if(At.call(t,e))return!1;return!0},Te.isEqual=function(t,n){return xr(t,n)},Te.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:void 0)?e(t,n):void 0;return void 0===r?xr(t,n,void 0,e):!!r},Te.isError=Ra,Te.isFinite=function(t){return"number"==typeof t&&re(t)},Te.isFunction=Ia,Te.isInteger=Ua,Te.isLength=qa,Te.isMap=Ha,Te.isMatch=function(t,n){return t===n||_r(t,n,Ji(n))},Te.isMatchWith=function(t,n,e){return e="function"==typeof e?e:void 0,_r(t,n,Ji(n),e)},Te.isNaN=function(t){return $a(t)&&t!=+t},Te.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},Te.isNil=function(t){return null==t},Te.isNull=function(t){return null===t},Te.isNumber=$a,Te.isObject=Wa,Te.isObjectLike=Ya,Te.isPlainObject=Va,Te.isRegExp=Ga,Te.isSafeInteger=function(t){return Ua(t)&&t>=-9007199254740991&&t<=9007199254740991},Te.isSet=Xa,Te.isString=Za,Te.isSymbol=Qa,Te.isTypedArray=Ja,Te.isUndefined=function(t){return void 0===t},Te.isWeakMap=function(t){return Ya(t)&&eo(t)==w},Te.isWeakSet=function(t){return Ya(t)&&"[object WeakSet]"==pr(t)},Te.join=function(t,n){return null==t?"":ie.call(t,n)},Te.kebabCase=Bu,Te.last=Ro,Te.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==e&&(i=(i=ru(e))<0?ae(r+i,0):ue(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):_n(t,An,i,!0)},Te.lowerCase=Ou,Te.lowerFirst=Pu,Te.lt=Ka,Te.lte=tu,Te.max=function(t){return t&&t.length?rr(t,$u,dr):void 0},Te.maxBy=function(t,n){return t&&t.length?rr(t,Zi(n,2),dr):void 0},Te.mean=function(t){return En(t,$u)},Te.meanBy=function(t,n){return En(t,Zi(n,2))},Te.min=function(t){return t&&t.length?rr(t,$u,kr):void 0},Te.minBy=function(t,n){return t&&t.length?rr(t,Zi(n,2),kr):void 0},Te.stubArray=of,Te.stubFalse=af,Te.stubObject=function(){return{}},Te.stubString=function(){return""},Te.stubTrue=function(){return!0},Te.multiply=hf,Te.nth=function(t,n){return t&&t.length?jr(t,ru(n)):void 0},Te.noConflict=function(){return Vt._===this&&(Vt._=Ct),this},Te.noop=Qu,Te.now=va,Te.pad=function(t,n,e){t=uu(t);var r=(n=ru(n))?$n(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return Di(te(i),e)+t+Di(Kn(i),e)},Te.padEnd=function(t,n,e){t=uu(t);var r=(n=ru(n))?$n(t):0;return n&&r<n?t+Di(n-r,e):t},Te.padStart=function(t,n,e){t=uu(t);var r=(n=ru(n))?$n(t):0;return n&&r<n?Di(n-r,e)+t:t},Te.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),se(uu(t).replace(X,""),n||0)},Te.random=function(t,n,e){if(e&&"boolean"!=typeof e&&uo(t,n,e)&&(n=e=void 0),void 0===e&&("boolean"==typeof n?(e=n,n=void 0):"boolean"==typeof t&&(e=t,t=void 0)),void 0===t&&void 0===n?(t=0,n=1):(t=eu(t),void 0===n?(n=t,t=0):n=eu(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=ce();return ue(t+i*(n-t+Wt("1e-"+((i+"").length-1))),n)}return Lr(t,n)},Te.reduce=function(t,n,e){var r=Ba(t)?mn:Tn,i=arguments.length<3;return r(t,Zi(n,4),e,i,tr)},Te.reduceRight=function(t,n,e){var r=Ba(t)?gn:Tn,i=arguments.length<3;return r(t,Zi(n,4),e,i,nr)},Te.repeat=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),Fr(uu(t),n)},Te.replace=function(){var t=arguments,n=uu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Te.result=function(t,n,e){var r=-1,i=(n=ui(n,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[ko(n[r])];void 0===o&&(r=i,o=e),t=Ia(o)?o.call(t):o}return t},Te.round=pf,Te.runInContext=t,Te.sample=function(t){return(Ba(t)?Re:Rr)(t)},Te.size=function(t){if(null==t)return 0;if(Pa(t))return Za(t)?$n(t):t.length;var n=eo(t);return n==v||n==b?t.size:Ar(t).length},Te.snakeCase=Lu,Te.some=function(t,n,e){var r=Ba(t)?yn:$r;return e&&uo(t,n,e)&&(n=void 0),r(t,Zi(n,3))},Te.sortedIndex=function(t,n){return Vr(t,n)},Te.sortedIndexBy=function(t,n,e){return Gr(t,n,Zi(e,2))},Te.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Vr(t,n);if(r<e&&Ca(t[r],n))return r}return-1},Te.sortedLastIndex=function(t,n){return Vr(t,n,!0)},Te.sortedLastIndexBy=function(t,n,e){return Gr(t,n,Zi(e,2),!0)},Te.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=Vr(t,n,!0)-1;if(Ca(t[e],n))return e}return-1},Te.startCase=Fu,Te.startsWith=function(t,n,e){return t=uu(t),e=null==e?0:Xe(ru(e),0,t.length),n=Qr(n),t.slice(e,e+n.length)==n},Te.subtract=df,Te.sum=function(t){return t&&t.length?Cn(t,$u):0},Te.sumBy=function(t,n){return t&&t.length?Cn(t,Zi(n,2)):0},Te.template=function(t,n,e){var r=Te.templateSettings;e&&uo(t,n,e)&&(n=void 0),t=uu(t),n=cu({},n,r,Ii);var i,o,a=cu({},n.imports,r.imports,Ii),u=xu(a),f=Dn(a,u),s=0,c=n.interpolate||ct,l="__p += '",h=mt((n.escape||ct).source+"|"+c.source+"|"+(c===q?et:ct).source+"|"+(n.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Rt+"]")+"\n";t.replace(h,(function(n,e,r,a,u,f){return r||(r=a),l+=t.slice(s,f).replace(lt,Rn),e&&(i=!0,l+="' +\n__e("+e+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=f+n.length,n})),l+="';\n";var d=At.call(n,"variable")&&n.variable;d||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(B,""):l).replace(O,"$1").replace(P,"$1;"),l="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Uu((function(){return pt(u,p+"return "+l).apply(void 0,f)}));if(v.source=l,Ra(v))throw v;return v},Te.times=function(t,n){if((t=ru(t))<1||t>9007199254740991)return[];var e=4294967295,r=ue(t,4294967295);t-=4294967295;for(var i=zn(r,n=Zi(n));++e<t;)n(e);return i},Te.toFinite=eu,Te.toInteger=ru,Te.toLength=iu,Te.toLower=function(t){return uu(t).toLowerCase()},Te.toNumber=ou,Te.toSafeInteger=function(t){return t?Xe(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Te.toString=uu,Te.toUpper=function(t){return uu(t).toUpperCase()},Te.trim=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(G,"");if(!t||!(n=Qr(n)))return t;var r=Vn(t),i=Vn(n);return si(r,On(r,i),Pn(r,i)+1).join("")},Te.trimEnd=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(Z,"");if(!t||!(n=Qr(n)))return t;var r=Vn(t);return si(r,0,Pn(r,Vn(n))+1).join("")},Te.trimStart=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(X,"");if(!t||!(n=Qr(n)))return t;var r=Vn(t);return si(r,On(r,Vn(n))).join("")},Te.truncate=function(t,n){var e=30,r="...";if(Wa(n)){var i="separator"in n?n.separator:i;e="length"in n?ru(n.length):e,r="omission"in n?Qr(n.omission):r}var o=(t=uu(t)).length;if(In(t)){var a=Vn(t);o=a.length}if(e>=o)return t;var u=e-$n(r);if(u<1)return r;var f=a?si(a,0,u).join(""):t.slice(0,u);if(void 0===i)return f+r;if(a&&(u+=f.length-u),Ga(i)){if(t.slice(u).search(i)){var s,c=f;for(i.global||(i=mt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;s=i.exec(c);)var l=s.index;f=f.slice(0,void 0===l?u:l)}}else if(t.indexOf(Qr(i),u)!=u){var h=f.lastIndexOf(i);h>-1&&(f=f.slice(0,h))}return f+r},Te.unescape=function(t){return(t=uu(t))&&N.test(t)?t.replace(L,Gn):t},Te.uniqueId=function(t){var n=++Et;return uu(t)+n},Te.upperCase=Nu,Te.upperFirst=Ru,Te.each=ua,Te.eachRight=fa,Te.first=Po,Zu(Te,(lf={},fr(Te,(function(t,n){At.call(Te.prototype,n)||(lf[n]=t)})),lf),{chain:!1}),Te.VERSION="4.17.15",fn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Te[t].placeholder=Te})),fn(["drop","take"],(function(t,n){De.prototype[t]=function(e){e=void 0===e?1:ae(ru(e),0);var r=this.__filtered__&&!n?new De(this):this.clone();return r.__filtered__?r.__takeCount__=ue(e,r.__takeCount__):r.__views__.push({size:ue(e,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},De.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),fn(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;De.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Zi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),fn(["head","last"],(function(t,n){var e="take"+(n?"Right":"");De.prototype[t]=function(){return this[e](1).value()[0]}})),fn(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");De.prototype[t]=function(){return this.__filtered__?new De(this):this[e](1)}})),De.prototype.compact=function(){return this.filter($u)},De.prototype.find=function(t){return this.filter(t).head()},De.prototype.findLast=function(t){return this.reverse().find(t)},De.prototype.invokeMap=Nr((function(t,n){return"function"==typeof t?new De(this):this.map((function(e){return yr(e,t,n)}))})),De.prototype.reject=function(t){return this.filter(Aa(Zi(t)))},De.prototype.slice=function(t,n){t=ru(t);var e=this;return e.__filtered__&&(t>0||n<0)?new De(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),void 0!==n&&(e=(n=ru(n))<0?e.dropRight(-n):e.take(n-t)),e)},De.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},De.prototype.toArray=function(){return this.take(4294967295)},fr(De.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=Te[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);i&&(Te.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,u=n instanceof De,f=a[0],s=u||Ba(n),c=function(t){var n=i.apply(Te,vn([t],a));return r&&l?n[0]:n};s&&e&&"function"==typeof f&&1!=f.length&&(u=s=!1);var l=this.__chain__,h=!!this.__actions__.length,p=o&&!l,d=u&&!h;if(!o&&s){n=d?n:new De(this);var v=t.apply(n,a);return v.__actions__.push({func:ea,args:[c],thisArg:void 0}),new je(v,l)}return p&&d?t.apply(this,a):(v=this.thru(c),p?r?v.value()[0]:v.value():v)})})),fn(["pop","push","shift","sort","splice","unshift"],(function(t){var n=bt[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Te.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Ba(i)?i:[],t)}return this[e]((function(e){return n.apply(Ba(e)?e:[],t)}))}})),fr(De.prototype,(function(t,n){var e=Te[n];if(e){var r=e.name+"";At.call(be,r)||(be[r]=[]),be[r].push({name:n,func:e})}})),be[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],De.prototype.clone=function(){var t=new De(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},De.prototype.reverse=function(){if(this.__filtered__){var t=new De(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},De.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Ba(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=ue(n,t+a);break;case"takeRight":t=ae(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,f=u-a,s=r?u:a-1,c=this.__iteratees__,l=c.length,h=0,p=ue(f,this.__takeCount__);if(!e||!r&&i==f&&p==f)return ei(t,this.__actions__);var d=[];t:for(;f--&&h<p;){for(var v=-1,m=t[s+=n];++v<l;){var g=c[v],y=g.iteratee,b=g.type,x=y(m);if(2==b)m=x;else if(!x){if(1==b)continue t;break t}}d[h++]=m}return d},Te.prototype.at=ra,Te.prototype.chain=function(){return na(this)},Te.prototype.commit=function(){return new je(this.value(),this.__chain__)},Te.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Te.prototype.plant=function(t){for(var n,e=this;e instanceof ze;){var r=To(e);r.__index__=0,r.__values__=void 0,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},Te.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof De){var n=t;return this.__actions__.length&&(n=new De(this)),(n=n.reverse()).__actions__.push({func:ea,args:[Wo],thisArg:void 0}),new je(n,this.__chain__)}return this.thru(Wo)},Te.prototype.toJSON=Te.prototype.valueOf=Te.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Te.prototype.first=Te.prototype.head,Jt&&(Te.prototype[Jt]=function(){return this}),Te}();Vt._=Xn,void 0===(i=function(){return Xn}.call(n,e,n,r))||(r.exports=i)}).call(this)}).call(this,e(73),e(74)(t))},42:function(t,n,e){!function(){"use strict";var n=Math.abs,r=Math.min,i=Math.max,o=Math.cos,a=Math.sin,u=Math.acos,f=Math.sqrt,s=Math.PI,c={x:0,y:0,z:0},l=e(43),h=e(76),p=function(t){var e=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"==typeof e[0]){r=e.length;var i=[];e.forEach((function(t){["x","y","z"].forEach((function(n){void 0!==t[n]&&i.push(t[n])}))})),e=i}var o=!1,a=e.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var u=!o&&(9===a||12===a)||t&&t[0]&&void 0!==t[0].z;this._3d=u;for(var f=[],s=0,c=u?3:2;s<a;s+=c){var h={x:e[s],y:e[s+1]};u&&(h.z=e[s+2]),f.push(h)}this.order=f.length-1,this.points=f;var p=["x","y"];u&&p.push("z"),this.dims=p,this.dimlen=p.length,function(t){for(var e=t.order,r=t.points,i=l.align(r,{p1:r[0],p2:r[e]}),o=0;o<i.length;o++)if(n(i[o].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()},d=e(77);function v(t,n,e,r,i){void 0===i&&(i=.5);var o=l.projectionratio(i,t),a=1-o,u={x:o*n.x+a*r.x,y:o*n.y+a*r.y},f=l.abcratio(i,t);return{A:{x:e.x+(e.x-u.x)/f,y:e.y+(e.y-u.y)/f},B:e,C:u}}p.SVGtoBeziers=function(t){return d(p,t)},p.quadraticFromPoints=function(t,n,e,r){if(void 0===r&&(r=.5),0===r)return new p(n,n,e);if(1===r)return new p(t,n,n);var i=v(2,t,n,e,r);return new p(t,i.A,e)},p.cubicFromPoints=function(t,n,e,r,i){void 0===r&&(r=.5);var o=v(3,t,n,e,r);void 0===i&&(i=l.dist(n,o.C));var a=i*(1-r)/r,u=l.dist(t,e),f=(e.x-t.x)/u,s=(e.y-t.y)/u,c=i*f,h=i*s,d=a*f,m=a*s,g=n.x-c,y=n.y-h,b=n.x+d,x=n.y+m,_=o.A,w=_.x+(g-_.x)/(1-r),M=_.y+(y-_.y)/(1-r),A=_.x+(b-_.x)/r,E=_.y+(x-_.y)/r,k={x:t.x+(w-t.x)/r,y:t.y+(M-t.y)/r},S={x:e.x+(A-e.x)/(1-r),y:e.y+(E-e.y)/(1-r)};return new p(t,k,S,e)};var m=function(){return l};p.getUtils=m,p.PolyBezier=h,p.prototype={getUtils:m,valueOf:function(){return this.toString()},toString:function(){return l.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var n=this.points,e=["M",n[0].x,n[0].y,2===this.order?"Q":"C"],r=1,i=n.length;r<i;r++)e.push(n[r].x),e.push(n[r].y);return e.join(" ")},setRatios:function(t){if(t.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=t,this._lut=[]},verify:function(){var t=this.coordDigest();t!==this._print&&(this._print=t,this.update())},coordDigest:function(){return this.points.map((function(t,n){return""+n+t.x+t.y+(t.z?t.z:0)})).join("")},update:function(t){this._lut=[],this.dpoints=l.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,n=l.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return l.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(this.verify(),t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var n=0;n<=t;n++)this._lut.push(this.compute(n/t));return this._lut},on:function(t,n){n=n||5;for(var e,r=this.getLUT(),i=[],o=0,a=0;a<r.length;a++)e=r[a],l.dist(e,t)<n&&(i.push(e),o+=a/r.length);return!!i.length&&o/i.length},project:function(t){var n,e,r,i,o=this.getLUT(),a=o.length-1,u=l.closest(o,t),f=u.mdist,s=u.mpos,c=(s+1)/a,h=.1/a;for(f+=1,n=e=(s-1)/a;e<c+h;e+=h)r=this.compute(e),(i=l.dist(t,r))<f&&(f=i,n=e);return(r=this.compute(n)).t=n,r.d=f,r},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return this.ratios?l.computeWithRatios(t,this.points,this.ratios,this._3d):l.compute(t,this.points,this._3d,this.ratios)},raise:function(){for(var t,n,e=this.points,r=[e[0]],i=e.length,o=1;o<i;o++)t=e[o],n=e[o-1],r[o]={x:(i-o)/i*t.x+o/i*n.x,y:(i-o)/i*t.y+o/i*n.y};return r[i]=e[i-1],new p(r)},derivative:function(t){var n,e,r=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],c],n=r,e=t),3===this.order&&(n=r*r,e=r*t*2,i=t*t);var a={x:n*o[0].x+e*o[1].x+i*o[2].x,y:n*o[0].y+e*o[1].y+i*o[2].y};return this._3d&&(a.z=n*o[0].z+e*o[1].z+i*o[2].z),a},curvature:function(t){return l.curvature(t,this.points,this._3d)},inflections:function(){return l.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var n=this.derivative(t),e=f(n.x*n.x+n.y*n.y);return{x:-n.y/e,y:n.x/e}},__normal3:function(t){var n=this.derivative(t),e=this.derivative(t+.01),r=f(n.x*n.x+n.y*n.y+n.z*n.z),i=f(e.x*e.x+e.y*e.y+e.z*e.z);n.x/=r,n.y/=r,n.z/=r,e.x/=i,e.y/=i,e.z/=i;var o={x:e.y*n.z-e.z*n.y,y:e.z*n.x-e.x*n.z,z:e.x*n.y-e.y*n.x},a=f(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}},hull:function(t){var n,e=this.points,r=[],i=[],o=0,a=0,u=0;for(i[o++]=e[0],i[o++]=e[1],i[o++]=e[2],3===this.order&&(i[o++]=e[3]);e.length>1;){for(r=[],a=0,u=e.length-1;a<u;a++)n=l.lerp(t,e[a],e[a+1]),i[o++]=n,r.push(n);e=r}return i},split:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var e=this.hull(t),r={left:2===this.order?new p([e[0],e[3],e[5]]):new p([e[0],e[4],e[7],e[9]]),right:2===this.order?new p([e[5],e[4],e[2]]):new p([e[9],e[8],e[6],e[3]]),span:e};return r.left._t1=l.map(0,0,1,this._t1,this._t2),r.left._t2=l.map(t,0,1,this._t1,this._t2),r.right._t1=l.map(t,0,1,this._t1,this._t2),r.right._t2=l.map(1,0,1,this._t1,this._t2),n?(n=l.map(n,t,1,0,1),r.right.split(n).left):r},extrema:function(){var t,n,e=this.dims,r={},i=[];return e.forEach(function(e){n=function(t){return t[e]},t=this.dpoints[0].map(n),r[e]=l.droots(t),3===this.order&&(t=this.dpoints[1].map(n),r[e]=r[e].concat(l.droots(t))),r[e]=r[e].filter((function(t){return t>=0&&t<=1})),i=i.concat(r[e].sort(l.numberSort))}.bind(this)),i=i.sort(l.numberSort).filter((function(t,n){return i.indexOf(t)===n})),r.values=i,r},bbox:function(){var t=this.extrema(),n={};return this.dims.forEach(function(e){n[e]=l.getminmax(this,e,t[e])}.bind(this)),n},overlaps:function(t){var n=this.bbox(),e=t.bbox();return l.bboxoverlap(n,e)},offset:function(t,n){if(void 0!==n){var e=this.get(t),r=this.normal(t),i={c:e,n:r,x:e.x+r.x*n,y:e.y+r.y*n};return this._3d&&(i.z=e.z+r.z*n),i}if(this._linear){var o=this.normal(0),a=this.points.map((function(n){var e={x:n.x+t*o.x,y:n.y+t*o.y};return n.z&&r.z&&(e.z=n.z+t*o.z),e}));return[new p(a)]}return this.reduce().map((function(n){return n._linear?n.offset(t)[0]:n.scale(t)}))},simple:function(){if(3===this.order){var t=l.angle(this.points[0],this.points[3],this.points[1]),e=l.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var r=this.normal(0),i=this.normal(1),o=r.x*i.x+r.y*i.y;return this._3d&&(o+=r.z*i.z),n(u(o))<s/3},reduce:function(){var t,e,r=0,i=0,o=[],a=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),r=u[0],t=1;t<u.length;t++)i=u[t],(e=this.split(r,i))._t1=r,e._t2=i,o.push(e),r=i;return o.forEach((function(t){for(r=0,i=0;i<=1;)for(i=r+.01;i<=1.01;i+=.01)if(!(e=t.split(r,i)).simple()){if(n(r-(i-=.01))<.01)return[];(e=t.split(r,i))._t1=l.map(r,0,1,t._t1,t._t2),e._t2=l.map(i,0,1,t._t1,t._t2),a.push(e),r=i;break}r<1&&((e=t.split(r,1))._t1=l.map(r,0,1,t._t1,t._t2),e._t2=t._t2,a.push(e))})),a},scale:function(t){var n=this.order,e=!1;if("function"==typeof t&&(e=t),e&&2===n)return this.raise().scale(e);var r=this.clockwise,i=e?e(0):t,o=e?e(1):t,a=[this.offset(0,10),this.offset(1,10)],u=l.lli4(a[0],a[0].c,a[1],a[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");var s=this.points,c=[];return[0,1].forEach(function(t){var e=c[t*n]=l.copy(s[t*n]);e.x+=(t?o:i)*a[t].n.x,e.y+=(t?o:i)*a[t].n.y}.bind(this)),e?([0,1].forEach(function(i){if(2!==this.order||!i){var o=s[i+1],a={x:o.x-u.x,y:o.y-u.y},l=e?e((i+1)/n):t;e&&!r&&(l=-l);var h=f(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,c[i+1]={x:o.x+l*a.x,y:o.y+l*a.y}}}.bind(this)),new p(c)):([0,1].forEach(function(t){if(2!==this.order||!t){var e=c[t*n],r=this.derivative(t),i={x:e.x+r.x,y:e.y+r.y};c[t+1]=l.lli4(e,i,u,s[t+1])}}.bind(this)),new p(c))},outline:function(t,n,e,r){n=void 0===n?t:n;var i,o=this.reduce(),a=o.length,u=[],f=[],s=0,c=this.length(),p=void 0!==e&&void 0!==r;function d(t,n,e,r,i){return function(o){var a=r/e,u=(r+i)/e,f=n-t;return l.map(o,0,1,t+a*f,t+u*f)}}o.forEach((function(i){w=i.length(),p?(u.push(i.scale(d(t,e,c,s,w))),f.push(i.scale(d(-n,-r,c,s,w)))):(u.push(i.scale(t)),f.push(i.scale(-n))),s+=w})),f=f.map((function(t){return(i=t.points)[3]?t.points=[i[3],i[2],i[1],i[0]]:t.points=[i[2],i[1],i[0]],t})).reverse();var v=u[0].points[0],m=u[a-1].points[u[a-1].points.length-1],g=f[a-1].points[f[a-1].points.length-1],y=f[0].points[0],b=l.makeline(g,v),x=l.makeline(m,y),_=[b].concat(u).concat([x]).concat(f),w=_.length;return new h(_)},outlineshapes:function(t,n,e){n=n||t;for(var r=this.outline(t,n).curves,i=[],o=1,a=r.length;o<a/2;o++){var u=l.makeshape(r[o],r[a-o],e);u.startcap.virtual=o>1,u.endcap.virtual=o<a/2-1,i.push(u)}return i},intersects:function(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof p&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)},lineIntersects:function(t){var n=r(t.p1.x,t.p2.x),e=r(t.p1.y,t.p2.y),o=i(t.p1.x,t.p2.x),a=i(t.p1.y,t.p2.y),u=this;return l.roots(this.points,t).filter((function(t){var r=u.get(t);return l.between(r.x,n,o)&&l.between(r.y,e,a)}))},selfintersects:function(t){var n,e,r,i,o=this.reduce(),a=o.length-2,u=[];for(n=0;n<a;n++)r=o.slice(n,n+1),i=o.slice(n+2),e=this.curveintersects(r,i,t),u=u.concat(e);return u},curveintersects:function(t,n,e){var r=[];t.forEach((function(t){n.forEach((function(n){t.overlaps(n)&&r.push({left:t,right:n})}))}));var i=[];return r.forEach((function(t){var n=l.pairiteration(t.left,t.right,e);n.length>0&&(i=i.concat(n))})),i},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,e,r,i){var o=(i-r)/4,a=this.get(r+o),u=this.get(i-o),f=l.dist(t,e),s=l.dist(t,a),c=l.dist(t,u);return n(s-f)+n(c-f)},_iterate:function(t,n){var e,r=0,i=1;do{e=0,i=1;var u,f,s,c,h,p=this.get(r),d=!1,v=!1,m=i,g=1;do{if(v=d,c=s,m=(r+i)/2,u=this.get(m),f=this.get(i),(s=l.getccenter(p,u,f)).interval={start:r,end:i},d=this._error(s,p,r,i)<=t,(h=v&&!d)||(g=i),d){if(i>=1){if(s.interval.end=g=1,c=s,i>1){var y={x:s.x+s.r*o(s.e),y:s.y+s.r*a(s.e)};s.e+=l.angle({x:s.x,y:s.y},y,this.get(1))}break}i+=(i-r)/2}else i=m}while(!h&&e++<100);if(e>=100)break;c=c||s,n.push(c),r=g}while(i<1);return n}},t.exports=p}()},43:function(t,n,e){!function(){"use strict";var n=Math.abs,r=Math.cos,i=Math.sin,o=Math.acos,a=Math.atan2,u=Math.sqrt,f=Math.pow,s=function(t){return t<0?-f(-t,1/3):f(t,1/3)},c=Math.PI,l=2*c,h=c/2,p=Number.MAX_SAFE_INTEGER||9007199254740991,d=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},m={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n){var e=n(t),r=e.x*e.x+e.y*e.y;return void 0!==e.z&&(r+=e.z*e.z),u(r)},compute:function(t,n,e){if(0===t)return n[0];var r=n.length-1;if(1===t)return n[r];var i=n,o=1-t;if(0===r)return n[0];if(1===r)return h={x:o*i[0].x+t*i[1].x,y:o*i[0].y+t*i[1].y},e&&(h.z=o*i[0].z+t*i[1].z),h;if(r<4){var a,u,f,s=o*o,c=t*t,l=0;2===r?(i=[i[0],i[1],i[2],v],a=s,u=o*t*2,f=c):3===r&&(a=s*o,u=s*t*3,f=o*c*3,l=t*c);var h={x:a*i[0].x+u*i[1].x+f*i[2].x+l*i[3].x,y:a*i[0].y+u*i[1].y+f*i[2].y+l*i[3].y};return e&&(h.z=a*i[0].z+u*i[1].z+f*i[2].z+l*i[3].z),h}for(var p=JSON.parse(JSON.stringify(n));p.length>1;){for(var d=0;d<p.length-1;d++)p[d]={x:p[d].x+(p[d+1].x-p[d].x)*t,y:p[d].y+(p[d+1].y-p[d].y)*t},void 0!==p[d].z&&(p[d]=p[d].z+(p[d+1].z-p[d].z)*t);p.splice(p.length-1,1)}return p[0]},computeWithRatios:function(t,n,e,r){var i,o=1-t,a=e,u=n,f=a[0],s=a[1],c=a[2],l=a[3];return f*=o,s*=t,2===u.length?(i=f+s,{x:(f*u[0].x+s*u[1].x)/i,y:(f*u[0].y+s*u[1].y)/i,z:!!r&&(f*u[0].z+s*u[1].z)/i}):(f*=o,s*=2*o,c*=t*t,3===u.length?(i=f+s+c,{x:(f*u[0].x+s*u[1].x+c*u[2].x)/i,y:(f*u[0].y+s*u[1].y+c*u[2].y)/i,z:!!r&&(f*u[0].z+s*u[1].z+c*u[2].z)/i}):(f*=o,s*=1.5*o,c*=3*o,l*=t*t*t,4===u.length?(i=f+s+c+l,{x:(f*u[0].x+s*u[1].x+c*u[2].x+l*u[3].x)/i,y:(f*u[0].y+s*u[1].y+c*u[2].y+l*u[3].y)/i,z:!!r&&(f*u[0].z+s*u[1].z+c*u[2].z+l*u[3].z)/i}):void 0))},derive:function(t,n){for(var e=[],r=t,i=r.length,o=i-1;i>1;i--,o--){for(var a,u=[],f=0;f<o;f++)a={x:o*(r[f+1].x-r[f].x),y:o*(r[f+1].y-r[f].y)},n&&(a.z=o*(r[f+1].z-r[f].z)),u.push(a);e.push(u),r=u}return e},between:function(t,n,e){return n<=t&&t<=e||m.approximately(t,n)||m.approximately(t,e)},approximately:function(t,e,r){return n(t-e)<=(r||1e-6)},length:function(t){var n,e,r=0,i=m.Tvalues.length;for(n=0;n<i;n++)e=.5*m.Tvalues[n]+.5,r+=m.Cvalues[n]*m.arcfn(e,t);return.5*r},map:function(t,n,e,r,i){return r+(i-r)*((t-n)/(e-n))},lerp:function(t,n,e){var r={x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)};return n.z&&e.z&&(r.z=n.z+t*(e.z-n.z)),r},pointToString:function(t){var n=t.x+"/"+t.y;return void 0!==t.z&&(n+="/"+t.z),n},pointsToString:function(t){return"["+t.map(m.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,e){var r=n.x-t.x,i=n.y-t.y,o=e.x-t.x,u=e.y-t.y;return a(r*u-i*o,r*o+i*u)},round:function(t,n){var e=""+t,r=e.indexOf(".");return parseFloat(e.substring(0,r+1+n))},dist:function(t,n){var e=t.x-n.x,r=t.y-n.y;return u(e*e+r*r)},closest:function(t,n){var e,r,i=f(2,63);return t.forEach((function(t,o){(r=m.dist(n,t))<i&&(i=r,e=o)})),{mdist:i,mpos:e}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var r=f(t,e)+f(1-t,e);return n((r-1)/r)},projectionratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var e=f(1-t,n);return e/(f(t,n)+e)},lli8:function(t,n,e,r,i,o,a,u){var f=(t-e)*(o-u)-(n-r)*(i-a);return 0!=f&&{x:((t*r-n*e)*(i-a)-(t-e)*(i*u-o*a))/f,y:((t*r-n*e)*(o-u)-(n-r)*(i*u-o*a))/f}},lli4:function(t,n,e,r){var i=t.x,o=t.y,a=n.x,u=n.y,f=e.x,s=e.y,c=r.x,l=r.y;return m.lli8(i,o,a,u,f,s,c,l)},lli:function(t,n){return m.lli4(t,t.c,n,n.c)},makeline:function(t,n){var r=e(42),i=t.x,o=t.y,a=n.x,u=n.y,f=(a-i)/3,s=(u-o)/3;return new r(i,o,i+f,o+s,i+2*f,o+2*s,a,u)},findbbox:function(t){var n=p,e=p,r=d,i=d;return t.forEach((function(t){var o=t.bbox();n>o.x.min&&(n=o.x.min),e>o.y.min&&(e=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:n,mid:(n+r)/2,max:r,size:r-n},y:{min:e,mid:(e+i)/2,max:i,size:i-e}}},shapeintersections:function(t,n,e,r,i){if(!m.bboxoverlap(n,r))return[];var o=[],a=[t.startcap,t.forward,t.back,t.endcap],u=[e.startcap,e.forward,e.back,e.endcap];return a.forEach((function(n){n.virtual||u.forEach((function(r){if(!r.virtual){var a=n.intersects(r,i);a.length>0&&(a.c1=n,a.c2=r,a.s1=t,a.s2=e,o.push(a))}}))})),o},makeshape:function(t,n,e){var r=n.points.length,i=t.points.length,o=m.makeline(n.points[r-1],t.points[0]),a=m.makeline(t.points[i-1],n.points[0]),u={startcap:o,forward:t,back:n,endcap:a,bbox:m.findbbox([o,t,n,a])},f=m;return u.intersections=function(t){return f.shapeintersections(u,u.bbox,t,t.bbox,e)},u},getminmax:function(t,n,e){if(!e)return{min:0,max:0};var r,i,o=p,a=d;-1===e.indexOf(0)&&(e=[0].concat(e)),-1===e.indexOf(1)&&e.push(1);for(var u=0,f=e.length;u<f;u++)r=e[u],(i=t.get(r))[n]<o&&(o=i[n]),i[n]>a&&(a=i[n]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(t,n){var e=n.p1.x,o=n.p1.y,u=-a(n.p2.y-o,n.p2.x-e);return t.map((function(t){return{x:(t.x-e)*r(u)-(t.y-o)*i(u),y:(t.x-e)*i(u)+(t.y-o)*r(u)}}))},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};var e=t.length-1,i=m.align(t,n),a=function(t){return 0<=t&&t<=1};if(2===e){if(0!==(v=(g=i[0].y)-2*(y=i[1].y)+(b=i[2].y))){var f=-u(y*y-g*b),c=-g+y;return[-(f+c)/v,-(-f+c)/v].filter(a)}return y!==b&&0===v?[(2*y-b)/(2*y-2*b)].filter(a):[]}var h=i[0].y,p=i[1].y,d=i[2].y,v=3*p-h-3*d+i[3].y,g=3*h-6*p+3*d,y=-3*h+3*p,b=h;if(m.approximately(v,0)){if(m.approximately(g,0))return m.approximately(y,0)?[]:[-b/y].filter(a);var x=2*g;return[((_=u(y*y-4*g*b))-y)/x,(-y-_)/x].filter(a)}var _,w,M=(i=(3*(y/=v)-(g/=v)*g)/3)/3,A=(_=(2*g*g*g-9*g*y+27*(b/=v))/27)/2,E=A*A+M*M*M;if(E<0){var k=-i/3,S=u(k*k*k),T=-_/(2*S),C=o(T<-1?-1:T>1?1:T),z=2*s(S);return[z*r(C/3)-g/3,z*r((C+l)/3)-g/3,z*r((C+2*l)/3)-g/3].filter(a)}if(0===E)return[2*(w=A<0?s(-A):-s(A))-g/3,-w-g/3].filter(a);var j=u(E);return[(w=s(-A+j))-s(A+j)-g/3].filter(a)},droots:function(t){if(3===t.length){var n=t[0],e=t[1],r=t[2],i=n-2*e+r;if(0!==i){var o=-u(e*e-n*r),a=-n+e;return[-(o+a)/i,-(-o+a)/i]}return e!==r&&0===i?[(2*e-r)/(2*(e-r))]:[]}if(2===t.length)return(n=t[0])!==(e=t[1])?[n/(n-e)]:[]},curvature:function(t,e,r,i){var o,a,s,c,l,h,p=m.derive(e),d=p[0],v=p[1],g=m.compute(t,d),y=m.compute(t,v),b=g.x*g.x+g.y*g.y;if(r?(o=u(f(g.y*y.z-y.y*g.z,2)+f(g.z*y.x-y.z*g.x,2)+f(g.x*y.y-y.x*g.y,2)),a=f(b+g.z*g.z,1.5)):(o=g.x*y.y-g.y*y.x,a=f(b,1.5)),0===o||0===a)return{k:0,r:0};if(l=o/a,h=a/o,!i){var x=m.curvature(t-.001,e,r,!0).k,_=m.curvature(t+.001,e,r,!0).k;c=(_-l+(l-x))/2,s=(n(_-l)+n(l-x))/2}return{k:l,r:h,dk:c,adk:s}},inflections:function(t){if(t.length<4)return[];var n=m.align(t,{p1:t[0],p2:t.slice(-1)[0]}),e=n[2].x*n[1].y,r=n[3].x*n[1].y,i=n[1].x*n[2].y,o=18*(-3*e+2*r+3*i-(l=n[3].x*n[2].y)),a=18*(3*e-r-3*i),u=18*(i-e);if(m.approximately(o,0)){if(!m.approximately(a,0)){var f=-u/a;if(0<=f&&f<=1)return[f]}return[]}var s=a*a-4*o*u,c=Math.sqrt(s),l=2*o;return m.approximately(l,0)?[]:[(c-a)/l,-(a+c)/l].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,e){var r,i,o,a,u,f=["x","y"],s=f.length;for(r=0;r<s;r++)if(o=t[i=f[r]].mid,a=e[i].mid,u=(t[i].size+e[i].size)/2,n(o-a)>=u)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n,e){var r=t.bbox(),i=n.bbox(),o=1e5,a=e||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];var u=t.split(.5),f=n.split(.5),s=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];s=s.filter((function(t){return m.bboxoverlap(t.left.bbox(),t.right.bbox())}));var c=[];return 0===s.length?c:(s.forEach((function(t){c=c.concat(m.pairiteration(t.left,t.right,a))})),c=c.filter((function(t,n){return c.indexOf(t)===n})))},getccenter:function(t,n,e){var o,u=n.x-t.x,f=n.y-t.y,s=e.x-n.x,c=e.y-n.y,p=u*r(h)-f*i(h),d=u*i(h)+f*r(h),v=s*r(h)-c*i(h),g=s*i(h)+c*r(h),y=(t.x+n.x)/2,b=(t.y+n.y)/2,x=(n.x+e.x)/2,_=(n.y+e.y)/2,w=y+p,M=b+d,A=x+v,E=_+g,k=m.lli8(y,b,w,M,x,_,A,E),S=m.dist(k,t),T=a(t.y-k.y,t.x-k.x),C=a(n.y-k.y,n.x-k.x),z=a(e.y-k.y,e.x-k.x);return T<z?((T>C||C>z)&&(T+=l),T>z&&(o=z,z=T,T=o)):z<C&&C<T?(o=z,z=T,T=o):z+=l,k.s=T,k.e=z,k.r=S,k},numberSort:function(t,n){return t-n}};t.exports=m}()},44:function(t,n,e){t.exports=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},n=function(t,n){for(var e=Object.keys(n),r=0;r<e.length;++r)t[e[r]]=n[e[r]];return t};function e(t){var n=new Error("(regl) "+t);throw console.error(n),n}function r(t,n){t||e(n)}function i(t){return t?": "+t:""}function o(t,n,r){n.indexOf(t)<0&&e("invalid value"+i(r)+". must be one of: "+n)}var a=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function u(t,n){for(t+="";t.length<n;)t=" "+t;return t}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function s(t,n){this.number=t,this.line=n,this.errors=[]}function c(t,n,e){this.file=t,this.line=n,this.message=e}function l(){var t=new Error,n=(t.stack||t).toString(),e=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(n);if(e)return e[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(n);return r?r[1]:"unknown"}function h(){var t=new Error,n=(t.stack||t).toString(),e=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(n);if(e)return e[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(n);return r?r[1]:"unknown"}function p(t,n){var e,r=t.split("\n"),i=1,o=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=n||l(),a.unknown.lines.push(new s(0,""));for(var u=0;u<r.length;++u){var c=r[u],h=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(c);if(h)switch(h[1]){case"line":var p=/(\d+)(\s+\d+)?/.exec(h[2]);p&&(i=0|p[1],p[2]&&((o=0|p[2])in a||(a[o]=new f)));break;case"define":var d=/SHADER_NAME(_B64)?\s+(.*)$/.exec(h[2]);d&&(a[o].name=d[1]?(e=d[2],"undefined"!=typeof atob?atob(e):"base64:"+e):d[2])}a[o].lines.push(new s(i++,c))}return Object.keys(a).forEach((function(t){var n=a[t];n.lines.forEach((function(t){n.index[t.number]=t}))})),a}function d(t){t._commandRef=l()}function v(t,n){var r=h();e(t+" in command "+(n||l())+("unknown"===r?"":" called from "+r))}function m(t,n,e,r){typeof t!==n&&v("invalid parameter type"+i(e)+". expected "+n+", got "+typeof t,r||l())}var g={};function y(t,n){return 32820===t||32819===t||33635===t?2:34042===t?4:g[t]*n}function b(t){return!(t&t-1||!t)}g[5120]=g[5121]=1,g[5122]=g[5123]=g[36193]=g[33635]=g[32819]=g[32820]=2,g[5124]=g[5125]=g[5126]=g[34042]=4;var x=n(r,{optional:function(t){t()},raise:e,commandRaise:v,command:function(t,n,e){t||v(n,e||l())},parameter:function(t,n,r){t in n||e("unknown parameter ("+t+")"+i(r)+". possible values: "+Object.keys(n).join())},commandParameter:function(t,n,e,r){t in n||v("unknown parameter ("+t+")"+i(e)+". possible values: "+Object.keys(n).join(),r||l())},constructor:function(t){Object.keys(t).forEach((function(t){a.indexOf(t)<0&&e('invalid regl constructor argument "'+t+'". must be one of '+a)}))},type:function(t,n,r){typeof t!==n&&e("invalid parameter type"+i(r)+". expected "+n+", got "+typeof t)},commandType:m,isTypedArray:function(n,r){t(n)||e("invalid parameter type"+i(r)+". must be a typed array")},nni:function(t,n){t>=0&&(0|t)===t||e("invalid parameter type, ("+t+")"+i(n)+". must be a nonnegative integer")},oneOf:o,shaderError:function(t,n,e,i,o){if(!t.getShaderParameter(n,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(n),f=i===t.FRAGMENT_SHADER?"fragment":"vertex";m(e,"string",f+" shader source must be a string",o);var s=p(e,o),l=function(t){var n=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var e=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);e?n.push(new c(0|e[1],0|e[2],e[3].trim())):t.length>0&&n.push(new c("unknown",0,t))}})),n}(a);!function(t,n){n.forEach((function(n){var e=t[n.file];if(e){var r=e.index[n.line];if(r)return r.errors.push(n),void(e.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(n)}))}(s,l),Object.keys(s).forEach((function(t){var n=s[t];if(n.hasErrors){var e=[""],r=[""];i("file number "+t+": "+n.name+"\n","color:red;text-decoration:underline;font-weight:bold"),n.lines.forEach((function(t){if(t.errors.length>0){i(u(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(t.line+"\n","color:red; background-color:yellow; font-weight:bold");var n=0;t.errors.forEach((function(e){var r=e.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(r);if(o){var a=o[1];switch(r=o[2],a){case"assign":a="="}n=Math.max(t.line.indexOf(a,n),0)}else n=0;i(u("| ",6)),i(u("^^^",n+3)+"\n","font-weight:bold"),i(u("| ",6)),i(r+"\n","font-weight:bold")})),i(u("| ",6)+"\n")}else i(u(t.number,4)+"|  "),i(t.line+"\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(e.join("")):(r[0]=e.join("%c"),console.log.apply(console,r))}function i(t,n){e.push(t),r.push(n||"")}})),r.raise("Error compiling "+f+" shader, "+s[0].name)}},linkError:function(t,n,e,i,o){if(!t.getProgramParameter(n,t.LINK_STATUS)){var a=t.getProgramInfoLog(n),u=p(e,o),f='Error linking program with vertex shader, "'+p(i,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+f+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(f+"\n"+a),r.raise(f)}},callSite:h,saveCommandRef:d,saveDrawInfo:function(t,n,e,r){function i(t){return t?r.id(t):0}function o(t,n){Object.keys(n).forEach((function(n){t[r.id(n)]=!0}))}d(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={};o(a,n.static),o(a,n.dynamic);var u=t._attributeSet={};o(u,e.static),o(u,e.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,n,e){t.texture?o(t.texture._texture.internalformat,n,"unsupported texture format for attachment"):o(t.renderbuffer._renderbuffer.format,e,"unsupported renderbuffer format for attachment")},guessCommand:l,texture2D:function(t,n,e){var i,o=n.width,a=n.height,u=n.channels;r(o>0&&o<=e.maxTextureSize&&a>0&&a<=e.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||r(b(o)&&b(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===n.mipmask?1!==o&&1!==a&&r(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(r(b(o)&&b(a),"texture must be a square power of 2 to support mipmapping"),r(n.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),5126===n.type&&(e.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var f=n.images;for(i=0;i<16;++i)if(f[i]){var s=o>>i,c=a>>i;r(n.mipmask&1<<i,"missing mipmap data");var l=f[i];if(r(l.width===s&&l.height===c,"invalid shape for mip images"),r(l.format===n.format&&l.internalformat===n.internalformat&&l.type===n.type,"incompatible type for mip image"),l.compressed);else if(l.data){var h=Math.ceil(y(l.type,u)*s/l.unpackAlignment)*l.unpackAlignment;r(l.data.byteLength===h*c,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else t.genMipmaps||r(0==(n.mipmask&1<<i),"extra mipmap data");n.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,n,e,i){var o=t.width,a=t.height,u=t.channels;r(o>0&&o<=i.maxTextureSize&&a>0&&a<=i.maxTextureSize,"invalid texture shape"),r(o===a,"cube map must be square"),r(33071===n.wrapS&&33071===n.wrapT,"wrap mode not supported by cube map");for(var f=0;f<e.length;++f){var s=e[f];r(s.width===o&&s.height===a,"inconsistent cube map face shape"),n.genMipmaps&&(r(!s.compressed,"can not generate mipmap for compressed textures"),r(1===s.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=s.images,l=0;l<16;++l){var h=c[l];if(h){var p=o>>l,d=a>>l;r(s.mipmask&1<<l,"missing mipmap data"),r(h.width===p&&h.height===d,"invalid shape for mip images"),r(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?r(h.data.byteLength===p*d*Math.max(y(h.type,u),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),_=0;function w(t,n){this.id=_++,this.type=t,this.data=n}function M(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function A(t){return"["+function t(n){if(0===n.length)return[];var e=n.charAt(0),r=n.charAt(n.length-1);if(n.length>1&&e===r&&('"'===e||"'"===e))return['"'+M(n.substr(1,n.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(n);if(i)return t(n.substr(0,i.index)).concat(t(i[1])).concat(t(n.substr(i.index+i[0].length)));var o=n.split(".");if(1===o.length)return['"'+M(n)+'"'];for(var a=[],u=0;u<o.length;++u)a=a.concat(t(o[u]));return a}(t).join("][")+"]"}var E={DynamicVariable:w,define:function(t,n){return new w(t,A(n+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof w},unbox:function(t,n){return"function"==typeof t?new w(0,t):t},accessor:A},k={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},S="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function T(t){return"string"==typeof t?t.split():(x(Array.isArray(t),"invalid extension array"),t)}function C(t){return"string"==typeof t?(x("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function z(t){var e,r,i,o,a,u=t||{},f={},s=[],c=[],l="undefined"==typeof window?1:window.devicePixelRatio,h=!1,p=function(t){t&&x.raise(t)},d=function(){};if("string"==typeof u?(x("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(u),x(e,"invalid query string for element")):"object"==typeof u?"string"==typeof(a=u).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?e=u:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(u)?i=(o=u).canvas:(x.constructor(u),"gl"in u?o=u.gl:"canvas"in u?i=C(u.canvas):"container"in u&&(r=C(u.container)),"attributes"in u&&(f=u.attributes,x.type(f,"object","invalid context attributes")),"extensions"in u&&(s=T(u.extensions)),"optionalExtensions"in u&&(c=T(u.optionalExtensions)),"onDone"in u&&(x.type(u.onDone,"function","invalid or missing onDone callback"),p=u.onDone),"profile"in u&&(h=!!u.profile),"pixelRatio"in u&&(l=+u.pixelRatio,x(l>0,"invalid pixel ratio"))):x.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?i=e:r=e),!o){if(!i){x("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var v=function(t,e,r){var i=document.createElement("canvas");function o(){var e=window.innerWidth,o=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();e=a.right-a.left,o=a.bottom-a.top}i.width=r*e,i.height=r*o,n(i.style,{width:e+"px",height:o+"px"})}return n(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",n(t.style,{margin:0,padding:0})),window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:function(){window.removeEventListener("resize",o),t.removeChild(i)}}}(r||document.body,0,l);if(!v)return null;i=v.canvas,d=v.onDestroy}o=function(t,n){function e(e){try{return t.getContext(e,n)}catch(t){return null}}return e("webgl")||e("experimental-webgl")||e("webgl-experimental")}(i,f)}return o?{gl:o,canvas:i,container:r,extensions:s,optionalExtensions:c,pixelRatio:l,profile:h,onDone:p,onDestroy:d}:(d(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function j(t,n){for(var e=Array(t),r=0;r<t;++r)e[r]=n(r);return e}function D(t){var n,e;return n=(t>65535)<<4,n|=e=((t>>>=n)>255)<<3,n|=e=((t>>>=e)>15)<<2,(n|=e=((t>>>=e)>3)<<1)|(t>>>=e)>>1}function B(){var t=j(8,(function(){return[]}));function n(n){var e=function(t){for(var n=16;n<=1<<28;n*=16)if(t<=n)return n;return 0}(n),r=t[D(e)>>2];return r.length>0?r.pop():new ArrayBuffer(e)}function e(n){t[D(n.byteLength)>>2].push(n)}return{alloc:n,free:e,allocType:function(t,e){var r=null;switch(t){case 5120:r=new Int8Array(n(e),0,e);break;case 5121:r=new Uint8Array(n(e),0,e);break;case 5122:r=new Int16Array(n(2*e),0,e);break;case 5123:r=new Uint16Array(n(2*e),0,e);break;case 5124:r=new Int32Array(n(4*e),0,e);break;case 5125:r=new Uint32Array(n(4*e),0,e);break;case 5126:r=new Float32Array(n(4*e),0,e);break;default:return null}return r.length!==e?r.subarray(0,e):r},freeType:function(t){e(t.buffer)}}}var O=B();function P(n){return!!n&&"object"==typeof n&&Array.isArray(n.shape)&&Array.isArray(n.stride)&&"number"==typeof n.offset&&n.shape.length===n.stride.length&&(Array.isArray(n.data)||t(n.data))}O.zero=B();var L=function(t){return Object.keys(t).map((function(n){return t[n]}))},F={shape:function(t){for(var n=[],e=t;e.length;e=e[0])n.push(e.length);return n},flatten:function(t,n,e,r){var i=1;if(n.length)for(var o=0;o<n.length;++o)i*=n[o];else i=0;var a=r||O.allocType(e,i);switch(n.length){case 0:break;case 1:!function(t,n,e){for(var r=0;r<n;++r)e[r]=t[r]}(t,n[0],a);break;case 2:!function(t,n,e,r){for(var i=0,o=0;o<n;++o)for(var a=t[o],u=0;u<e;++u)r[i++]=a[u]}(t,n[0],n[1],a);break;case 3:N(t,n[0],n[1],n[2],a,0);break;default:!function t(n,e,r,i,o){for(var a=1,u=r+1;u<e.length;++u)a*=e[u];var f=e[r];if(e.length-r==4){var s=e[r+1],c=e[r+2],l=e[r+3];for(u=0;u<f;++u)N(n[u],s,c,l,i,o),o+=a}else for(u=0;u<f;++u)t(n[u],e,r+1,i,o),o+=a}(t,n,0,a,0)}return a}};function N(t,n,e,r,i,o){for(var a=o,u=0;u<n;++u)for(var f=t[u],s=0;s<e;++s)for(var c=f[s],l=0;l<r;++l)i[a++]=c[l]}var R={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},I={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},U={dynamic:35048,stream:35040,static:35044},q=F.flatten,W=F.shape,Y=[];function H(t){return 0|R[Object.prototype.toString.call(t)]}function $(t,n){for(var e=0;e<n.length;++e)t[e]=n[e]}function V(t,n,e,r,i,o,a){for(var u=0,f=0;f<e;++f)for(var s=0;s<r;++s)t[u++]=n[i*f+o*s+a]}Y[5120]=1,Y[5122]=2,Y[5124]=4,Y[5121]=1,Y[5123]=2,Y[5125]=4,Y[5126]=4;var G={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},X=new Float32Array(1),Z=new Uint32Array(X.buffer);function Q(t){for(var n=O.allocType(5123,t.length),e=0;e<t.length;++e)if(isNaN(t[e]))n[e]=65535;else if(t[e]===1/0)n[e]=31744;else if(t[e]===-1/0)n[e]=64512;else{X[0]=t[e];var r=Z[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)n[e]=i;else if(o<-14){var u=-14-o;n[e]=i+(a+1024>>u)}else n[e]=o>15?i+31744:i+(o+15<<10)+a}return n}function J(n){return Array.isArray(n)||t(n)}var K=function(t){return!(t&t-1||!t)},tt=[9984,9986,9985,9987],nt=[0,6409,6410,6407,6408],et={};function rt(t){return"[object "+t+"]"}et[6409]=et[6406]=et[6402]=1,et[34041]=et[6410]=2,et[6407]=et[35904]=3,et[6408]=et[35906]=4;var it=rt("HTMLCanvasElement"),ot=rt("CanvasRenderingContext2D"),at=rt("ImageBitmap"),ut=rt("HTMLImageElement"),ft=rt("HTMLVideoElement"),st=Object.keys(R).concat([it,ot,at,ut,ft]),ct=[];ct[5121]=1,ct[5126]=4,ct[36193]=2,ct[5123]=2,ct[5125]=4;var lt=[];function ht(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function pt(t){return!!Array.isArray(t)&&!(0===t.length||!J(t[0]))}function dt(t){return Object.prototype.toString.call(t)}function vt(t){return dt(t)===it}function mt(t){if(!t)return!1;var n=dt(t);return st.indexOf(n)>=0||ht(t)||pt(t)||P(t)}function gt(t){return 0|R[Object.prototype.toString.call(t)]}function yt(t,n){return O.allocType(36193===t.type?5126:t.type,n)}function bt(t,n){36193===t.type?(t.data=Q(n),O.freeType(n)):t.data=n}function xt(t,n,e,r,i,o){var a;if(a=void 0!==lt[t]?lt[t]:et[t]*ct[n],o&&(a*=6),i){for(var u=0,f=e;f>=1;)u+=a*f*f,f/=2;return u}return a*e*r}function _t(e,r,i,o,a,u,f){var s={"don't care":4352,"dont care":4352,nice:4354,fast:4353},c={repeat:10497,clamp:33071,mirror:33648},l={nearest:9728,linear:9729},h=n({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},l),p={none:0,browser:37444},d={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},v={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},m={};r.ext_srgb&&(v.srgb=35904,v.srgba=35906),r.oes_texture_float&&(d.float32=d.float=5126),r.oes_texture_half_float&&(d.float16=d["half float"]=36193),r.webgl_depth_texture&&(n(v,{depth:6402,"depth stencil":34041}),n(d,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&n(m,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&n(m,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&n(m,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=36196);var g=Array.prototype.slice.call(e.getParameter(34467));Object.keys(m).forEach((function(t){var n=m[t];g.indexOf(n)>=0&&(v[t]=n)}));var y=Object.keys(v);i.textureFormats=y;var b=[];Object.keys(v).forEach((function(t){var n=v[t];b[n]=t}));var _=[];Object.keys(d).forEach((function(t){var n=d[t];_[n]=t}));var w=[];Object.keys(l).forEach((function(t){w[l[t]]=t}));var M=[];Object.keys(h).forEach((function(t){var n=h[t];M[n]=t}));var A=[];Object.keys(c).forEach((function(t){A[c[t]]=t}));var E=y.reduce((function(t,n){var e=v[n];return 6409===e||6406===e||6409===e||6410===e||6402===e||34041===e?t[e]=e:32855===e||n.indexOf("rgba")>=0?t[e]=6408:t[e]=6407,t}),{});function k(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function S(t,n){t.internalformat=n.internalformat,t.format=n.format,t.type=n.type,t.compressed=n.compressed,t.premultiplyAlpha=n.premultiplyAlpha,t.flipY=n.flipY,t.unpackAlignment=n.unpackAlignment,t.colorSpace=n.colorSpace,t.width=n.width,t.height=n.height,t.channels=n.channels}function T(t,n){if("object"==typeof n&&n){if("premultiplyAlpha"in n&&(x.type(n.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=n.premultiplyAlpha),"flipY"in n&&(x.type(n.flipY,"boolean","invalid texture flip"),t.flipY=n.flipY),"alignment"in n&&(x.oneOf(n.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=n.alignment),"colorSpace"in n&&(x.parameter(n.colorSpace,p,"invalid colorSpace"),t.colorSpace=p[n.colorSpace]),"type"in n){var e=n.type;x(r.oes_texture_float||!("float"===e||"float32"===e),"you must enable the OES_texture_float extension in order to use floating point textures."),x(r.oes_texture_half_float||!("half float"===e||"float16"===e),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),x(r.webgl_depth_texture||!("uint16"===e||"uint32"===e||"depth stencil"===e),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),x.parameter(e,d,"invalid texture type"),t.type=d[e]}var o=t.width,a=t.height,u=t.channels,f=!1;"shape"in n?(x(Array.isArray(n.shape)&&n.shape.length>=2,"shape must be an array"),o=n.shape[0],a=n.shape[1],3===n.shape.length&&(u=n.shape[2],x(u>0&&u<=4,"invalid number of channels"),f=!0),x(o>=0&&o<=i.maxTextureSize,"invalid width"),x(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in n&&(o=a=n.radius,x(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in n&&(o=n.width,x(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in n&&(a=n.height,x(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in n&&(u=n.channels,x(u>0&&u<=4,"invalid number of channels"),f=!0)),t.width=0|o,t.height=0|a,t.channels=0|u;var s=!1;if("format"in n){var c=n.format;x(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),x.parameter(c,v,"invalid texture format");var l=t.internalformat=v[c];t.format=E[l],c in d&&("type"in n||(t.type=d[c])),c in m&&(t.compressed=!0),s=!0}!f&&s?t.channels=et[t.format]:f&&!s?t.channels!==nt[t.format]&&(t.format=t.internalformat=nt[t.channels]):s&&f&&x(t.channels===et[t.format],"number of channels inconsistent with specified format")}}function C(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function z(){k.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function j(n,e){var r=null;if(mt(e)?r=e:e&&(x.type(e,"object","invalid pixel data type"),T(n,e),"x"in e&&(n.xOffset=0|e.x),"y"in e&&(n.yOffset=0|e.y),mt(e.data)&&(r=e.data)),x(!n.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),e.copy){x(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,u=a.viewportHeight;n.width=n.width||o-n.xOffset,n.height=n.height||u-n.yOffset,n.needsCopy=!0,x(n.xOffset>=0&&n.xOffset<o&&n.yOffset>=0&&n.yOffset<u&&n.width>0&&n.width<=o&&n.height>0&&n.height<=u,"copy texture read out of bounds")}else if(r){if(t(r))n.channels=n.channels||4,n.data=r,"type"in e||5121!==n.type||(n.type=gt(r));else if(ht(r))n.channels=n.channels||4,function(t,n){var e=n.length;switch(t.type){case 5121:case 5123:case 5125:case 5126:var r=O.allocType(t.type,e);r.set(n),t.data=r;break;case 36193:t.data=Q(n);break;default:x.raise("unsupported texture type, must specify a typed array")}}(n,r),n.alignment=1,n.needsFree=!0;else if(P(r)){var f=r.data;Array.isArray(f)||5121!==n.type||(n.type=gt(f));var s,c,l,h,p,d,v=r.shape,m=r.stride;3===v.length?(l=v[2],d=m[2]):(x(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,d=1),s=v[0],c=v[1],h=m[0],p=m[1],n.alignment=1,n.width=s,n.height=c,n.channels=l,n.format=n.internalformat=nt[l],n.needsFree=!0,function(t,n,e,r,i,o){for(var a=t.width,u=t.height,f=t.channels,s=yt(t,a*u*f),c=0,l=0;l<u;++l)for(var h=0;h<a;++h)for(var p=0;p<f;++p)s[c++]=n[e*h+r*l+i*p+o];bt(t,s)}(n,f,h,p,d,r.offset)}else if(vt(r)||dt(r)===ot)vt(r)?n.element=r:n.element=r.canvas,n.width=n.element.width,n.height=n.element.height,n.channels=4;else if(function(t){return dt(t)===at}(r))n.element=r,n.width=r.width,n.height=r.height,n.channels=4;else if(function(t){return dt(t)===ut}(r))n.element=r,n.width=r.naturalWidth,n.height=r.naturalHeight,n.channels=4;else if(function(t){return dt(t)===ft}(r))n.element=r,n.width=r.videoWidth,n.height=r.videoHeight,n.channels=4;else if(pt(r)){var g=n.width||r[0].length,y=n.height||r.length,b=n.channels;b=J(r[0][0])?b||r[0][0].length:b||1;for(var _=F.shape(r),w=1,M=0;M<_.length;++M)w*=_[M];var A=yt(n,w);F.flatten(r,_,"",A),bt(n,A),n.alignment=1,n.width=g,n.height=y,n.channels=b,n.format=n.internalformat=nt[b],n.needsFree=!0}}else n.width=n.width||1,n.height=n.height||1,n.channels=n.channels||4;5126===n.type?x(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===n.type&&x(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function D(t,n,r){var i=t.element,a=t.data,u=t.internalformat,f=t.format,s=t.type,c=t.width,l=t.height,h=t.channels;if(C(t),i)e.texImage2D(n,r,f,f,s,i);else if(t.compressed)e.compressedTexImage2D(n,r,u,c,l,0,a);else if(t.needsCopy)o(),e.copyTexImage2D(n,r,f,t.xOffset,t.yOffset,c,l,0);else{var p=!a;p&&(a=O.zero.allocType(s,c*l*h)),e.texImage2D(n,r,f,c,l,0,f,s,a),p&&a&&O.zero.freeType(a)}}function B(t,n,r,i,a){var u=t.element,f=t.data,s=t.internalformat,c=t.format,l=t.type,h=t.width,p=t.height;C(t),u?e.texSubImage2D(n,a,r,i,c,l,u):t.compressed?e.compressedTexSubImage2D(n,a,r,i,s,h,p,f):t.needsCopy?(o(),e.copyTexSubImage2D(n,a,r,i,t.xOffset,t.yOffset,h,p)):e.texSubImage2D(n,a,r,i,h,p,c,l,f)}var N=[];function R(){return N.pop()||new z}function I(t){t.needsFree&&O.freeType(t.data),z.call(t),N.push(t)}function U(){k.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function q(t,n,e){var r=t.images[0]=R();t.mipmask=1,r.width=t.width=n,r.height=t.height=e,r.channels=t.channels=4}function W(t,n){var e=null;if(mt(n))S(e=t.images[0]=R(),t),j(e,n),t.mipmask=1;else if(T(t,n),Array.isArray(n.mipmap))for(var r=n.mipmap,i=0;i<r.length;++i)S(e=t.images[i]=R(),t),e.width>>=i,e.height>>=i,j(e,r[i]),t.mipmask|=1<<i;else S(e=t.images[0]=R(),t),j(e,n),t.mipmask=1;S(t,t.images[0]),(t.compressed&&33776===t.internalformat||33777===t.internalformat||33778===t.internalformat||33779===t.internalformat)&&x(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Y(t,n){for(var e=t.images,r=0;r<e.length;++r){if(!e[r])return;D(e[r],n,r)}}var H=[];function $(){var t=H.pop()||new U;k.call(t),t.mipmask=0;for(var n=0;n<16;++n)t.images[n]=null;return t}function V(t){for(var n=t.images,e=0;e<n.length;++e)n[e]&&I(n[e]),n[e]=null;H.push(t)}function G(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function X(t,n){if("min"in n){var e=n.min;x.parameter(e,h),t.minFilter=h[e],tt.indexOf(t.minFilter)>=0&&!("faces"in n)&&(t.genMipmaps=!0)}if("mag"in n){var r=n.mag;x.parameter(r,l),t.magFilter=l[r]}var o=t.wrapS,a=t.wrapT;if("wrap"in n){var u=n.wrap;"string"==typeof u?(x.parameter(u,c),o=a=c[u]):Array.isArray(u)&&(x.parameter(u[0],c),x.parameter(u[1],c),o=c[u[0]],a=c[u[1]])}else{if("wrapS"in n){var f=n.wrapS;x.parameter(f,c),o=c[f]}if("wrapT"in n){var p=n.wrapT;x.parameter(p,c),a=c[p]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in n){var d=n.anisotropic;x("number"==typeof d&&d>=1&&d<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=n.anisotropic}if("mipmap"in n){var v=!1;switch(typeof n.mipmap){case"string":x.parameter(n.mipmap,s,"invalid mipmap hint"),t.mipmapHint=s[n.mipmap],t.genMipmaps=!0,v=!0;break;case"boolean":v=t.genMipmaps=n.mipmap;break;case"object":x(Array.isArray(n.mipmap),"invalid mipmap type"),t.genMipmaps=!1,v=!0;break;default:x.raise("invalid mipmap type")}!v||"min"in n||(t.minFilter=9984)}}function Z(t,n){e.texParameteri(n,10241,t.minFilter),e.texParameteri(n,10240,t.magFilter),e.texParameteri(n,10242,t.wrapS),e.texParameteri(n,10243,t.wrapT),r.ext_texture_filter_anisotropic&&e.texParameteri(n,34046,t.anisotropic),t.genMipmaps&&(e.hint(33170,t.mipmapHint),e.generateMipmap(n))}var rt=0,it={},st=i.maxTextureUnits,ct=Array(st).map((function(){return null}));function lt(t){k.call(this),this.mipmask=0,this.internalformat=6408,this.id=rt++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new G,f.profile&&(this.stats={size:0})}function _t(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function wt(){var t=ct[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function Mt(t){var n=t.texture;x(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(33984+r),e.bindTexture(i,null),ct[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete it[t.id],u.textureCount--}return n(lt.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var n=0;n<st;++n){var r=ct[n];if(r){if(r.bindCount>0)continue;r.unit=-1}ct[n]=this,t=n;break}t>=st&&x.raise("insufficient number of texture units"),f.profile&&u.maxTextureUnits<t+1&&(u.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Mt(this)}}),f.profile&&(u.getTotalTextureSize=function(){var t=0;return Object.keys(it).forEach((function(n){t+=it[n].stats.size})),t}),{create2D:function(t,n){var r=new lt(3553);function o(t,n){var e=r.texInfo;G.call(e);var a=$();return"number"==typeof t?q(a,0|t,"number"==typeof n?0|n:0|t):t?(x.type(t,"object","invalid arguments to regl.texture"),X(e,t),W(a,t)):q(a,1,1),e.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,S(r,a),x.texture2D(e,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,_t(r),Y(a,3553),Z(e,3553),wt(),V(a),f.profile&&(r.stats.size=xt(r.internalformat,r.type,a.width,a.height,e.genMipmaps,!1)),o.format=b[r.internalformat],o.type=_[r.type],o.mag=w[e.magFilter],o.min=M[e.minFilter],o.wrapS=A[e.wrapS],o.wrapT=A[e.wrapT],o}return it[r.id]=r,u.textureCount++,o(t,n),o.subimage=function(t,n,e,i){x(!!t,"must specify image data");var a=0|n,u=0|e,f=0|i,s=R();return S(s,r),s.width=0,s.height=0,j(s,t),s.width=s.width||(r.width>>f)-a,s.height=s.height||(r.height>>f)-u,x(r.type===s.type&&r.format===s.format&&r.internalformat===s.internalformat,"incompatible format for texture.subimage"),x(a>=0&&u>=0&&a+s.width<=r.width&&u+s.height<=r.height,"texture.subimage write out of bounds"),x(r.mipmask&1<<f,"missing mipmap data"),x(s.data||s.element||s.needsCopy,"missing image data"),_t(r),B(s,3553,a,u,f),wt(),I(s),o},o.resize=function(t,n){var i,a=0|t,u=0|n||a;if(a===r.width&&u===r.height)return o;o.width=r.width=a,o.height=r.height=u,_t(r);for(var s=r.channels,c=r.type,l=0;r.mipmask>>l;++l){var h=a>>l,p=u>>l;if(!h||!p)break;i=O.zero.allocType(c,h*p*s),e.texImage2D(3553,l,r.format,h,p,0,r.format,r.type,i),i&&O.zero.freeType(i)}return wt(),f.profile&&(r.stats.size=xt(r.internalformat,r.type,a,u,!1,!1)),o},o._reglType="texture2d",o._texture=r,f.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(t,n,r,o,a,s){var c=new lt(34067);it[c.id]=c,u.cubeCount++;var l=new Array(6);function h(t,n,e,r,o,a){var u,s=c.texInfo;for(G.call(s),u=0;u<6;++u)l[u]=$();if("number"!=typeof t&&t)if("object"==typeof t)if(n)W(l[0],t),W(l[1],n),W(l[2],e),W(l[3],r),W(l[4],o),W(l[5],a);else if(X(s,t),T(c,t),"faces"in t){var p=t.faces;for(x(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),u=0;u<6;++u)x("object"==typeof p[u]&&!!p[u],"invalid input for cube map face"),S(l[u],c),W(l[u],p[u])}else for(u=0;u<6;++u)W(l[u],t);else x.raise("invalid arguments to cube map");else{var d=0|t||1;for(u=0;u<6;++u)q(l[u],d,d)}for(S(c,l[0]),i.npotTextureCube||x(K(c.width)&&K(c.height),"your browser does not support non power or two texture dimensions"),s.genMipmaps?c.mipmask=(l[0].width<<1)-1:c.mipmask=l[0].mipmask,x.textureCube(c,s,l,i),c.internalformat=l[0].internalformat,h.width=l[0].width,h.height=l[0].height,_t(c),u=0;u<6;++u)Y(l[u],34069+u);for(Z(s,34067),wt(),f.profile&&(c.stats.size=xt(c.internalformat,c.type,h.width,h.height,s.genMipmaps,!0)),h.format=b[c.internalformat],h.type=_[c.type],h.mag=w[s.magFilter],h.min=M[s.minFilter],h.wrapS=A[s.wrapS],h.wrapT=A[s.wrapT],u=0;u<6;++u)V(l[u]);return h}return h(t,n,r,o,a,s),h.subimage=function(t,n,e,r,i){x(!!n,"must specify image data"),x("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|e,a=0|r,u=0|i,f=R();return S(f,c),f.width=0,f.height=0,j(f,n),f.width=f.width||(c.width>>u)-o,f.height=f.height||(c.height>>u)-a,x(c.type===f.type&&c.format===f.format&&c.internalformat===f.internalformat,"incompatible format for texture.subimage"),x(o>=0&&a>=0&&o+f.width<=c.width&&a+f.height<=c.height,"texture.subimage write out of bounds"),x(c.mipmask&1<<u,"missing mipmap data"),x(f.data||f.element||f.needsCopy,"missing image data"),_t(c),B(f,34069+t,o,a,u),wt(),I(f),h},h.resize=function(t){var n=0|t;if(n!==c.width){h.width=c.width=n,h.height=c.height=n,_t(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)e.texImage2D(34069+r,i,c.format,n>>i,n>>i,0,c.format,c.type,null);return wt(),f.profile&&(c.stats.size=xt(c.internalformat,c.type,h.width,h.height,!1,!0)),h}},h._reglType="textureCube",h._texture=c,f.profile&&(h.stats=c.stats),h.destroy=function(){c.decRef()},h},clear:function(){for(var t=0;t<st;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),ct[t]=null;L(it).forEach(Mt),u.cubeCount=0,u.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<st;++t){var n=ct[t];n&&(n.bindCount=0,n.unit=-1,ct[t]=null)}L(it).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!=(t.mipmask&1<<n))if(3553===t.target)e.texImage2D(3553,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(34069+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);Z(t.texInfo,t.target)}))}}}lt[32854]=2,lt[32855]=2,lt[36194]=2,lt[34041]=4,lt[33776]=.5,lt[33777]=.5,lt[33778]=1,lt[33779]=1,lt[35986]=.5,lt[35987]=1,lt[34798]=1,lt[35840]=.5,lt[35841]=.25,lt[35842]=.5,lt[35843]=.25,lt[36196]=.5;var wt=[];function Mt(t,n,e){return wt[t]*n*e}wt[32854]=2,wt[32855]=2,wt[36194]=2,wt[33189]=2,wt[36168]=1,wt[34041]=4,wt[35907]=4,wt[34836]=16,wt[34842]=8,wt[34843]=6;var At=[6407,6408],Et=[];Et[6408]=4,Et[6407]=3;var kt=[];kt[5121]=1,kt[5126]=4,kt[36193]=2;var St=[32854,32855,36194,35907,34842,34843,34836],Tt={};function Ct(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function zt(n,e,r,i,o,a,u){function f(f){var s;null===e.next?(x(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),s=5121):(x(null!==e.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),s=e.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(x(5121===s||5126===s,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===s&&x(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):x(5121===s,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,l=0,h=i.framebufferWidth,p=i.framebufferHeight,d=null;t(f)?d=f:f&&(x.type(f,"object","invalid arguments to regl.read()"),c=0|f.x,l=0|f.y,x(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),x(l>=0&&l<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(f.width||i.framebufferWidth-c),p=0|(f.height||i.framebufferHeight-l),d=f.data||null),d&&(5121===s?x(d instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===s&&x(d instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),x(h>0&&h+c<=i.framebufferWidth,"invalid width for read pixels"),x(p>0&&p+l<=i.framebufferHeight,"invalid height for read pixels"),r();var v=h*p*4;return d||(5121===s?d=new Uint8Array(v):5126===s&&(d=d||new Float32Array(v))),x.isTypedArray(d,"data buffer for regl.read() must be a typedarray"),x(d.byteLength>=v,"data buffer for regl.read() too small"),n.pixelStorei(3333,4),n.readPixels(c,l,h,p,6408,s,d),d}return function(t){return t&&"framebuffer"in t?function(t){var n;return e.setFBO({framebuffer:t.framebuffer},(function(){n=f(t)})),n}(t):f(t)}}function jt(t){return Array.prototype.slice.call(t)}function Dt(t){return jt(t).join("")}Tt[36053]="complete",Tt[36054]="incomplete attachment",Tt[36057]="incomplete dimensions",Tt[36055]="incomplete, missing attachment",Tt[36061]="unsupported";var Bt="xyzw".split(""),Ot="profile",Pt="framebuffer",Lt="vert",Ft="frag",Nt="elements",Rt="primitive",It="count",Ut="offset",qt="instances",Wt=Pt+"Width",Yt=Pt+"Height",Ht=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],$t={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vt=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Gt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Zt={frag:35632,vert:35633},Qt={cw:2304,ccw:2305};function Jt(n){return Array.isArray(n)||t(n)||P(n)}function Kt(t){return t.sort((function(t,n){return"viewport"===t?-1:"viewport"===n?1:t<n?-1:1}))}function tn(t,n,e,r){this.thisDep=t,this.contextDep=n,this.propDep=e,this.append=r}function nn(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function en(t){return new tn(!1,!1,!1,t)}function rn(t,n){var e=t.type;if(0===e){var r=t.data.length;return new tn(!0,r>=1,r>=2,n)}if(4===e){var i=t.data;return new tn(i.thisDep,i.contextDep,i.propDep,n)}return new tn(3===e,2===e,1===e,n)}var on=new tn(!1,!1,!1,(function(){}));function an(t,e,r,i,o,a,u,f,s,c,l,h,p,d,v){var m=c.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=32775,g.max=32776);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,_={dirty:!0,profile:v.profile},w={},M=[],A={},k={};function S(t){return t.replace(".","_")}function T(t,n,e){var r=S(t);M.push(t),w[r]=_[r]=!!e,A[r]=n}function C(t,n,e){var r=S(t);M.push(t),Array.isArray(e)?(_[r]=e.slice(),w[r]=e.slice()):_[r]=w[r]=e,k[r]=n}T("dither",3024),T("blend.enable",3042),C("blend.color","blendColor",[0,0,0,0]),C("blend.equation","blendEquationSeparate",[32774,32774]),C("blend.func","blendFuncSeparate",[1,0,1,0]),T("depth.enable",2929,!0),C("depth.func","depthFunc",513),C("depth.range","depthRange",[0,1]),C("depth.mask","depthMask",!0),C("colorMask","colorMask",[!0,!0,!0,!0]),T("cull.enable",2884),C("cull.face","cullFace",1029),C("frontFace","frontFace",2305),C("lineWidth","lineWidth",1),T("polygonOffset.enable",32823),C("polygonOffset.offset","polygonOffset",[0,0]),T("sample.alpha",32926),T("sample.enable",32928),C("sample.coverage","sampleCoverage",[1,!1]),T("stencil.enable",2960),C("stencil.mask","stencilMask",-1),C("stencil.func","stencilFunc",[519,0,-1]),C("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),C("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),T("scissor.enable",3089),C("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),C("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var z={gl:t,context:p,strings:e,next:w,current:_,draw:h,elements:a,buffer:o,shader:l,attributes:c.state,uniforms:s,framebuffer:f,extensions:r,timer:d,isBufferArgs:Jt},D={primTypes:G,compareFuncs:Gt,blendFuncs:$t,blendEquations:g,stencilOps:Xt,glTypes:I,orientationType:Qt};x.optional((function(){z.isArrayLike=J})),b&&(D.backBuffer=[1029],D.drawBuffer=j(i.maxDrawbuffers,(function(t){return 0===t?[0]:j(t,(function(t){return 36064+t}))})));var B=0;function O(){var t=function(){var t=0,e=[],r=[];function i(){var e=[],r=[];return n((function(){e.push.apply(e,jt(arguments))}),{def:function(){var n="v"+t++;return r.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,jt(arguments)),e.push(";")),n},toString:function(){return Dt([r.length>0?"var "+r.join(",")+";":"",Dt(e)])}})}function o(){var t=i(),e=i(),r=t.toString,o=e.toString;function a(n,r){e(n,r,"=",t.def(n,r),";")}return n((function(){t.apply(t,jt(arguments))}),{def:t.def,entry:t,exit:e,save:a,set:function(n,e,r){a(n,e),t(n,e,"=",r,";")},toString:function(){return r()+o()}})}var a=i(),u={};return{global:a,link:function(n){for(var i=0;i<r.length;++i)if(r[i]===n)return e[i];var o="g"+t++;return e.push(o),r.push(n),o},block:i,proc:function(t,e){var r=[];function i(){var t="a"+r.length;return r.push(t),t}e=e||0;for(var a=0;a<e;++a)i();var f=o(),s=f.toString;return u[t]=n(f,{arg:i,toString:function(){return Dt(["function(",r.join(),"){",s(),"}"])}})},scope:o,cond:function(){var t=Dt(arguments),e=o(),r=o(),i=e.toString,a=r.toString;return n(e,{then:function(){return e.apply(e,jt(arguments)),this},else:function(){return r.apply(r,jt(arguments)),this},toString:function(){var n=a();return n&&(n="else{"+n+"}"),Dt(["if(",t,"){",i(),"}",n])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(u).forEach((function(n){t.push('"',n,'":',u[n].toString(),",")})),t.push("}");var n=Dt(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,e.concat(n)).apply(null,r)}}}(),r=t.link,i=t.global;t.id=B++,t.batchId="0";var o=r(z),a=t.shared={props:"a0"};Object.keys(z).forEach((function(t){a[t]=i.def(o,".",t)})),x.optional((function(){t.CHECK=r(x),t.commandStr=x.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,n,e){t("if(!(",n,"))",this.CHECK,".commandRaise(",r(e),",",this.command,");")},D.invalidBlendCombinations=Vt}));var u=t.next={},f=t.current={};Object.keys(k).forEach((function(t){Array.isArray(_[t])&&(u[t]=i.def(a.next,".",t),f[t]=i.def(a.current,".",t))}));var s=t.constants={};Object.keys(D).forEach((function(t){s[t]=i.def(JSON.stringify(D[t]))})),t.invoke=function(n,e){switch(e.type){case 0:var i=["this",a.context,a.props,t.batchId];return n.def(r(e.data),".call(",i.slice(0,Math.max(e.data.length+1,4)),")");case 1:return n.def(a.props,e.data);case 2:return n.def(a.context,e.data);case 3:return n.def("this",e.data);case 4:return e.data.append(t,n),e.data.ref}},t.attribCache={};var l={};return t.scopeAttrib=function(t){var n=e.id(t);if(n in l)return l[n];var i=c.scope[n];return i||(i=c.scope[n]=new m),l[n]=r(i)},t}function P(t,n,r,u,s){var c=t.static,h=t.dynamic;x.optional((function(){var t=[Pt,Lt,Ft,Nt,Rt,Ut,It,qt,Ot].concat(M);function n(n){Object.keys(n).forEach((function(n){x.command(t.indexOf(n)>=0,'unknown parameter "'+n+'"',s.commandStr)}))}n(c),n(h)}));var p=function(t,n){var e=t.static,r=t.dynamic;if(Pt in e){var i=e[Pt];return i?(i=f.getFramebuffer(i),x.command(i,"invalid framebuffer object"),en((function(t,n){var e=t.link(i),r=t.shared;n.set(r.framebuffer,".next",e);var o=r.context;return n.set(o,"."+Wt,e+".width"),n.set(o,"."+Yt,e+".height"),e}))):en((function(t,n){var e=t.shared;n.set(e.framebuffer,".next","null");var r=e.context;return n.set(r,"."+Wt,r+".drawingBufferWidth"),n.set(r,"."+Yt,r+".drawingBufferHeight"),"null"}))}if(Pt in r){var o=r[Pt];return rn(o,(function(t,n){var e=t.invoke(n,o),r=t.shared,i=r.framebuffer,a=n.def(i,".getFramebuffer(",e,")");x.optional((function(){t.assert(n,"!"+e+"||"+a,"invalid framebuffer object")})),n.set(i,".next",a);var u=r.context;return n.set(u,"."+Wt,a+"?"+a+".width:"+u+".drawingBufferWidth"),n.set(u,"."+Yt,a+"?"+a+".height:"+u+".drawingBufferHeight"),a}))}return null}(t),d=function(t,n,e){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];x.commandType(o,"object","invalid "+t,e.commandStr);var a,u,f=!0,s=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,x.command(a>=0,"invalid "+t,e.commandStr)):f=!1,"height"in o?(u=0|o.height,x.command(u>=0,"invalid "+t,e.commandStr)):f=!1,new tn(!f&&n&&n.thisDep,!f&&n&&n.contextDep,!f&&n&&n.propDep,(function(t,n){var e=t.shared.context,r=a;"width"in o||(r=n.def(e,".",Wt,"-",s));var i=u;return"height"in o||(i=n.def(e,".",Yt,"-",c)),[s,c,r,i]}))}if(t in i){var l=i[t],h=rn(l,(function(n,e){var r=n.invoke(e,l);x.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=n.shared.context,o=e.def(r,".x|0"),a=e.def(r,".y|0"),u=e.def('"width" in ',r,"?",r,".width|0:","(",i,".",Wt,"-",o,")"),f=e.def('"height" in ',r,"?",r,".height|0:","(",i,".",Yt,"-",a,")");return x.optional((function(){n.assert(e,u+">=0&&"+f+">=0","invalid "+t)})),[o,a,u,f]}));return n&&(h.thisDep=h.thisDep||n.thisDep,h.contextDep=h.contextDep||n.contextDep,h.propDep=h.propDep||n.propDep),h}return n?new tn(n.thisDep,n.contextDep,n.propDep,(function(t,n){var e=t.shared.context;return[0,0,n.def(e,".",Wt),n.def(e,".",Yt)]})):null}var a=o("viewport");if(a){var u=a;a=new tn(a.thisDep,a.contextDep,a.propDep,(function(t,n){var e=u.append(t,n),r=t.shared.context;return n.set(r,".viewportWidth",e[2]),n.set(r,".viewportHeight",e[3]),e}))}return{viewport:a,scissor_box:o("scissor.box")}}(t,p,s),v=function(t,n){var e=t.static,r=t.dynamic,i=function(){if(Nt in e){var t=e[Nt];Jt(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),x.command(t,"invalid elements",n.commandStr));var i=en((function(n,e){if(t){var r=n.link(t);return n.ELEMENTS=r,r}return n.ELEMENTS=null,null}));return i.value=t,i}if(Nt in r){var o=r[Nt];return rn(o,(function(t,n){var e=t.shared,r=e.isBufferArgs,i=e.elements,a=t.invoke(n,o),u=n.def("null"),f=n.def(r,"(",a,")"),s=t.cond(f).then(u,"=",i,".createStream(",a,");").else(u,"=",i,".getElements(",a,");");return x.optional((function(){t.assert(s.else,"!"+a+"||"+u,"invalid elements")})),n.entry(s),n.exit(t.cond(f).then(i,".destroyStream(",u,");")),t.ELEMENTS=u,u}))}return null}();function o(t,o){if(t in e){var a=0|e[t];return x.command(!o||a>=0,"invalid "+t,n.commandStr),en((function(t,n){return o&&(t.OFFSET=a),a}))}if(t in r){var u=r[t];return rn(u,(function(n,e){var r=n.invoke(e,u);return o&&(n.OFFSET=r,x.optional((function(){n.assert(e,r+">=0","invalid "+t)}))),r}))}return o&&i?en((function(t,n){return t.OFFSET="0",0})):null}var u=o(Ut,!0);return{elements:i,primitive:function(){if(Rt in e){var t=e[Rt];return x.commandParameter(t,G,"invalid primitve",n.commandStr),en((function(n,e){return G[t]}))}if(Rt in r){var o=r[Rt];return rn(o,(function(t,n){var e=t.constants.primTypes,r=t.invoke(n,o);return x.optional((function(){t.assert(n,r+" in "+e,"invalid primitive, must be one of "+Object.keys(G))})),n.def(e,"[",r,"]")}))}return i?nn(i)?i.value?en((function(t,n){return n.def(t.ELEMENTS,".primType")})):en((function(){return 4})):new tn(i.thisDep,i.contextDep,i.propDep,(function(t,n){var e=t.ELEMENTS;return n.def(e,"?",e,".primType:",4)})):null}(),count:function(){if(It in e){var t=0|e[It];return x.command("number"==typeof t&&t>=0,"invalid vertex count",n.commandStr),en((function(){return t}))}if(It in r){var o=r[It];return rn(o,(function(t,n){var e=t.invoke(n,o);return x.optional((function(){t.assert(n,"typeof "+e+'==="number"&&'+e+">=0&&"+e+"===("+e+"|0)","invalid vertex count")})),e}))}if(i){if(nn(i)){if(i)return u?new tn(u.thisDep,u.contextDep,u.propDep,(function(t,n){var e=n.def(t.ELEMENTS,".vertCount-",t.OFFSET);return x.optional((function(){t.assert(n,e+">=0","invalid vertex offset/element buffer too small")})),e})):en((function(t,n){return n.def(t.ELEMENTS,".vertCount")}));var a=en((function(){return-1}));return x.optional((function(){a.MISSING=!0})),a}var f=new tn(i.thisDep||u.thisDep,i.contextDep||u.contextDep,i.propDep||u.propDep,(function(t,n){var e=t.ELEMENTS;return t.OFFSET?n.def(e,"?",e,".vertCount-",t.OFFSET,":-1"):n.def(e,"?",e,".vertCount:-1")}));return x.optional((function(){f.DYNAMIC=!0})),f}return null}(),instances:o(qt,!1),offset:u}}(t,s),b=function(t,n){var e=t.static,r=t.dynamic,o={};return M.forEach((function(t){var a=S(t);function u(n,i){if(t in e){var u=n(e[t]);o[a]=en((function(){return u}))}else if(t in r){var f=r[t];o[a]=rn(f,(function(t,n){return i(t,n,t.invoke(n,f))}))}}switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return u((function(e){return x.commandType(e,"boolean",t,n.commandStr),e}),(function(n,e,r){return x.optional((function(){n.assert(e,"typeof "+r+'==="boolean"',"invalid flag "+t,n.commandStr)})),r}));case"depth.func":return u((function(e){return x.commandParameter(e,Gt,"invalid "+t,n.commandStr),Gt[e]}),(function(n,e,r){var i=n.constants.compareFuncs;return x.optional((function(){n.assert(e,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(Gt))})),e.def(i,"[",r,"]")}));case"depth.range":return u((function(t){return x.command(J(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",n.commandStr),t}),(function(t,n,e){return x.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===2&&typeof "+e+'[0]==="number"&&typeof '+e+'[1]==="number"&&'+e+"[0]<="+e+"[1]","depth range must be a 2d array")})),[n.def("+",e,"[0]"),n.def("+",e,"[1]")]}));case"blend.func":return u((function(t){x.commandType(t,"object","blend.func",n.commandStr);var e="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return x.commandParameter(e,$t,a+".srcRGB",n.commandStr),x.commandParameter(r,$t,a+".srcAlpha",n.commandStr),x.commandParameter(i,$t,a+".dstRGB",n.commandStr),x.commandParameter(o,$t,a+".dstAlpha",n.commandStr),x.command(-1===Vt.indexOf(e+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+e+", "+i+")",n.commandStr),[$t[e],$t[i],$t[r],$t[o]]}),(function(n,e,r){var i=n.constants.blendFuncs;function o(o,a){var u=e.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return x.optional((function(){n.assert(e,u+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys($t))})),u}x.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),u=o("dst","RGB");x.optional((function(){var t=n.constants.invalidBlendCombinations;n.assert(e,t+".indexOf("+a+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var f=e.def(i,"[",a,"]"),s=e.def(i,"[",o("src","Alpha"),"]");return[f,e.def(i,"[",u,"]"),s,e.def(i,"[",o("dst","Alpha"),"]")]}));case"blend.equation":return u((function(e){return"string"==typeof e?(x.commandParameter(e,g,"invalid "+t,n.commandStr),[g[e],g[e]]):"object"==typeof e?(x.commandParameter(e.rgb,g,t+".rgb",n.commandStr),x.commandParameter(e.alpha,g,t+".alpha",n.commandStr),[g[e.rgb],g[e.alpha]]):void x.commandRaise("invalid blend.equation",n.commandStr)}),(function(n,e,r){var i=n.constants.blendEquations,o=e.def(),a=e.def(),u=n.cond("typeof ",r,'==="string"');return x.optional((function(){function e(t,e,r){n.assert(t,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(g))}e(u.then,t,r),n.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+t),e(u.else,t+".rgb",r+".rgb"),e(u.else,t+".alpha",r+".alpha")})),u.then(o,"=",a,"=",i,"[",r,"];"),u.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),e(u),[o,a]}));case"blend.color":return u((function(t){return x.command(J(t)&&4===t.length,"blend.color must be a 4d array",n.commandStr),j(4,(function(n){return+t[n]}))}),(function(t,n,e){return x.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===4","blend.color must be a 4d array")})),j(4,(function(t){return n.def("+",e,"[",t,"]")}))}));case"stencil.mask":return u((function(t){return x.commandType(t,"number",a,n.commandStr),0|t}),(function(t,n,e){return x.optional((function(){t.assert(n,"typeof "+e+'==="number"',"invalid stencil.mask")})),n.def(e,"|0")}));case"stencil.func":return u((function(e){x.commandType(e,"object",a,n.commandStr);var r=e.cmp||"keep",i=e.ref||0,o="mask"in e?e.mask:-1;return x.commandParameter(r,Gt,t+".cmp",n.commandStr),x.commandType(i,"number",t+".ref",n.commandStr),x.commandType(o,"number",t+".mask",n.commandStr),[Gt[r],i,o]}),(function(t,n,e){var r=t.constants.compareFuncs;return x.optional((function(){function i(){t.assert(n,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(e+"&&typeof ",e,'==="object"'),i('!("cmp" in ',e,")||(",e,".cmp in ",r,")")})),[n.def('"cmp" in ',e,"?",r,"[",e,".cmp]",":",7680),n.def(e,".ref|0"),n.def('"mask" in ',e,"?",e,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return u((function(e){x.commandType(e,"object",a,n.commandStr);var r=e.fail||"keep",i=e.zfail||"keep",o=e.zpass||"keep";return x.commandParameter(r,Xt,t+".fail",n.commandStr),x.commandParameter(i,Xt,t+".zfail",n.commandStr),x.commandParameter(o,Xt,t+".zpass",n.commandStr),["stencil.opBack"===t?1029:1028,Xt[r],Xt[i],Xt[o]]}),(function(n,e,r){var i=n.constants.stencilOps;function o(o){return x.optional((function(){n.assert(e,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(Xt))})),e.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",7680)}return x.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)})),["stencil.opBack"===t?1029:1028,o("fail"),o("zfail"),o("zpass")]}));case"polygonOffset.offset":return u((function(t){x.commandType(t,"object",a,n.commandStr);var e=0|t.factor,r=0|t.units;return x.commandType(e,"number",a+".factor",n.commandStr),x.commandType(r,"number",a+".units",n.commandStr),[e,r]}),(function(n,e,r){return x.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[e.def(r,".factor|0"),e.def(r,".units|0")]}));case"cull.face":return u((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),x.command(!!e,a,n.commandStr),e}),(function(t,n,e){return x.optional((function(){t.assert(n,e+'==="front"||'+e+'==="back"',"invalid cull.face")})),n.def(e,'==="front"?',1028,":",1029)}));case"lineWidth":return u((function(t){return x.command("number"==typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],n.commandStr),t}),(function(t,n,e){return x.optional((function(){t.assert(n,"typeof "+e+'==="number"&&'+e+">="+i.lineWidthDims[0]+"&&"+e+"<="+i.lineWidthDims[1],"invalid line width")})),e}));case"frontFace":return u((function(t){return x.commandParameter(t,Qt,a,n.commandStr),Qt[t]}),(function(t,n,e){return x.optional((function(){t.assert(n,e+'==="cw"||'+e+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),n.def(e+'==="cw"?2304:2305')}));case"colorMask":return u((function(t){return x.command(J(t)&&4===t.length,"color.mask must be length 4 array",n.commandStr),t.map((function(t){return!!t}))}),(function(t,n,e){return x.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===4","invalid color.mask")})),j(4,(function(t){return"!!"+e+"["+t+"]"}))}));case"sample.coverage":return u((function(t){x.command("object"==typeof t&&t,a,n.commandStr);var e="value"in t?t.value:1,r=!!t.invert;return x.command("number"==typeof e&&e>=0&&e<=1,"sample.coverage.value must be a number between 0 and 1",n.commandStr),[e,r]}),(function(t,n,e){return x.optional((function(){t.assert(n,e+"&&typeof "+e+'==="object"',"invalid sample.coverage")})),[n.def('"value" in ',e,"?+",e,".value:1"),n.def("!!",e,".invert")]}))}})),o}(t,s),_=function(t){var n=t.static,r=t.dynamic;function i(t){if(t in n){var i=e.id(n[t]);x.optional((function(){l.shader(Zt[t],i,x.guessCommand())}));var o=en((function(){return i}));return o.id=i,o}if(t in r){var a=r[t];return rn(a,(function(n,e){var r=n.invoke(e,a),i=e.def(n.shared.strings,".id(",r,")");return x.optional((function(){e(n.shared.shader,".shader(",Zt[t],",",i,",",n.command,");")})),i}))}return null}var o,a=i(Ft),u=i(Lt),f=null;return nn(a)&&nn(u)?(f=l.program(u.id,a.id),o=en((function(t,n){return t.link(f)}))):o=new tn(a&&a.thisDep||u&&u.thisDep,a&&a.contextDep||u&&u.contextDep,a&&a.propDep||u&&u.propDep,(function(t,n){var e,r=t.shared.shader;e=a?a.append(t,n):n.def(r,".",Ft);var i=r+".program("+(u?u.append(t,n):n.def(r,".",Lt))+","+e;return x.optional((function(){i+=","+t.command})),n.def(i+")")})),{frag:a,vert:u,progVar:o,program:f}}(t);function w(t){var n=d[t];n&&(b[t]=n)}w("viewport"),w(S("scissor.box"));var A=Object.keys(b).length>0,E={framebuffer:p,draw:v,shader:_,state:b,dirty:A};return E.profile=function(t){var n,e=t.static,r=t.dynamic;if(Ot in e){var i=!!e[Ot];(n=en((function(t,n){return i}))).enable=i}else if(Ot in r){var o=r[Ot];n=rn(o,(function(t,n){return t.invoke(n,o)}))}return n}(t),E.uniforms=function(t,n){var e=t.static,r=t.dynamic,i={};return Object.keys(e).forEach((function(t){var r,o=e[t];if("number"==typeof o||"boolean"==typeof o)r=en((function(){return o}));else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=en((function(t){return t.link(o)})):"framebuffer"===a||"framebufferCube"===a?(x.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',n.commandStr),r=en((function(t){return t.link(o.color[0])}))):x.commandRaise('invalid data for uniform "'+t+'"',n.commandStr)}else J(o)?r=en((function(n){return n.global.def("[",j(o.length,(function(e){return x.command("number"==typeof o[e]||"boolean"==typeof o[e],"invalid uniform "+t,n.commandStr),o[e]})),"]")})):x.commandRaise('invalid or missing data for uniform "'+t+'"',n.commandStr);r.value=o,i[t]=r})),Object.keys(r).forEach((function(t){var n=r[t];i[t]=rn(n,(function(t,e){return t.invoke(e,n)}))})),i}(r,s),E.attributes=function(t,n){var r=t.static,i=t.dynamic,a={};return Object.keys(r).forEach((function(t){var i=r[t],u=e.id(t),f=new m;if(Jt(i))f.state=1,f.buffer=o.getBuffer(o.create(i,34962,!1,!0)),f.type=0;else{var s=o.getBuffer(i);if(s)f.state=1,f.buffer=s,f.type=0;else if(x.command("object"==typeof i&&i,"invalid data for attribute "+t,n.commandStr),"constant"in i){var c=i.constant;f.buffer="null",f.state=2,"number"==typeof c?f.x=c:(x.command(J(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+t,n.commandStr),Bt.forEach((function(t,n){n<c.length&&(f[t]=c[n])})))}else{s=Jt(i.buffer)?o.getBuffer(o.create(i.buffer,34962,!1,!0)):o.getBuffer(i.buffer),x.command(!!s,'missing buffer for attribute "'+t+'"',n.commandStr);var l=0|i.offset;x.command(l>=0,'invalid offset for attribute "'+t+'"',n.commandStr);var h=0|i.stride;x.command(h>=0&&h<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',n.commandStr);var p=0|i.size;x.command(!("size"in i)||p>0&&p<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',n.commandStr);var d=!!i.normalized,v=0;"type"in i&&(x.commandParameter(i.type,I,"invalid type for attribute "+t,n.commandStr),v=I[i.type]);var g=0|i.divisor;"divisor"in i&&(x.command(0===g||y,'cannot specify divisor for attribute "'+t+'", instancing not supported',n.commandStr),x.command(g>=0,'invalid divisor for attribute "'+t+'"',n.commandStr)),x.optional((function(){var e=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){x.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",e)}))})),f.buffer=s,f.state=1,f.size=p,f.normalized=d,f.type=v||s.dtype,f.offset=l,f.stride=h,f.divisor=g}}a[t]=en((function(t,n){var e=t.attribCache;if(u in e)return e[u];var r={isStream:!1};return Object.keys(f).forEach((function(t){r[t]=f[t]})),f.buffer&&(r.buffer=t.link(f.buffer),r.type=r.type||r.buffer+".dtype"),e[u]=r,r}))})),Object.keys(i).forEach((function(t){var n=i[t];a[t]=rn(n,(function(e,r){var i=e.invoke(r,n),o=e.shared,a=e.constants,u=o.isBufferArgs,f=o.buffer;x.optional((function(){e.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+u+"("+i+")||"+f+".getBuffer("+i+")||"+f+".getBuffer("+i+".buffer)||"+u+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')}));var s={isStream:r.def(!1)},c=new m;c.state=1,Object.keys(c).forEach((function(t){s[t]=r.def(""+c[t])}));var l=s.buffer,h=s.type;function p(t){r(s[t],"=",i,".",t,"|0;")}return r("if(",u,"(",i,")){",s.isStream,"=true;",l,"=",f,".createStream(",34962,",",i,");",h,"=",l,".dtype;","}else{",l,"=",f,".getBuffer(",i,");","if(",l,"){",h,"=",l,".dtype;",'}else if("constant" in ',i,"){",s.state,"=",2,";","if(typeof "+i+'.constant === "number"){',s[Bt[0]],"=",i,".constant;",Bt.slice(1).map((function(t){return s[t]})).join("="),"=0;","}else{",Bt.map((function(t,n){return s[t]+"="+i+".constant.length>"+n+"?"+i+".constant["+n+"]:0;"})).join(""),"}}else{","if(",u,"(",i,".buffer)){",l,"=",f,".createStream(",34962,",",i,".buffer);","}else{",l,"=",f,".getBuffer(",i,".buffer);","}",h,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",l,".dtype;",s.normalized,"=!!",i,".normalized;"),p("size"),p("offset"),p("stride"),p("divisor"),r("}}"),r.exit("if(",s.isStream,"){",f,".destroyStream(",l,");","}"),s}))})),a}(n,s),E.context=function(t){var n=t.static,e=t.dynamic,r={};return Object.keys(n).forEach((function(t){var e=n[t];r[t]=en((function(t,n){return"number"==typeof e||"boolean"==typeof e?""+e:t.link(e)}))})),Object.keys(e).forEach((function(t){var n=e[t];r[t]=rn(n,(function(t,e){return t.invoke(e,n)}))})),r}(u),E}function L(t,n,e){var r=t.shared.context,i=t.scope();Object.keys(e).forEach((function(o){n.save(r,"."+o);var a=e[o];i(r,".",o,"=",a.append(t,n),";")})),n(i)}function F(t,n,e,r){var i,o=t.shared,a=o.gl,u=o.framebuffer;b&&(i=n.def(o.extensions,".webgl_draw_buffers"));var f,s=t.constants,c=s.drawBuffer,l=s.backBuffer;f=e?e.append(t,n):n.def(u,".next"),r||n("if(",f,"!==",u,".cur){"),n("if(",f,"){",a,".bindFramebuffer(",36160,",",f,".framebuffer);"),b&&n(i,".drawBuffersWEBGL(",c,"[",f,".colorAttachments.length]);"),n("}else{",a,".bindFramebuffer(",36160,",null);"),b&&n(i,".drawBuffersWEBGL(",l,");"),n("}",u,".cur=",f,";"),r||n("}")}function N(t,n,e){var r=t.shared,i=r.gl,o=t.current,a=t.next,u=r.current,f=r.next,s=t.cond(u,".dirty");M.forEach((function(n){var r,c,l=S(n);if(!(l in e.state))if(l in a){r=a[l],c=o[l];var h=j(_[l].length,(function(t){return s.def(r,"[",t,"]")}));s(t.cond(h.map((function(t,n){return t+"!=="+c+"["+n+"]"})).join("||")).then(i,".",k[l],"(",h,");",h.map((function(t,n){return c+"["+n+"]="+t})).join(";"),";"))}else{r=s.def(f,".",l);var p=t.cond(r,"!==",u,".",l);s(p),l in A?p(t.cond(r).then(i,".enable(",A[l],");").else(i,".disable(",A[l],");"),u,".",l,"=",r,";"):p(i,".",k[l],"(",r,");",u,".",l,"=",r,";")}})),0===Object.keys(e.state).length&&s(u,".dirty=false;"),n(s)}function R(t,n,e,r){var i=t.shared,o=t.current,a=i.current,u=i.gl;Kt(Object.keys(e)).forEach((function(i){var f=e[i];if(!r||r(f)){var s=f.append(t,n);if(A[i]){var c=A[i];nn(f)?n(u,s?".enable(":".disable(",c,");"):n(t.cond(s).then(u,".enable(",c,");").else(u,".disable(",c,");")),n(a,".",i,"=",s,";")}else if(J(s)){var l=o[i];n(u,".",k[i],"(",s,");",s.map((function(t,n){return l+"["+n+"]="+t})).join(";"),";")}else n(u,".",k[i],"(",s,");",a,".",i,"=",s,";")}}))}function U(t,n){y&&(t.instancing=n.def(t.shared.extensions,".angle_instanced_arrays"))}function q(t,n,e,r,i){var o,a,u,f=t.shared,s=t.stats,c=f.current,l=f.timer,h=e.profile;function p(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function v(t){t(o=n.def(),"=",p(),";"),"string"==typeof i?t(s,".count+=",i,";"):t(s,".count++;"),d&&(r?t(a=n.def(),"=",l,".getNumPendingQueries();"):t(l,".beginQuery(",s,");"))}function m(t){t(s,".cpuTime+=",p(),"-",o,";"),d&&(r?t(l,".pushScopeStats(",a,",",l,".getNumPendingQueries(),",s,");"):t(l,".endQuery();"))}function g(t){var e=n.def(c,".profile");n(c,".profile=",t,";"),n.exit(c,".profile=",e,";")}if(h){if(nn(h))return void(h.enable?(v(n),m(n.exit),g("true")):g("false"));g(u=h.append(t,n))}else u=n.def(c,".profile");var y=t.block();v(y),n("if(",u,"){",y,"}");var b=t.block();m(b),n.exit("if(",u,"){",b,"}")}function W(t,n,e,r,i){var o=t.shared;r.forEach((function(r){var a,u=r.name,f=e.attributes[u];if(f){if(!i(f))return;a=f.append(t,n)}else{if(!i(on))return;var s=t.scopeAttrib(u);x.optional((function(){t.assert(n,s+".state","missing attribute "+u)})),a={},Object.keys(new m).forEach((function(t){a[t]=n.def(s,".",t)}))}!function(e,r,i){var a=o.gl,u=n.def(e,".location"),f=n.def(o.attributes,"[",u,"]"),s=i.state,c=i.buffer,l=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];function p(){n("if(!",f,".buffer){",a,".enableVertexAttribArray(",u,");}");var e,o=i.type;if(e=i.size?n.def(i.size,"||",r):r,n("if(",f,".type!==",o,"||",f,".size!==",e,"||",h.map((function(t){return f+"."+t+"!=="+i[t]})).join("||"),"){",a,".bindBuffer(",34962,",",c,".buffer);",a,".vertexAttribPointer(",[u,e,o,i.normalized,i.stride,i.offset],");",f,".type=",o,";",f,".size=",e,";",h.map((function(t){return f+"."+t+"="+i[t]+";"})).join(""),"}"),y){var s=i.divisor;n("if(",f,".divisor!==",s,"){",t.instancing,".vertexAttribDivisorANGLE(",[u,s],");",f,".divisor=",s,";}")}}function d(){n("if(",f,".buffer){",a,".disableVertexAttribArray(",u,");",f,".buffer=null;","}if(",Bt.map((function(t,n){return f+"."+t+"!=="+l[n]})).join("||"),"){",a,".vertexAttrib4f(",u,",",l,");",Bt.map((function(t,n){return f+"."+t+"="+l[n]+";"})).join(""),"}")}1===s?p():2===s?d():(n("if(",s,"===",1,"){"),p(),n("}else{"),d(),n("}"))}(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function Y(t,n,r,i,o){for(var a,u=t.shared,f=u.gl,s=0;s<i.length;++s){var c,l=i[s],h=l.name,p=l.info.type,d=r.uniforms[h],v=t.link(l)+".location";if(d){if(!o(d))continue;if(nn(d)){var m=d.value;if(x.command(null!=m,'missing uniform "'+h+'"',t.commandStr),35678===p||35680===p){x.command("function"==typeof m&&(35678===p&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||35680===p&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+h,t.commandStr);var g=t.link(m._texture||m.color[0]._texture);n(f,".uniform1i(",v,",",g+".bind());"),n.exit(g,".unbind();")}else if(35674===p||35675===p||35676===p){x.optional((function(){x.command(J(m),"invalid matrix for uniform "+h,t.commandStr),x.command(35674===p&&4===m.length||35675===p&&9===m.length||35676===p&&16===m.length,"invalid length for matrix uniform "+h,t.commandStr)}));var y=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),b=2;35675===p?b=3:35676===p&&(b=4),n(f,".uniformMatrix",b,"fv(",v,",false,",y,");")}else{switch(p){case 5126:x.commandType(m,"number","uniform "+h,t.commandStr),a="1f";break;case 35664:x.command(J(m)&&2===m.length,"uniform "+h,t.commandStr),a="2f";break;case 35665:x.command(J(m)&&3===m.length,"uniform "+h,t.commandStr),a="3f";break;case 35666:x.command(J(m)&&4===m.length,"uniform "+h,t.commandStr),a="4f";break;case 35670:x.commandType(m,"boolean","uniform "+h,t.commandStr),a="1i";break;case 5124:x.commandType(m,"number","uniform "+h,t.commandStr),a="1i";break;case 35671:case 35667:x.command(J(m)&&2===m.length,"uniform "+h,t.commandStr),a="2i";break;case 35672:case 35668:x.command(J(m)&&3===m.length,"uniform "+h,t.commandStr),a="3i";break;case 35673:case 35669:x.command(J(m)&&4===m.length,"uniform "+h,t.commandStr),a="4i"}n(f,".uniform",a,"(",v,",",J(m)?Array.prototype.slice.call(m):m,");")}continue}c=d.append(t,n)}else{if(!o(on))continue;c=n.def(u.uniforms,"[",e.id(h),"]")}35678===p?n("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}"):35680===p&&n("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}"),x.optional((function(){function e(e,r){t.assert(n,e,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){e("typeof "+c+'==="'+t+'"',"invalid type, expected "+t)}function i(n,r){e(u.isArrayLike+"("+c+")&&"+c+".length==="+n,"invalid vector, should have length "+n,t.commandStr)}function o(n){e("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(3553===n?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(p){case 5124:r("number");break;case 35667:i(2);break;case 35668:i(3);break;case 35669:i(4);break;case 5126:r("number");break;case 35664:i(2);break;case 35665:i(3);break;case 35666:i(4);break;case 35670:r("boolean");break;case 35671:i(2);break;case 35672:i(3);break;case 35673:case 35674:i(4);break;case 35675:i(9);break;case 35676:i(16);break;case 35678:o(3553);break;case 35680:o(34067)}}));var _=1;switch(p){case 35678:case 35680:var w=n.def(c,"._texture");n(f,".uniform1i(",v,",",w,".bind());"),n.exit(w,".unbind();");continue;case 5124:case 35670:a="1i";break;case 35667:case 35671:a="2i",_=2;break;case 35668:case 35672:a="3i",_=3;break;case 35669:case 35673:a="4i",_=4;break;case 5126:a="1f";break;case 35664:a="2f",_=2;break;case 35665:a="3f",_=3;break;case 35666:a="4f",_=4;break;case 35674:a="Matrix2fv";break;case 35675:a="Matrix3fv";break;case 35676:a="Matrix4fv"}if(n(f,".uniform",a,"(",v,","),"M"===a.charAt(0)){var M=Math.pow(p-35674+2,2),A=t.global.def("new Float32Array(",M,")");n("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",j(M,(function(t){return A+"["+t+"]="+c+"["+t+"]"})),",",A,")")}else n(_>1?j(_,(function(t){return c+"["+t+"]"})):c);n(");")}}function H(t,n,e,r){var i=t.shared,o=i.gl,a=i.draw,u=r.draw,f=function(){var i,f=u.elements,s=n;return f?((f.contextDep&&r.contextDynamic||f.propDep)&&(s=e),i=f.append(t,s)):i=s.def(a,".",Nt),i&&s("if("+i+")"+o+".bindBuffer(34963,"+i+".buffer.buffer);"),i}();function s(i){var o=u[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,e):o.append(t,n):n.def(a,".",i)}var c,l,h=s(Rt),p=s(Ut),d=function(){var i,o=u.count,f=n;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(f=e),i=o.append(t,f),x.optional((function(){o.MISSING&&t.assert(n,"false","missing vertex count"),o.DYNAMIC&&t.assert(f,i+">=0","missing vertex count")}))):(i=f.def(a,".",It),x.optional((function(){t.assert(f,i+">=0","missing vertex count")}))),i}();if("number"==typeof d){if(0===d)return}else e("if(",d,"){"),e.exit("}");y&&(c=s(qt),l=t.instancing);var v=f+".type",m=u.elements&&nn(u.elements);function g(){function t(){e(l,".drawElementsInstancedANGLE(",[h,d,v,p+"<<(("+v+"-5121)>>1)",c],");")}function n(){e(l,".drawArraysInstancedANGLE(",[h,p,d,c],");")}f?m?t():(e("if(",f,"){"),t(),e("}else{"),n(),e("}")):n()}function b(){function t(){e(o+".drawElements("+[h,d,v,p+"<<(("+v+"-5121)>>1)"]+");")}function n(){e(o+".drawArrays("+[h,p,d]+");")}f?m?t():(e("if(",f,"){"),t(),e("}else{"),n(),e("}")):n()}y&&("number"!=typeof c||c>=0)?"string"==typeof c?(e("if(",c,">0){"),g(),e("}else if(",c,"<0){"),b(),e("}")):g():b()}function $(t,n,e,r,i){var o=O(),a=o.proc("body",i);return x.optional((function(){o.commandStr=n.commandStr,o.command=o.link(n.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,e,r),o.compile().body}function V(t,n,e,r){U(t,n),W(t,n,e,r.attributes,(function(){return!0})),Y(t,n,e,r.uniforms,(function(){return!0})),H(t,n,n,e)}function X(t,n,e,r){function i(){return!0}t.batchId="a1",U(t,n),W(t,n,e,r.attributes,i),Y(t,n,e,r.uniforms,i),H(t,n,n,e)}function Z(t,n,e,r){U(t,n);var i=e.contextDep,o=n.def(),a=n.def();t.shared.props=a,t.batchId=o;var u=t.scope(),f=t.scope();function s(t){return t.contextDep&&i||t.propDep}function c(t){return!s(t)}if(n(u.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",f,"}",u.exit),e.needsContext&&L(t,f,e.context),e.needsFramebuffer&&F(t,f,e.framebuffer),R(t,f,e.state,s),e.profile&&s(e.profile)&&q(t,f,e,!1,!0),r)W(t,u,e,r.attributes,c),W(t,f,e,r.attributes,s),Y(t,u,e,r.uniforms,c),Y(t,f,e,r.uniforms,s),H(t,u,f,e);else{var l=t.global.def("{}"),h=e.shader.progVar.append(t,f),p=f.def(h,".id"),d=f.def(l,"[",p,"]");f(t.shared.gl,".useProgram(",h,".program);","if(!",d,"){",d,"=",l,"[",p,"]=",t.link((function(n){return $(X,t,e,n,2)})),"(",h,");}",d,".call(this,a0[",o,"],",o,");")}}function Q(t,n,e){var r=n.static[e];if(r&&function(t){if("object"==typeof t&&!J(t)){for(var n=Object.keys(t),e=0;e<n.length;++e)if(E.isDynamic(t[n[e]]))return!0;return!1}}(r)){var i=t.global,o=Object.keys(r),a=!1,u=!1,f=!1,s=t.global.def("{}");o.forEach((function(n){var e=r[n];if(E.isDynamic(e)){"function"==typeof e&&(e=r[n]=E.unbox(e));var o=rn(e,null);a=a||o.thisDep,f=f||o.propDep,u=u||o.contextDep}else{switch(i(s,".",n,"="),typeof e){case"number":i(e);break;case"string":i('"',e,'"');break;case"object":Array.isArray(e)&&i("[",e.join(),"]");break;default:i(t.link(e))}i(";")}})),n.dynamic[e]=new E.DynamicVariable(4,{thisDep:a,contextDep:u,propDep:f,ref:s,append:function(t,n){o.forEach((function(e){var i=r[e];if(E.isDynamic(i)){var o=t.invoke(n,i);n(s,".",e,"=",o,";")}}))}}),delete n.static[e]}}return{next:w,current:_,procs:function(){var t=O(),n=t.proc("poll"),e=t.proc("refresh"),r=t.block();n(r),e(r);var o,a=t.shared,u=a.gl,f=a.next,s=a.current;r(s,".dirty=false;"),F(t,n),F(t,e,null,!0),y&&(o=t.link(y));for(var c=0;c<i.maxAttributes;++c){var l=e.def(a.attributes,"[",c,"]"),h=t.cond(l,".buffer");h.then(u,".enableVertexAttribArray(",c,");",u,".bindBuffer(",34962,",",l,".buffer.buffer);",u,".vertexAttribPointer(",c,",",l,".size,",l,".type,",l,".normalized,",l,".stride,",l,".offset);").else(u,".disableVertexAttribArray(",c,");",u,".vertexAttrib4f(",c,",",l,".x,",l,".y,",l,".z,",l,".w);",l,".buffer=null;"),e(h),y&&e(o,".vertexAttribDivisorANGLE(",c,",",l,".divisor);")}return Object.keys(A).forEach((function(i){var o=A[i],a=r.def(f,".",i),c=t.block();c("if(",a,"){",u,".enable(",o,")}else{",u,".disable(",o,")}",s,".",i,"=",a,";"),e(c),n("if(",a,"!==",s,".",i,"){",c,"}")})),Object.keys(k).forEach((function(i){var o,a,c=k[i],l=_[i],h=t.block();if(h(u,".",c,"("),J(l)){var p=l.length;o=t.global.def(f,".",i),a=t.global.def(s,".",i),h(j(p,(function(t){return o+"["+t+"]"})),");",j(p,(function(t){return a+"["+t+"]="+o+"["+t+"];"})).join("")),n("if(",j(p,(function(t){return o+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",h,"}")}else o=r.def(f,".",i),a=r.def(s,".",i),h(o,");",s,".",i,"=",o,";"),n("if(",o,"!==",a,"){",h,"}");e(h)})),t.compile()}(),compile:function(t,n,r,i,o){var a=O();a.stats=a.link(o),Object.keys(n.static).forEach((function(t){Q(a,n,t)})),Ht.forEach((function(n){Q(a,t,n)}));var u=P(t,n,r,i,a);return function(t,n){var e=t.proc("draw",1);U(t,e),L(t,e,n.context),F(t,e,n.framebuffer),N(t,e,n),R(t,e,n.state),q(t,e,n,!1,!0);var r=n.shader.progVar.append(t,e);if(e(t.shared.gl,".useProgram(",r,".program);"),n.shader.program)V(t,e,n,n.shader.program);else{var i=t.global.def("{}"),o=e.def(r,".id"),a=e.def(i,"[",o,"]");e(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(e){return $(V,t,n,e,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(n.state).length>0&&e(t.shared.current,".dirty=true;")}(a,u),function(t,n){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function a(e){var o=n.shader[e];o&&r.set(i.shader,"."+e,o.append(t,r))}L(t,r,n.context),n.framebuffer&&n.framebuffer.append(t,r),Kt(Object.keys(n.state)).forEach((function(e){var o=n.state[e].append(t,r);J(o)?o.forEach((function(n,i){r.set(t.next[e],"["+i+"]",n)})):r.set(i.next,"."+e,o)})),q(t,r,n,!0,!0),[Nt,Ut,It,qt,Rt].forEach((function(e){var o=n.draw[e];o&&r.set(i.draw,"."+e,""+o.append(t,r))})),Object.keys(n.uniforms).forEach((function(o){r.set(i.uniforms,"["+e.id(o)+"]",n.uniforms[o].append(t,r))})),Object.keys(n.attributes).forEach((function(e){var i=n.attributes[e].append(t,r),o=t.scopeAttrib(e);Object.keys(new m).forEach((function(t){r.set(o,"."+t,i[t])}))})),a(Lt),a(Ft),Object.keys(n.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(a,u),function(t,n){var e=t.proc("batch",2);t.batchId="0",U(t,e);var r=!1,i=!0;Object.keys(n.context).forEach((function(t){r=r||n.context[t].propDep})),r||(L(t,e,n.context),i=!1);var o=n.framebuffer,a=!1;function u(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||F(t,e,o)):F(t,e,null),n.state.viewport&&n.state.viewport.propDep&&(r=!0),N(t,e,n),R(t,e,n.state,(function(t){return!u(t)})),n.profile&&u(n.profile)||q(t,e,n,!1,"a1"),n.contextDep=r,n.needsContext=i,n.needsFramebuffer=a;var f=n.shader.progVar;if(f.contextDep&&r||f.propDep)Z(t,e,n,null);else{var s=f.append(t,e);if(e(t.shared.gl,".useProgram(",s,".program);"),n.shader.program)Z(t,e,n,n.shader.program);else{var c=t.global.def("{}"),l=e.def(s,".id"),h=e.def(c,"[",l,"]");e(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",c,"[",l,"]=",t.link((function(e){return $(Z,t,n,e,2)})),"(",s,");",h,".call(this,a0,a1);"))}}Object.keys(n.state).length>0&&e(t.shared.current,".dirty=true;")}(a,u),a.compile()}}}var un=function(t,n){if(!n.ext_disjoint_timer_query)return null;var e=[];function r(t){e.push(t)}var i=[];function o(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function u(t){a.push(t)}var f=[];function s(t,n,e){var r=a.pop()||new o;r.startQueryIndex=t,r.endQueryIndex=n,r.sum=0,r.stats=e,f.push(r)}var c=[],l=[];return{beginQuery:function(t){var r=e.pop()||n.ext_disjoint_timer_query.createQueryEXT();n.ext_disjoint_timer_query.beginQueryEXT(35007,r),i.push(r),s(i.length-1,i.length,t)},endQuery:function(){n.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:s,update:function(){var t,e,o=i.length;if(0!==o){l.length=Math.max(l.length,o+1),c.length=Math.max(c.length,o+1),c[0]=0,l[0]=0;var a=0;for(t=0,e=0;e<i.length;++e){var s=i[e];n.ext_disjoint_timer_query.getQueryObjectEXT(s,34919)?(a+=n.ext_disjoint_timer_query.getQueryObjectEXT(s,34918),r(s)):i[t++]=s,c[e+1]=a,l[e+1]=t}for(i.length=t,t=0,e=0;e<f.length;++e){var h=f[e],p=h.startQueryIndex,d=h.endQueryIndex;h.sum+=c[d]-c[p];var v=l[p],m=l[d];m===v?(h.stats.gpuTime+=h.sum/1e6,u(h)):(h.startQueryIndex=v,h.endQueryIndex=m,f[t++]=h)}f.length=t}},getNumPendingQueries:function(){return i.length},clear:function(){e.push.apply(e,i);for(var t=0;t<e.length;t++)n.ext_disjoint_timer_query.deleteQueryEXT(e[t]);i.length=0,e.length=0},restore:function(){i.length=0,e.length=0}}};function fn(t,n){for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1}return function(e){var r=z(e);if(!r)return null;var i=r.gl,o=i.getContextAttributes(),a=i.isContextLost(),u=function(t,n){var e={};function r(n){x.type(n,"string","extension name must be string");var r,i=n.toLowerCase();try{r=e[i]=t.getExtension(i)}catch(t){}return!!r}for(var i=0;i<n.extensions.length;++i){var o=n.extensions[i];if(!r(o))return n.onDestroy(),n.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return n.optionalExtensions.forEach(r),{extensions:e,restore:function(){Object.keys(e).forEach((function(t){if(e[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}(i,r);if(!u)return null;var f,s,c=(f={"":0},s=[""],{id:function(t){var n=f[t];return n||(n=f[t]=s.length,s.push(t),n)},str:function(t){return s[t]}}),l={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},h=u.extensions,p=un(0,h),d=S(),v=i.drawingBufferWidth,m=i.drawingBufferHeight,g={tick:0,time:0,viewportWidth:v,viewportHeight:m,framebufferWidth:v,framebufferHeight:m,drawingBufferWidth:v,drawingBufferHeight:m,pixelRatio:r.pixelRatio},y=function(t,n){var e=1;n.ext_texture_filter_anisotropic&&(e=t.getParameter(34047));var r=1,i=1;n.webgl_draw_buffers&&(r=t.getParameter(34852),i=t.getParameter(36063));var o=!!n.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=t.createFramebuffer();if(t.bindFramebuffer(36160,u),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var f=O.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,f),t.getError()?o=!1:(t.deleteFramebuffer(u),t.deleteTexture(a),o=1===f[0]),O.freeType(f)}}var s=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=t.createTexture(),l=O.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,c),t.texImage2D(34069,0,6408,3,3,0,6408,5121,l),O.freeType(l),t.bindTexture(34067,null),t.deleteTexture(c),s=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(n).filter((function(t){return!!n[t]})),maxAnisotropic:e,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:s}}(i,h),b=function(t,n,e,r){for(var i=e.maxAttributes,o=new Array(i),a=0;a<i;++a)o[a]=new Ct;return{Record:Ct,scope:{},state:o}}(0,0,y),_=function(n,e,r,i){var o=0,a={};function u(t){this.id=o++,this.buffer=n.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){n.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){l(this)};var f=[];function s(t,e,r){t.byteLength=e.byteLength,n.bufferData(t.type,e,r)}function c(n,e,r,i,o,a){var u,f;if(n.usage=r,Array.isArray(e)){if(n.dtype=i||5126,e.length>0)if(Array.isArray(e[0])){u=W(e);for(var c=1,l=1;l<u.length;++l)c*=u[l];n.dimension=c,s(n,f=q(e,u,n.dtype),r),a?n.persistentData=f:O.freeType(f)}else if("number"==typeof e[0]){n.dimension=o;var h=O.allocType(n.dtype,e.length);$(h,e),s(n,h,r),a?n.persistentData=h:O.freeType(h)}else t(e[0])?(n.dimension=e[0].length,n.dtype=i||H(e[0])||5126,s(n,f=q(e,[e.length,e[0].length],n.dtype),r),a?n.persistentData=f:O.freeType(f)):x.raise("invalid buffer data")}else if(t(e))n.dtype=i||H(e),n.dimension=o,s(n,e,r),a&&(n.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(P(e)){u=e.shape;var p=e.stride,d=e.offset,v=0,m=0,g=0,y=0;1===u.length?(v=u[0],m=1,g=p[0],y=0):2===u.length?(v=u[0],m=u[1],g=p[0],y=p[1]):x.raise("invalid shape"),n.dtype=i||H(e.data)||5126,n.dimension=m;var b=O.allocType(n.dtype,v*m);V(b,e.data,v,m,g,y,d),s(n,b,r),a?n.persistentData=b:O.freeType(b)}else e instanceof ArrayBuffer?(n.dtype=5121,n.dimension=o,s(n,e,r),a&&(n.persistentData=new Uint8Array(new Uint8Array(e)))):x.raise("invalid buffer data")}function l(t){e.bufferCount--;for(var r=0;r<i.state.length;++r){var o=i.state[r];o.buffer===t&&(n.disableVertexAttribArray(r),o.buffer=null)}var u=t.buffer;x(u,"buffer must not be deleted already"),n.deleteBuffer(u),t.buffer=null,delete a[t.id]}return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(n){t+=a[n].stats.size})),t}),{create:function(i,o,f,s){e.bufferCount++;var h=new u(o);function p(e){var i=35044,o=null,a=0,u=0,f=1;return Array.isArray(e)||t(e)||P(e)||e instanceof ArrayBuffer?o=e:"number"==typeof e?a=0|e:e&&(x.type(e,"object","buffer arguments must be an object, a number or an array"),"data"in e&&(x(null===o||Array.isArray(o)||t(o)||P(o),"invalid data for buffer"),o=e.data),"usage"in e&&(x.parameter(e.usage,U,"invalid buffer usage"),i=U[e.usage]),"type"in e&&(x.parameter(e.type,I,"invalid buffer type"),u=I[e.type]),"dimension"in e&&(x.type(e.dimension,"number","invalid dimension"),f=0|e.dimension),"length"in e&&(x.nni(a,"buffer length must be a nonnegative integer"),a=0|e.length)),h.bind(),o?c(h,o,i,u,f,s):(a&&n.bufferData(h.type,a,i),h.dtype=u||5121,h.usage=i,h.dimension=f,h.byteLength=a),r.profile&&(h.stats.size=h.byteLength*Y[h.dtype]),p}function d(t,e){x(e+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+e+" to a buffer of size "+h.byteLength),n.bufferSubData(h.type,e,t)}return a[h.id]=h,f||p(i),p._reglType="buffer",p._buffer=h,p.subdata=function(n,e){var r,i=0|(e||0);if(h.bind(),t(n)||n instanceof ArrayBuffer)d(n,i);else if(Array.isArray(n)){if(n.length>0)if("number"==typeof n[0]){var o=O.allocType(h.dtype,n.length);$(o,n),d(o,i),O.freeType(o)}else if(Array.isArray(n[0])||t(n[0])){r=W(n);var a=q(n,r,h.dtype);d(a,i),O.freeType(a)}else x.raise("invalid buffer data")}else if(P(n)){r=n.shape;var u=n.stride,f=0,s=0,c=0,l=0;1===r.length?(f=r[0],s=1,c=u[0],l=0):2===r.length?(f=r[0],s=r[1],c=u[0],l=u[1]):x.raise("invalid shape");var v=Array.isArray(n.data)?h.dtype:H(n.data),m=O.allocType(v,f*s);V(m,n.data,f,s,c,l,n.offset),d(m,i),O.freeType(m)}else x.raise("invalid data for buffer subdata");return p},r.profile&&(p.stats=h.stats),p.destroy=function(){l(h)},p},createStream:function(t,n){var e=f.pop();return e||(e=new u(t)),e.bind(),c(e,n,35040,0,1,!1),e},destroyStream:function(t){f.push(t)},clear:function(){L(a).forEach(l),f.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof u?t._buffer:null},restore:function(){L(a).forEach((function(t){t.buffer=n.createBuffer(),n.bindBuffer(t.type,t.buffer),n.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:c}}(i,l,r,b),w=function(n,e,r,i){var o={},a=0,u={uint8:5121,uint16:5123};function f(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=4,this.vertCount=0,this.type=0}e.oes_element_index_uint&&(u.uint32=5125),f.prototype.bind=function(){this.buffer.bind()};var s=[];function c(i,o,a,u,f,s,c){if(i.buffer.bind(),o){var l=c;c||t(o)&&(!P(o)||t(o.data))||(l=e.oes_element_index_uint?5125:5123),r._initBuffer(i.buffer,o,a,l,3)}else n.bufferData(34963,s,a),i.buffer.dtype=h||5121,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=s;var h=c;if(!c){switch(i.buffer.dtype){case 5121:case 5120:h=5121;break;case 5123:case 5122:h=5123;break;case 5125:case 5124:h=5125;break;default:x.raise("unsupported type for element array")}i.buffer.dtype=h}i.type=h,x(5125!==h||!!e.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var p=f;p<0&&(p=i.buffer.byteLength,5123===h?p>>=1:5125===h&&(p>>=2)),i.vertCount=p;var d=u;if(u<0){d=4;var v=i.buffer.dimension;1===v&&(d=0),2===v&&(d=1),3===v&&(d=4)}i.primType=d}function l(t){i.elementsCount--,x(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(n,e){var o=r.create(null,34963,!0),a=new f(o._buffer);function s(n){if(n)if("number"==typeof n)o(n),a.primType=4,a.vertCount=0|n,a.type=5121;else{var e=null,r=35044,i=-1,f=-1,l=0,h=0;Array.isArray(n)||t(n)||P(n)?e=n:(x.type(n,"object","invalid arguments for elements"),"data"in n&&(e=n.data,x(Array.isArray(e)||t(e)||P(e),"invalid data for element buffer")),"usage"in n&&(x.parameter(n.usage,U,"invalid element buffer usage"),r=U[n.usage]),"primitive"in n&&(x.parameter(n.primitive,G,"invalid element buffer primitive"),i=G[n.primitive]),"count"in n&&(x("number"==typeof n.count&&n.count>=0,"invalid vertex count for elements"),f=0|n.count),"type"in n&&(x.parameter(n.type,u,"invalid buffer type"),h=u[n.type]),"length"in n?l=0|n.length:(l=f,5123===h||5122===h?l*=2:5125!==h&&5124!==h||(l*=4))),c(a,e,r,i,f,l,h)}else o(),a.primType=4,a.vertCount=0,a.type=5121;return s}return i.elementsCount++,s(n),s._reglType="elements",s._elements=a,s.subdata=function(t,n){return o.subdata(t,n),s},s.destroy=function(){l(a)},s},createStream:function(t){var n=s.pop();return n||(n=new f(r.create(null,34963,!0,!1)._buffer)),c(n,t,35040,-1,-1,0,0),n},destroyStream:function(t){s.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof f?t._elements:null},clear:function(){L(o).forEach(l)}}}(i,h,_,l),M=function(t,n,e,r){var i={},o={};function a(t,n,e,r){this.name=t,this.id=n,this.location=e,this.info=r}function u(t,n){for(var e=0;e<t.length;++e)if(t[e].id===n.id)return void(t[e].location=n.location);t.push(n)}function f(e,r,a){var u=35632===e?i:o,f=u[r];if(!f){var s=n.str(r);f=t.createShader(e),t.shaderSource(f,s),t.compileShader(f),x.shaderError(t,f,s,e,a),u[r]=f}return f}var s={},c=[],l=0;function h(t,n){this.id=l++,this.fragId=t,this.vertId=n,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(e,i){var o,s,c=f(35632,e.fragId),l=f(35633,e.vertId),h=e.program=t.createProgram();t.attachShader(h,c),t.attachShader(h,l),t.linkProgram(h),x.linkError(t,h,n.str(e.fragId),n.str(e.vertId),i);var p=t.getProgramParameter(h,35718);r.profile&&(e.stats.uniformsCount=p);var d=e.uniforms;for(o=0;o<p;++o)if(s=t.getActiveUniform(h,o))if(s.size>1)for(var v=0;v<s.size;++v){var m=s.name.replace("[0]","["+v+"]");u(d,new a(m,n.id(m),t.getUniformLocation(h,m),s))}else u(d,new a(s.name,n.id(s.name),t.getUniformLocation(h,s.name),s));var g=t.getProgramParameter(h,35721);r.profile&&(e.stats.attributesCount=g);var y=e.attributes;for(o=0;o<g;++o)(s=t.getActiveAttrib(h,o))&&u(y,new a(s.name,n.id(s.name),t.getAttribLocation(h,s.name),s))}return r.profile&&(e.getMaxUniformsCount=function(){var t=0;return c.forEach((function(n){n.stats.uniformsCount>t&&(t=n.stats.uniformsCount)})),t},e.getMaxAttributesCount=function(){var t=0;return c.forEach((function(n){n.stats.attributesCount>t&&(t=n.stats.attributesCount)})),t}),{clear:function(){var n=t.deleteShader.bind(t);L(i).forEach(n),i={},L(o).forEach(n),o={},c.forEach((function(n){t.deleteProgram(n.program)})),c.length=0,s={},e.shaderCount=0},program:function(t,n,r){x.command(t>=0,"missing vertex shader",r),x.command(n>=0,"missing fragment shader",r);var i=s[n];i||(i=s[n]={});var o=i[t];return o||(o=new h(n,t),e.shaderCount++,p(o,r),i[t]=o,c.push(o)),o},restore:function(){i={},o={};for(var t=0;t<c.length;++t)p(c[t])},shader:f,frag:-1,vert:-1}}(i,c,l,r),A=_t(i,h,y,(function(){j.procs.poll()}),g,l,r),T=function(t,n,e,r,i){var o={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};n.ext_srgb&&(o.srgba=35907),n.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),n.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach((function(t){var n=o[t];a[n]=t}));var u=0,f={};function s(t){this.id=u++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(n){var e=n.renderbuffer;x(e,"must not double destroy renderbuffer"),t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(e),n.renderbuffer=null,n.refCount=0,delete f[n.id],r.renderbufferCount--}return s.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(f).forEach((function(n){t+=f[n].stats.size})),t}),{create:function(n,u){var c=new s(t.createRenderbuffer());function l(n,r){var u=0,f=0,s=32854;if("object"==typeof n&&n){var h=n;if("shape"in h){var p=h.shape;x(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),u=0|p[0],f=0|p[1]}else"radius"in h&&(u=f=0|h.radius),"width"in h&&(u=0|h.width),"height"in h&&(f=0|h.height);"format"in h&&(x.parameter(h.format,o,"invalid renderbuffer format"),s=o[h.format])}else"number"==typeof n?(u=0|n,f="number"==typeof r?0|r:u):n?x.raise("invalid arguments to renderbuffer constructor"):u=f=1;if(x(u>0&&f>0&&u<=e.maxRenderbufferSize&&f<=e.maxRenderbufferSize,"invalid renderbuffer size"),u!==c.width||f!==c.height||s!==c.format)return l.width=c.width=u,l.height=c.height=f,c.format=s,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,s,u,f),x(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=Mt(c.format,c.width,c.height)),l.format=a[c.format],l}return f[c.id]=c,r.renderbufferCount++,l(n,u),l.resize=function(n,r){var o=0|n,a=0|r||o;return o===c.width&&a===c.height?l:(x(o>0&&a>0&&o<=e.maxRenderbufferSize&&a<=e.maxRenderbufferSize,"invalid renderbuffer size"),l.width=c.width=o,l.height=c.height=a,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,c.format,o,a),x(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=Mt(c.format,c.width,c.height)),l)},l._reglType="renderbuffer",l._renderbuffer=c,i.profile&&(l.stats=c.stats),l.destroy=function(){c.decRef()},l},clear:function(){L(f).forEach(c)},restore:function(){L(f).forEach((function(n){n.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,n.renderbuffer),t.renderbufferStorage(36161,n.format,n.width,n.height)})),t.bindRenderbuffer(36161,null)}}}(i,h,y,l,r),C=function(t,e,r,i,o,a){var u={cur:null,next:null,dirty:!1,setFBO:null},f=["rgba"],s=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&s.push("srgba"),e.ext_color_buffer_half_float&&s.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&s.push("rgba32f");var c=["uint8"];function l(t,n,e){this.target=t,this.texture=n,this.renderbuffer=e;var r=0,i=0;n?(r=n.width,i=n.height):e&&(r=e.width,i=e.height),this.width=r,this.height=i}function h(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function p(t,n,e){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);x(i===n&&o===e,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;x(a.width===n&&a.height===e,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function d(n,e){e&&(e.texture?t.framebufferTexture2D(36160,n,e.target,e.texture._texture.texture,0):t.framebufferRenderbuffer(36160,n,36161,e.renderbuffer._renderbuffer.renderbuffer))}function v(t){var n=3553,e=null,r=null,i=t;"object"==typeof t&&(i=t.data,"target"in t&&(n=0|t.target)),x.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(e=i,x(3553===n)):"textureCube"===o?(e=i,x(n>=34069&&n<34075,"invalid cube map target")):"renderbuffer"===o?(r=i,n=36161):x.raise("invalid regl object for attachment"),new l(n,e,r)}function m(t,n,e,r,a){if(e){var u=i.create2D({width:t,height:n,format:r,type:a});return u._texture.refCount=0,new l(3553,u,null)}var f=o.create({width:t,height:n,format:r});return f._renderbuffer.refCount=0,new l(36161,null,f)}function g(t){return t&&(t.texture||t.renderbuffer)}function y(t,n,e){t&&(t.texture?t.texture.resize(n,e):t.renderbuffer&&t.renderbuffer.resize(n,e),t.width=n,t.height=e)}e.oes_texture_half_float&&c.push("half float","float16"),e.oes_texture_float&&c.push("float","float32");var b=0,_={};function w(){this.id=b++,_[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function M(t){t.colorAttachments.forEach(h),h(t.depthAttachment),h(t.stencilAttachment),h(t.depthStencilAttachment)}function A(n){var e=n.framebuffer;x(e,"must not double destroy framebuffer"),t.deleteFramebuffer(e),n.framebuffer=null,a.framebufferCount--,delete _[n.id]}function E(n){var e;t.bindFramebuffer(36160,n.framebuffer);var i=n.colorAttachments;for(e=0;e<i.length;++e)d(36064+e,i[e]);for(e=i.length;e<r.maxColorAttachments;++e)t.framebufferTexture2D(36160,36064+e,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),d(36096,n.depthAttachment),d(36128,n.stencilAttachment),d(33306,n.depthStencilAttachment);var o=t.checkFramebufferStatus(36160);t.isContextLost()||36053===o||x.raise("framebuffer configuration not supported, status = "+Tt[o]),t.bindFramebuffer(36160,u.next?u.next.framebuffer:null),u.cur=u.next,t.getError()}function k(t,i){var o=new w;function l(t,n){var i;x(u.next!==o,"can not update framebuffer which is currently in use");var a=0,h=0,d=!0,y=!0,b=null,_=!0,w="rgba",A="uint8",k=1,S=null,T=null,C=null,z=!1;if("number"==typeof t)a=0|t,h=0|n||a;else if(t){x.type(t,"object","invalid arguments for framebuffer");var j=t;if("shape"in j){var D=j.shape;x(Array.isArray(D)&&D.length>=2,"invalid shape for framebuffer"),a=D[0],h=D[1]}else"radius"in j&&(a=h=j.radius),"width"in j&&(a=j.width),"height"in j&&(h=j.height);("color"in j||"colors"in j)&&(b=j.color||j.colors,Array.isArray(b)&&x(1===b.length||e.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in j&&(k=0|j.colorCount,x(k>0,"invalid color buffer count")),"colorTexture"in j&&(_=!!j.colorTexture,w="rgba4"),"colorType"in j&&(A=j.colorType,_?(x(e.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),x(e.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(x(e.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==A&&"float32"!==A||(x(e.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),x.oneOf(A,c,"invalid color type")),"colorFormat"in j&&(w=j.colorFormat,f.indexOf(w)>=0?_=!0:s.indexOf(w)>=0?_=!1:_?x.oneOf(j.colorFormat,f,"invalid color format for texture"):x.oneOf(j.colorFormat,s,"invalid color format for renderbuffer"))),("depthTexture"in j||"depthStencilTexture"in j)&&(z=!(!j.depthTexture&&!j.depthStencilTexture),x(!z||e.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"==typeof j.depth?d=j.depth:(S=j.depth,y=!1)),"stencil"in j&&("boolean"==typeof j.stencil?y=j.stencil:(T=j.stencil,d=!1)),"depthStencil"in j&&("boolean"==typeof j.depthStencil?d=y=j.depthStencil:(C=j.depthStencil,d=!1,y=!1))}else a=h=1;var B=null,O=null,P=null,L=null;if(Array.isArray(b))B=b.map(v);else if(b)B=[v(b)];else for(B=new Array(k),i=0;i<k;++i)B[i]=m(a,h,_,w,A);x(e.webgl_draw_buffers||B.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),x(B.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||B[0].width,h=h||B[0].height,S?O=v(S):d&&!y&&(O=m(a,h,z,"depth","uint32")),T?P=v(T):y&&!d&&(P=m(a,h,!1,"stencil","uint8")),C?L=v(C):!S&&!T&&y&&d&&(L=m(a,h,z,"depth stencil","depth stencil")),x(!!S+!!T+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var F=null;for(i=0;i<B.length;++i)if(p(B[i],a,h),x(!B[i]||B[i].texture&&At.indexOf(B[i].texture._texture.format)>=0||B[i].renderbuffer&&St.indexOf(B[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),B[i]&&B[i].texture){var N=Et[B[i].texture._texture.format]*kt[B[i].texture._texture.type];null===F?F=N:x(F===N,"all color attachments much have the same number of bits per pixel.")}return p(O,a,h),x(!O||O.texture&&6402===O.texture._texture.format||O.renderbuffer&&33189===O.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),p(P,a,h),x(!P||P.renderbuffer&&36168===P.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),p(L,a,h),x(!L||L.texture&&34041===L.texture._texture.format||L.renderbuffer&&34041===L.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),M(o),o.width=a,o.height=h,o.colorAttachments=B,o.depthAttachment=O,o.stencilAttachment=P,o.depthStencilAttachment=L,l.color=B.map(g),l.depth=g(O),l.stencil=g(P),l.depthStencil=g(L),l.width=o.width,l.height=o.height,E(o),l}return a.framebufferCount++,l(t,i),n(l,{resize:function(t,n){x(u.next!==o,"can not resize a framebuffer which is currently in use");var e=Math.max(0|t,1),r=Math.max(0|n||e,1);if(e===o.width&&r===o.height)return l;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],e,r);return y(o.depthAttachment,e,r),y(o.stencilAttachment,e,r),y(o.depthStencilAttachment,e,r),o.width=l.width=e,o.height=l.height=r,E(o),l},_reglType:"framebuffer",_framebuffer:o,destroy:function(){A(o),M(o)},use:function(t){u.setFBO({framebuffer:l},t)}})}return n(u,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var n=t._framebuffer;if(n instanceof w)return n}return null},create:k,createCube:function(t){var o=Array(6);function a(t){var r;x(o.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var s,l={color:null},h=0,p=null,d="rgba",v="uint8",m=1;if("number"==typeof t)h=0|t;else if(t){x.type(t,"object","invalid arguments for framebuffer");var g=t;if("shape"in g){var y=g.shape;x(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),x(y[0]===y[1],"cube framebuffer must be square"),h=y[0]}else"radius"in g&&(h=0|g.radius),"width"in g?(h=0|g.width,"height"in g&&x(g.height===h,"must be square")):"height"in g&&(h=0|g.height);("color"in g||"colors"in g)&&(p=g.color||g.colors,Array.isArray(p)&&x(1===p.length||e.webgl_draw_buffers,"multiple render targets not supported")),p||("colorCount"in g&&(m=0|g.colorCount,x(m>0,"invalid color buffer count")),"colorType"in g&&(x.oneOf(g.colorType,c,"invalid color type"),v=g.colorType),"colorFormat"in g&&(d=g.colorFormat,x.oneOf(g.colorFormat,f,"invalid color format for texture"))),"depth"in g&&(l.depth=g.depth),"stencil"in g&&(l.stencil=g.stencil),"depthStencil"in g&&(l.depthStencil=g.depthStencil)}else h=1;if(p)if(Array.isArray(p))for(s=[],r=0;r<p.length;++r)s[r]=p[r];else s=[p];else{s=Array(m);var b={radius:h,format:d,type:v};for(r=0;r<m;++r)s[r]=i.createCube(b)}for(l.color=Array(s.length),r=0;r<s.length;++r){var _=s[r];x("function"==typeof _&&"textureCube"===_._reglType,"invalid cube map"),h=h||_.width,x(_.width===h&&_.height===h,"invalid cube map shape"),l.color[r]={target:34069,data:s[r]}}for(r=0;r<6;++r){for(var w=0;w<s.length;++w)l.color[w].target=34069+r;r>0&&(l.depth=o[0].depth,l.stencil=o[0].stencil,l.depthStencil=o[0].depthStencil),o[r]?o[r](l):o[r]=k(l)}return n(a,{width:h,height:h,color:s})}return a(t),n(a,{faces:o,resize:function(t){var n,e=0|t;if(x(e>0&&e<=r.maxCubeMapSize,"invalid radius for cube fbo"),e===a.width)return a;var i=a.color;for(n=0;n<i.length;++n)i[n].resize(e);for(n=0;n<6;++n)o[n].resize(e);return a.width=a.height=e,a},_reglType:"framebufferCube",destroy:function(){o.forEach((function(t){t.destroy()}))}})},clear:function(){L(_).forEach(A)},restore:function(){u.cur=null,u.next=null,u.dirty=!0,L(_).forEach((function(n){n.framebuffer=t.createFramebuffer(),E(n)}))}})}(i,h,y,A,T,l),j=an(i,c,h,y,_,w,0,C,{},b,M,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,p,r),D=zt(i,C,j.procs.poll,g,o,h,y),B=j.next,F=i.canvas,N=[],R=[],X=[],Z=[r.onDestroy],Q=null;function J(){if(0===N.length)return p&&p.update(),void(Q=null);Q=k.next(J),ft();for(var t=N.length-1;t>=0;--t){var n=N[t];n&&n(g,null,0)}i.flush(),p&&p.update()}function K(){!Q&&N.length>0&&(Q=k.next(J))}function tt(){Q&&(k.cancel(J),Q=null)}function nt(t){t.preventDefault(),a=!0,tt(),R.forEach((function(t){t()}))}function et(t){i.getError(),a=!1,u.restore(),M.restore(),_.restore(),A.restore(),T.restore(),C.restore(),p&&p.restore(),j.procs.refresh(),K(),X.forEach((function(t){t()}))}function rt(t){function e(t){var n={},e={};return Object.keys(t).forEach((function(r){var i=t[r];E.isDynamic(i)?e[r]=E.unbox(i,r):n[r]=i})),{dynamic:e,static:n}}x(!!t,"invalid args to regl({...})"),x.type(t,"object","invalid args to regl({...})");var r=e(t.context||{}),i=e(t.uniforms||{}),o=e(t.attributes||{}),u=e(function(t){var e=n({},t);function r(t){if(t in e){var n=e[t];delete e[t],Object.keys(n).forEach((function(r){e[t+"."+r]=n[r]}))}}return delete e.uniforms,delete e.attributes,delete e.context,"stencil"in e&&e.stencil.op&&(e.stencil.opBack=e.stencil.opFront=e.stencil.op,delete e.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),e}(t)),f={gpuTime:0,cpuTime:0,count:0},s=j.compile(u,o,i,r,f),c=s.draw,l=s.batch,h=s.scope,p=[];return n((function(t,n){var e;if(a&&x.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof n){if("number"==typeof t){for(e=0;e<t;++e)h.call(this,null,n,e);return}if(Array.isArray(t)){for(e=0;e<t.length;++e)h.call(this,t[e],n,e);return}return h.call(this,t,n,0)}if("number"==typeof t){if(t>0)return l.call(this,function(t){for(;p.length<t;)p.push(null);return p}(0|t),0|t)}else{if(!Array.isArray(t))return c.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:f})}F&&(F.addEventListener("webglcontextlost",nt,!1),F.addEventListener("webglcontextrestored",et,!1));var it=C.setFBO=rt({framebuffer:E.define.call(null,1,"framebuffer")});function ot(t,n){var e=0;j.procs.poll();var r=n.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),e|=16384),"depth"in n&&(i.clearDepth(+n.depth),e|=256),"stencil"in n&&(i.clearStencil(0|n.stencil),e|=1024),x(!!e,"called regl.clear with no buffer specified"),i.clear(e)}function at(t){return x.type(t,"function","regl.frame() callback must be a function"),N.push(t),K(),{cancel:function(){var n=fn(N,t);x(n>=0,"cannot cancel a frame twice"),N[n]=function t(){var n=fn(N,t);N[n]=N[N.length-1],N.length-=1,N.length<=0&&tt()}}}}function ut(){var t=B.viewport,n=B.scissor_box;t[0]=t[1]=n[0]=n[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=t[2]=n[2]=i.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=t[3]=n[3]=i.drawingBufferHeight}function ft(){g.tick+=1,g.time=ct(),ut(),j.procs.poll()}function st(){ut(),j.procs.refresh(),p&&p.update()}function ct(){return(S()-d)/1e3}st();var lt=n(rt,{clear:function(t){if(x("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)it(n({framebuffer:t.framebuffer.faces[e]},t),ot);else it(t,ot);else ot(0,t)},prop:E.define.bind(null,1),context:E.define.bind(null,2),this:E.define.bind(null,3),draw:rt({}),buffer:function(t){return _.create(t,34962,!1,!1)},elements:function(t){return w.create(t,!1)},texture:A.create2D,cube:A.createCube,renderbuffer:T.create,framebuffer:C.create,framebufferCube:C.createCube,attributes:o,frame:at,on:function(t,n){var e;switch(x.type(n,"function","listener callback must be a function"),t){case"frame":return at(n);case"lost":e=R;break;case"restore":e=X;break;case"destroy":e=Z;break;default:x.raise("invalid event, must be one of frame,lost,restore,destroy")}return e.push(n),{cancel:function(){for(var t=0;t<e.length;++t)if(e[t]===n)return e[t]=e[e.length-1],void e.pop()}}},limits:y,hasExtension:function(t){return y.extensions.indexOf(t.toLowerCase())>=0},read:D,destroy:function(){N.length=0,tt(),F&&(F.removeEventListener("webglcontextlost",nt),F.removeEventListener("webglcontextrestored",et)),M.clear(),C.clear(),T.clear(),A.clear(),w.clear(),_.clear(),p&&p.clear(),Z.forEach((function(t){t()}))},_gl:i,_refresh:st,poll:function(){ft(),p&&p.update()},now:ct,stats:l});return r.onDone(null,lt),lt}}()},73:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},74:function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},75:function(t,n,e){t.exports=e(42)},76:function(t,n,e){!function(){"use strict";var n=e(43),r=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};r.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(t){return n.pointsToString(t.points)})).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map((function(t){return t.length()})).reduce((function(t,n){return t+n}))},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,e=t[0].bbox(),r=1;r<t.length;r++)n.expandbox(e,t[r].bbox());return e},offset:function(t){var n=[];return this.curves.forEach((function(e){n=n.concat(e.offset(t))})),new r(n)}},t.exports=r}()},77:function(t,n,e){var r=e(78),i={x:!1,y:!1};function o(t,n,e){if("Z"!==n){if("M"!==n){var r=[!1,i.x,i.y].concat(e),o=new(t.bind.apply(t,r)),a=e.slice(-2);return i={x:a[0],y:a[1]},o}i={x:e[0],y:e[1]}}}t.exports=function(t,n){for(var e,i,a=r(n).split(" "),u=new RegExp("[MLCQZ]",""),f=[],s={C:6,Q:4,L:2,M:2};a.length;)e=a.splice(0,1)[0],u.test(e)&&(i=o(t,e,a.splice(0,s[e]).map(parseFloat)))&&f.push(i);return new t.PolyBezier(f)}},78:function(t,n){t.exports=function(t){var n,e,r,i,o,a,u=(t=t.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),f=u.length,s=[],c=0,l=0,h=0,p=0,d=0,v=0,m=0,g=0,y="";for(n=1;n<f;n++)if(i=(r=(e=u[n]).substring(0,1)).toLowerCase(),o=(s=(s=e.replace(r,"").trim().split(" ")).filter((function(t){return""!==t})).map(parseFloat)).length,"m"===i){if(y+="M ","m"===r?(h+=s[0],p+=s[1]):(h=s[0],p=s[1]),c=h,l=p,y+=h+" "+p+" ",o>2)for(a=0;a<o;a+=2)"m"===r?(h+=s[a],p+=s[a+1]):(h=s[a],p=s[a+1]),y+=["L",h,p,""].join(" ")}else if("l"===i)for(a=0;a<o;a+=2)"l"===r?(h+=s[a],p+=s[a+1]):(h=s[a],p=s[a+1]),y+=["L",h,p,""].join(" ");else if("h"===i)for(a=0;a<o;a++)"h"===r?h+=s[a]:h=s[a],y+=["L",h,p,""].join(" ");else if("v"===i)for(a=0;a<o;a++)"v"===r?p+=s[a]:p=s[a],y+=["L",h,p,""].join(" ");else if("q"===i)for(a=0;a<o;a+=4)"q"===r?(d=h+s[a],v=p+s[a+1],h+=s[a+2],p+=s[a+3]):(d=s[a],v=s[a+1],h=s[a+2],p=s[a+3]),y+=["Q",d,v,h,p,""].join(" ");else if("t"===i)for(a=0;a<o;a+=2)d=h+(h-d),v=p+(p-v),"t"===r?(h+=s[a],p+=s[a+1]):(h=s[a],p=s[a+1]),y+=["Q",d,v,h,p,""].join(" ");else if("c"===i)for(a=0;a<o;a+=6)"c"===r?(d=h+s[a],v=p+s[a+1],m=h+s[a+2],g=p+s[a+3],h+=s[a+4],p+=s[a+5]):(d=s[a],v=s[a+1],m=s[a+2],g=s[a+3],h=s[a+4],p=s[a+5]),y+=["C",d,v,m,g,h,p,""].join(" ");else if("s"===i)for(a=0;a<o;a+=4)d=h+(h-m),v=p+(p-g),"s"===r?(m=h+s[a],g=p+s[a+1],h+=s[a+2],p+=s[a+3]):(m=s[a],g=s[a+1],h=s[a+2],p=s[a+3]),y+=["C",d,v,m,g,h,p,""].join(" ");else"z"===i&&(y+="Z ",h=c,p=l);return y.trim()}},79:function(t,n){let e;const r=[[0,-.5],[1,-.5],[1,.5],[0,-.5],[1,.5],[0,.5]];function i(t,n){const e=[[0,0]];for(wedge=0;wedge<=n;wedge++){const t=2*Math.PI*wedge/n;e.push([.5*Math.cos(t),.5*Math.sin(t)])}return{buffer:t.buffer(e),count:e.length}}const o=[[0,0,0],[1,0,0],[0,1,0],[0,0,0],[0,1,0],[0,0,1]];const a=[[0,0],[1,0],[0,1]];function u(t,n){const e=[[0,-.5,0],[0,-.5,1],[0,.5,1],[0,-.5,0],[0,.5,1],[0,.5,0]];for(let t=0;t<n;t++){const r=Math.PI/2+(t+0)*Math.PI/n,i=Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,0]),e.push([.5*Math.cos(r),.5*Math.sin(r),0]),e.push([.5*Math.cos(i),.5*Math.sin(i),0])}for(let t=0;t<n;t++){const r=3*Math.PI/2+(t+0)*Math.PI/n,i=3*Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,1]),e.push([.5*Math.cos(r),.5*Math.sin(r),1]),e.push([.5*Math.cos(i),.5*Math.sin(i),1])}return{buffer:t.buffer(e),count:e.length}}t.exports={miterJoin:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 pointA, pointB, pointC;\n      attribute vec3 position;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        // Find the miter vector.\n        vec2 tangent = normalize(normalize(pointC - pointB) + normalize(pointB - pointA));\n        vec2 miter = vec2(-tangent.y, tangent.x);\n\n        // Find the perpendicular vectors.\n        vec2 ab = pointB - pointA;\n        vec2 cb = pointB - pointC;\n        vec2 abNorm = normalize(vec2(-ab.y, ab.x));\n        vec2 cbNorm = -normalize(vec2(-cb.y, cb.x));\n\n        // Determine the bend direction.\n        float sigma = sign(dot(ab + cb, miter));\n\n        // Calculate the basis vectors for the miter geometry.\n        vec2 p0 = 0.5 * width * sigma * (sigma < 0.0 ? abNorm : cbNorm);\n        vec2 p1 = 0.5 * miter * sigma * width / dot(miter, abNorm);\n        vec2 p2 = 0.5 * width * sigma * (sigma < 0.0 ? cbNorm : abNorm);\n\n        // Calculate the final point position.\n        vec2 point = pointB + position.x * p0 + position.y * p1 + position.z * p2;\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:t.buffer(o),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT},pointC:{buffer:t.prop("points"),divisor:1,offset:4*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:o.length,instances:t.prop("instances"),viewport:t.prop("viewport")})},bevelJoin:function(t){return t({vert:"\n    precision highp float;\n    attribute vec2 pointA, pointB, pointC;\n    attribute vec2 position;\n    uniform float width;\n    uniform mat4 projection;\n\n    void main() {\n      vec2 tangent = normalize(normalize(pointC - pointB) + normalize(pointB - pointA));\n      vec2 normal = vec2(-tangent.y, tangent.x);\n      vec2 ab = pointB - pointA;\n      vec2 cb = pointB - pointC;\n      float sigma = sign(dot(ab + cb, normal));\n      vec2 abn = normalize(vec2(-ab.y, ab.x));\n      vec2 cbn = -normalize(vec2(-cb.y, cb.x));\n      vec2 p0 = 0.5 * sigma * width * (sigma < 0.0 ? abn : cbn);\n      vec2 p1 = 0.5 * sigma * width * (sigma < 0.0 ? cbn : abn);\n      vec2 point = pointB + position.x * p0 + position.y * p1;\n      gl_Position = projection * vec4(point, 0, 1);\n    }",frag:"\n    precision highp float;\n    uniform vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }",depth:{enable:!1},attributes:{position:{buffer:t.buffer(a),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT},pointC:{buffer:t.prop("points"),divisor:1,offset:4*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:a.length,instances:t.prop("instances"),viewport:t.prop("viewport")})},roundJoin:function(t,n){const e=i(t,n);return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      attribute vec2 point;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        gl_Position = projection * vec4(width * position + point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:e.buffer,divisor:0},point:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},primitive:"triangle fan",count:e.count,instances:t.prop("instances"),viewport:t.prop("viewport")})},roundCap:function(t,n){const e=i(t,n);return t({vert:"\n    precision highp float;\n    attribute vec2 position;\n    uniform vec2 point;\n    uniform float width;\n    uniform mat4 projection;\n\n    void main() {\n      gl_Position = projection * vec4(point + width * position, 0, 1);\n  }",frag:"\n    precision highp float;\n    uniform vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }",depth:{enable:!1},attributes:{position:{buffer:e.buffer}},uniforms:{point:t.prop("point"),width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},primitive:"triangle fan",count:e.count,viewport:t.prop("viewport")})},squareCap:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      uniform vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = normalize(pointB - pointA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 point = pointB + xBasis * 0.5 * width * position.x + yBasis * width * position.y;\n        gl_Position = projection * vec4(point, 0, 1);\n    }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:t.buffer(r)}},uniforms:{pointA:t.prop("pointA"),pointB:t.prop("pointB"),width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:r.length,viewport:t.prop("viewport")})},interleavedStripRoundCapJoin:function(t,n){return e=u(t,n),t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = normalize(pointB - pointA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 offsetA = pointA + width * (position.x * xBasis + position.y * yBasis);\n        vec2 offsetB = pointB + width * (position.x * xBasis + position.y * yBasis);\n        vec2 point = mix(offsetA, offsetB, position.z);\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:e.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},depth:{enable:!1},cull:{enable:!0,face:"back"},count:e.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedStripRoundCapJoin3D:function(t,n){let e=u(t,n);return t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec3 pointA, pointB;\n      uniform float width;\n      uniform vec2 resolution;\n      uniform mat4 model, view, projection;\n\n      void main() {\n        vec4 clip0 = projection * view * model * vec4(pointA, 1.0);\n        vec4 clip1 = projection * view * model * vec4(pointB, 1.0);\n        vec2 screen0 = resolution * (0.5 * clip0.xy/clip0.w + 0.5);\n        vec2 screen1 = resolution * (0.5 * clip1.xy/clip1.w + 0.5);\n        vec2 xBasis = normalize(screen1 - screen0);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pt0 = screen0 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt1 = screen1 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt = mix(pt0, pt1, position.z);\n        vec4 clip = mix(clip0, clip1, position.z);\n        gl_Position = vec4(clip.w * (2.0 * pt/resolution - 1.0), clip.z, clip.w);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:e.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),model:t.prop("model"),view:t.prop("view"),projection:t.prop("projection"),resolution:t.prop("resolution")},depth:{enable:!1},cull:{enable:!0,face:"back"},count:e.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedStripRoundCapJoin3DDEMO:function(t,n){return e=u(t,n),t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec3 pointA, pointB;\n      attribute vec3 colorA, colorB;\n\n      uniform float width;\n      uniform vec2 resolution;\n      uniform mat4 view, projection;\n\n      varying vec3 vColor;\n\n      void main() {\n        vec4 clip0 = projection * view * vec4(pointA, 1.0);\n        vec4 clip1 = projection * view * vec4(pointB, 1.0);\n        vec2 screen0 = resolution * (0.5 * clip0.xy/clip0.w + 0.5);\n        vec2 screen1 = resolution * (0.5 * clip1.xy/clip1.w + 0.5);\n        vec2 xBasis = normalize(screen1 - screen0);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pt0 = screen0 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt1 = screen1 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt = mix(pt0, pt1, position.z);\n        vec4 clip = mix(clip0, clip1, position.z);\n        gl_Position = vec4(clip.w * (2.0 * pt/resolution - 1.0), clip.z, clip.w);\n        vColor = mix(colorA, colorB, position.z);\n      }",frag:"\n      precision highp float;\n      varying vec3 vColor;\n      void main() {\n        gl_FragColor = vec4(vColor, 1);\n      }",cull:{enable:!0,face:"back"},attributes:{position:{buffer:e.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT},colorA:{buffer:t.prop("color"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},colorB:{buffer:t.prop("color"),divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),model:t.prop("model"),view:t.prop("view"),projection:t.prop("projection"),resolution:t.prop("resolution")},cull:{enable:!0,face:"back"},count:e.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},noninterleavedStripRoundCapJoin:function(t,n){return e=u(t,n),t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute float ax, ay, bx, by;\n      uniform float width;\n      uniform vec2 resolution;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 clipA = (projection * vec4(ax, ay, 0, 1)).xy;\n        vec2 clipB = (projection * vec4(bx, by, 0, 1)).xy;\n        vec2 offsetA = resolution * (0.5 * clipA + 0.5);\n        vec2 offsetB = resolution * (0.5 * clipB + 0.5);\n        vec2 xBasis = normalize(offsetB - offsetA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pointA = offsetA + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pointB = offsetB + width * (position.x * xBasis + position.y * yBasis);\n        vec2 point = mix(pointA, pointB, position.z);\n        gl_Position = vec4(2.0 * point/resolution - 1.0, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:e.buffer,divisor:0},ax:{buffer:t.prop("dataX"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},ay:{buffer:t.prop("dataY"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},bx:{buffer:t.prop("dataX"),divisor:1,offset:1*Float32Array.BYTES_PER_ELEMENT},by:{buffer:t.prop("dataY"),divisor:1,offset:1*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),resolution:t.prop("resolution"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:e.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedStripRoundCapJoinDEMO:function(t,n){return e=function(t,n){const e=[[0,-.5,0,0],[0,-.5,1,0],[0,.5,1,0],[0,-.5,0,0],[0,.5,1,0],[0,.5,0,0]];for(let t=0;t<n;t++){const r=Math.PI/2+(t+0)*Math.PI/n,i=Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,0,1]),e.push([.5*Math.cos(r),.5*Math.sin(r),0,1]),e.push([.5*Math.cos(i),.5*Math.sin(i),0,1])}for(let t=0;t<n;t++){const r=3*Math.PI/2+(t+0)*Math.PI/n,i=3*Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,1,1]),e.push([.5*Math.cos(r),.5*Math.sin(r),1,1]),e.push([.5*Math.cos(i),.5*Math.sin(i),1,1])}return{buffer:t.buffer(e),count:e.length}}(t,n),t({vert:"\n      precision highp float;\n      attribute vec4 position;\n      attribute vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      varying float colorIndexDEMO;\n\n      void main() {\n        colorIndexDEMO = position.w;\n        vec2 xBasis = normalize(pointB - pointA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pointA = pointA + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pointB = pointB + width * (position.x * xBasis + position.y * yBasis);\n        vec2 point = mix(pointA, pointB, position.z);\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      uniform vec4 colorDEMO;\n      varying float colorIndexDEMO;\n      void main() {\n        gl_FragColor = mix(color, colorDEMO, colorIndexDEMO);\n      }",attributes:{position:{buffer:e.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),colorDEMO:t.prop("colorDEMO"),projection:t.prop("projection")},depth:{enable:!1},cull:{enable:!0,face:"back"},count:e.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},customPoints:function(t){return t({vert:"\n    precision highp float;\n    attribute vec2 position;\n    attribute vec2 point;\n    uniform float width;\n    uniform mat4 projection;\n\n    void main() {\n      gl_Position = projection * vec4(width * position + point, 0, 1);\n    }",frag:"\n    precision highp float;\n    uniform vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }",depth:{enable:!1},attributes:{position:{buffer:t.prop("pointGeometry"),divisor:0},point:{buffer:t.prop("points"),divisor:1}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},primitive:t.prop("pointPrimitive"),count:t.prop("pointCount"),instances:t.prop("instances"),viewport:t.prop("viewport")})},interleavedStrip:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      attribute vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = pointB - pointA;\n        vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n        vec2 point = pointA + xBasis * position.x + yBasis * width * position.y;\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:t.buffer(r),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},depth:{enable:!1},count:r.length,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedSegments:function(t){return t({vert:"\n      precision highp float;\n      uniform float width;\n      attribute vec2 position, pointA, pointB;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = pointB - pointA;\n        vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n        vec2 point = pointA + xBasis * position.x + yBasis * width * position.y;\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:t.buffer(r),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT,stride:4*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT,stride:4*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:r.length,instances:t.prop("segments"),viewport:t.prop("viewport")})},glLines:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      uniform mat4 projection;\n\n      void main() {\n        gl_Position = projection * vec4(position, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:t.prop("position")},uniforms:{color:t.prop("color"),projection:t.prop("projection")},primitive:"lines",lineWidth:t.prop("width"),count:t.prop("count"),viewport:t.prop("viewport")})},glLineStrip:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      uniform mat4 projection;\n\n      void main() {\n        gl_Position = projection * vec4(position, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:t.prop("position")},uniforms:{color:t.prop("color"),projection:t.prop("projection")},primitive:"line strip",lineWidth:t.prop("width"),count:t.prop("count"),viewport:t.prop("viewport")})}}},80:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"create",(function(){return m})),e.d(r,"clone",(function(){return g})),e.d(r,"copy",(function(){return y})),e.d(r,"fromValues",(function(){return b})),e.d(r,"set",(function(){return x})),e.d(r,"identity",(function(){return _})),e.d(r,"transpose",(function(){return w})),e.d(r,"invert",(function(){return M})),e.d(r,"adjoint",(function(){return A})),e.d(r,"determinant",(function(){return E})),e.d(r,"multiply",(function(){return k})),e.d(r,"translate",(function(){return S})),e.d(r,"scale",(function(){return T})),e.d(r,"rotate",(function(){return C})),e.d(r,"rotateX",(function(){return z})),e.d(r,"rotateY",(function(){return j})),e.d(r,"rotateZ",(function(){return D})),e.d(r,"fromTranslation",(function(){return B})),e.d(r,"fromScaling",(function(){return O})),e.d(r,"fromRotation",(function(){return P})),e.d(r,"fromXRotation",(function(){return L})),e.d(r,"fromYRotation",(function(){return F})),e.d(r,"fromZRotation",(function(){return N})),e.d(r,"fromRotationTranslation",(function(){return R})),e.d(r,"fromQuat2",(function(){return I})),e.d(r,"getTranslation",(function(){return U})),e.d(r,"getScaling",(function(){return q})),e.d(r,"getRotation",(function(){return W})),e.d(r,"fromRotationTranslationScale",(function(){return Y})),e.d(r,"fromRotationTranslationScaleOrigin",(function(){return H})),e.d(r,"fromQuat",(function(){return $})),e.d(r,"frustum",(function(){return V})),e.d(r,"perspective",(function(){return G})),e.d(r,"perspectiveFromFieldOfView",(function(){return X})),e.d(r,"ortho",(function(){return Z})),e.d(r,"lookAt",(function(){return Q})),e.d(r,"targetTo",(function(){return J})),e.d(r,"str",(function(){return K})),e.d(r,"frob",(function(){return tt})),e.d(r,"add",(function(){return nt})),e.d(r,"subtract",(function(){return et})),e.d(r,"multiplyScalar",(function(){return rt})),e.d(r,"multiplyScalarAndAdd",(function(){return it})),e.d(r,"exactEquals",(function(){return ot})),e.d(r,"equals",(function(){return at})),e.d(r,"mul",(function(){return ut})),e.d(r,"sub",(function(){return ft}));var i={};e.r(i),e.d(i,"create",(function(){return st})),e.d(i,"clone",(function(){return ct})),e.d(i,"fromValues",(function(){return lt})),e.d(i,"copy",(function(){return ht})),e.d(i,"set",(function(){return pt})),e.d(i,"add",(function(){return dt})),e.d(i,"subtract",(function(){return vt})),e.d(i,"multiply",(function(){return mt})),e.d(i,"divide",(function(){return gt})),e.d(i,"ceil",(function(){return yt})),e.d(i,"floor",(function(){return bt})),e.d(i,"min",(function(){return xt})),e.d(i,"max",(function(){return _t})),e.d(i,"round",(function(){return wt})),e.d(i,"scale",(function(){return Mt})),e.d(i,"scaleAndAdd",(function(){return At})),e.d(i,"distance",(function(){return Et})),e.d(i,"squaredDistance",(function(){return kt})),e.d(i,"length",(function(){return St})),e.d(i,"squaredLength",(function(){return Tt})),e.d(i,"negate",(function(){return Ct})),e.d(i,"inverse",(function(){return zt})),e.d(i,"normalize",(function(){return jt})),e.d(i,"dot",(function(){return Dt})),e.d(i,"cross",(function(){return Bt})),e.d(i,"lerp",(function(){return Ot})),e.d(i,"random",(function(){return Pt})),e.d(i,"transformMat2",(function(){return Lt})),e.d(i,"transformMat2d",(function(){return Ft})),e.d(i,"transformMat3",(function(){return Nt})),e.d(i,"transformMat4",(function(){return Rt})),e.d(i,"rotate",(function(){return It})),e.d(i,"angle",(function(){return Ut})),e.d(i,"zero",(function(){return qt})),e.d(i,"str",(function(){return Wt})),e.d(i,"exactEquals",(function(){return Yt})),e.d(i,"equals",(function(){return Ht})),e.d(i,"len",(function(){return Vt})),e.d(i,"sub",(function(){return Gt})),e.d(i,"mul",(function(){return Xt})),e.d(i,"div",(function(){return Zt})),e.d(i,"dist",(function(){return Qt})),e.d(i,"sqrDist",(function(){return Jt})),e.d(i,"sqrLen",(function(){return Kt})),e.d(i,"forEach",(function(){return tn}));var o={};function a(t,n,e,r,i,o){if(i-r<=e)return;const f=r+i>>1;!function t(n,e,r,i,o,a){for(;o>i;){if(o-i>600){const u=o-i+1,f=r-i+1,s=Math.log(u),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(u-c)/u)*(f-u/2<0?-1:1),h=Math.max(i,Math.floor(r-f*c/u+l)),p=Math.min(o,Math.floor(r+(u-f)*c/u+l));t(n,e,r,h,p,a)}const f=e[2*r+a];let s=i,c=o;for(u(n,e,i,r),e[2*o+a]>f&&u(n,e,i,o);s<c;){for(u(n,e,s,c),s++,c--;e[2*s+a]<f;)s++;for(;e[2*c+a]>f;)c--}e[2*i+a]===f?u(n,e,i,c):(c++,u(n,e,c,o)),c<=r&&(i=c+1),r<=c&&(o=c-1)}}(t,n,f,r,i,o%2),a(t,n,e,r,f-1,o+1),a(t,n,e,f+1,i,o+1)}function u(t,n,e,r){f(t,e,r),f(n,2*e,2*r),f(n,2*e+1,2*r+1)}function f(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function s(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}e.r(o),e.d(o,"create",(function(){return nn})),e.d(o,"clone",(function(){return en})),e.d(o,"fromValues",(function(){return rn})),e.d(o,"copy",(function(){return on})),e.d(o,"set",(function(){return an})),e.d(o,"add",(function(){return un})),e.d(o,"subtract",(function(){return fn})),e.d(o,"multiply",(function(){return sn})),e.d(o,"divide",(function(){return cn})),e.d(o,"ceil",(function(){return ln})),e.d(o,"floor",(function(){return hn})),e.d(o,"min",(function(){return pn})),e.d(o,"max",(function(){return dn})),e.d(o,"round",(function(){return vn})),e.d(o,"scale",(function(){return mn})),e.d(o,"scaleAndAdd",(function(){return gn})),e.d(o,"distance",(function(){return yn})),e.d(o,"squaredDistance",(function(){return bn})),e.d(o,"length",(function(){return xn})),e.d(o,"squaredLength",(function(){return _n})),e.d(o,"negate",(function(){return wn})),e.d(o,"inverse",(function(){return Mn})),e.d(o,"normalize",(function(){return An})),e.d(o,"dot",(function(){return En})),e.d(o,"cross",(function(){return kn})),e.d(o,"lerp",(function(){return Sn})),e.d(o,"random",(function(){return Tn})),e.d(o,"transformMat4",(function(){return Cn})),e.d(o,"transformQuat",(function(){return zn})),e.d(o,"zero",(function(){return jn})),e.d(o,"str",(function(){return Dn})),e.d(o,"exactEquals",(function(){return Bn})),e.d(o,"equals",(function(){return On})),e.d(o,"sub",(function(){return Pn})),e.d(o,"mul",(function(){return Ln})),e.d(o,"div",(function(){return Fn})),e.d(o,"dist",(function(){return Nn})),e.d(o,"sqrDist",(function(){return Rn})),e.d(o,"len",(function(){return In})),e.d(o,"sqrLen",(function(){return Un})),e.d(o,"forEach",(function(){return qn}));const c=t=>t[0],l=t=>t[1];class h{constructor(t,n=c,e=l,r=64,i=Float64Array){this.nodeSize=r,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,u=this.ids=new o(t.length),f=this.coords=new i(2*t.length);for(let r=0;r<t.length;r++)u[r]=r,f[2*r]=n(t[r]),f[2*r+1]=e(t[r]);a(u,f,r,0,u.length-1,0)}range(t,n,e,r){return function(t,n,e,r,i,o,a){const u=[0,t.length-1,0],f=[];let s,c;for(;u.length;){const l=u.pop(),h=u.pop(),p=u.pop();if(h-p<=a){for(let a=p;a<=h;a++)s=n[2*a],c=n[2*a+1],s>=e&&s<=i&&c>=r&&c<=o&&f.push(t[a]);continue}const d=Math.floor((p+h)/2);s=n[2*d],c=n[2*d+1],s>=e&&s<=i&&c>=r&&c<=o&&f.push(t[d]);const v=(l+1)%2;(0===l?e<=s:r<=c)&&(u.push(p),u.push(d-1),u.push(v)),(0===l?i>=s:o>=c)&&(u.push(d+1),u.push(h),u.push(v))}return f}(this.ids,this.coords,t,n,e,r,this.nodeSize)}within(t,n,e){return function(t,n,e,r,i,o){const a=[0,t.length-1,0],u=[],f=i*i;for(;a.length;){const c=a.pop(),l=a.pop(),h=a.pop();if(l-h<=o){for(let i=h;i<=l;i++)s(n[2*i],n[2*i+1],e,r)<=f&&u.push(t[i]);continue}const p=Math.floor((h+l)/2),d=n[2*p],v=n[2*p+1];s(d,v,e,r)<=f&&u.push(t[p]);const m=(c+1)%2;(0===c?e-i<=d:r-i<=v)&&(a.push(h),a.push(p-1),a.push(m)),(0===c?e+i>=d:r+i>=v)&&(a.push(p+1),a.push(l),a.push(m))}return u}(this.ids,this.coords,t,n,e,this.nodeSize)}}var p=(t,n,e=window.requestAnimationFrame)=>{let r,i=!1;return(...o)=>{if(r=o,!i)return i=!0,e(()=>{const e=t(...r);i=!1,n&&n(e)})}},d="undefined"!=typeof Float32Array?Float32Array:Array,v=Math.random;Math.PI;function m(){var t=new d(16);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function g(t){var n=new d(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function y(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function b(t,n,e,r,i,o,a,u,f,s,c,l,h,p,v,m){var g=new d(16);return g[0]=t,g[1]=n,g[2]=e,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=u,g[8]=f,g[9]=s,g[10]=c,g[11]=l,g[12]=h,g[13]=p,g[14]=v,g[15]=m,g}function x(t,n,e,r,i,o,a,u,f,s,c,l,h,p,d,v,m){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=f,t[8]=s,t[9]=c,t[10]=l,t[11]=h,t[12]=p,t[13]=d,t[14]=v,t[15]=m,t}function _(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function M(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],s=n[7],c=n[8],l=n[9],h=n[10],p=n[11],d=n[12],v=n[13],m=n[14],g=n[15],y=e*u-r*a,b=e*f-i*a,x=e*s-o*a,_=r*f-i*u,w=r*s-o*u,M=i*s-o*f,A=c*v-l*d,E=c*m-h*d,k=c*g-p*d,S=l*m-h*v,T=l*g-p*v,C=h*g-p*m,z=y*C-b*T+x*S+_*k-w*E+M*A;return z?(z=1/z,t[0]=(u*C-f*T+s*S)*z,t[1]=(i*T-r*C-o*S)*z,t[2]=(v*M-m*w+g*_)*z,t[3]=(h*w-l*M-p*_)*z,t[4]=(f*k-a*C-s*E)*z,t[5]=(e*C-i*k+o*E)*z,t[6]=(m*x-d*M-g*b)*z,t[7]=(c*M-h*x+p*b)*z,t[8]=(a*T-u*k+s*A)*z,t[9]=(r*k-e*T-o*A)*z,t[10]=(d*w-v*x+g*y)*z,t[11]=(l*x-c*w-p*y)*z,t[12]=(u*E-a*S-f*A)*z,t[13]=(e*S-r*E+i*A)*z,t[14]=(v*b-d*_-m*y)*z,t[15]=(c*_-l*b+h*y)*z,t):null}function A(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],s=n[7],c=n[8],l=n[9],h=n[10],p=n[11],d=n[12],v=n[13],m=n[14],g=n[15];return t[0]=u*(h*g-p*m)-l*(f*g-s*m)+v*(f*p-s*h),t[1]=-(r*(h*g-p*m)-l*(i*g-o*m)+v*(i*p-o*h)),t[2]=r*(f*g-s*m)-u*(i*g-o*m)+v*(i*s-o*f),t[3]=-(r*(f*p-s*h)-u*(i*p-o*h)+l*(i*s-o*f)),t[4]=-(a*(h*g-p*m)-c*(f*g-s*m)+d*(f*p-s*h)),t[5]=e*(h*g-p*m)-c*(i*g-o*m)+d*(i*p-o*h),t[6]=-(e*(f*g-s*m)-a*(i*g-o*m)+d*(i*s-o*f)),t[7]=e*(f*p-s*h)-a*(i*p-o*h)+c*(i*s-o*f),t[8]=a*(l*g-p*v)-c*(u*g-s*v)+d*(u*p-s*l),t[9]=-(e*(l*g-p*v)-c*(r*g-o*v)+d*(r*p-o*l)),t[10]=e*(u*g-s*v)-a*(r*g-o*v)+d*(r*s-o*u),t[11]=-(e*(u*p-s*l)-a*(r*p-o*l)+c*(r*s-o*u)),t[12]=-(a*(l*m-h*v)-c*(u*m-f*v)+d*(u*h-f*l)),t[13]=e*(l*m-h*v)-c*(r*m-i*v)+d*(r*h-i*l),t[14]=-(e*(u*m-f*v)-a*(r*m-i*v)+d*(r*f-i*u)),t[15]=e*(u*h-f*l)-a*(r*h-i*l)+c*(r*f-i*u),t}function E(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],f=t[7],s=t[8],c=t[9],l=t[10],h=t[11],p=t[12],d=t[13],v=t[14],m=t[15];return(n*a-e*o)*(l*m-h*v)-(n*u-r*o)*(c*m-h*d)+(n*f-i*o)*(c*v-l*d)+(e*u-r*a)*(s*m-h*p)-(e*f-i*a)*(s*v-l*p)+(r*f-i*u)*(s*d-c*p)}function k(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],s=n[6],c=n[7],l=n[8],h=n[9],p=n[10],d=n[11],v=n[12],m=n[13],g=n[14],y=n[15],b=e[0],x=e[1],_=e[2],w=e[3];return t[0]=b*r+x*u+_*l+w*v,t[1]=b*i+x*f+_*h+w*m,t[2]=b*o+x*s+_*p+w*g,t[3]=b*a+x*c+_*d+w*y,b=e[4],x=e[5],_=e[6],w=e[7],t[4]=b*r+x*u+_*l+w*v,t[5]=b*i+x*f+_*h+w*m,t[6]=b*o+x*s+_*p+w*g,t[7]=b*a+x*c+_*d+w*y,b=e[8],x=e[9],_=e[10],w=e[11],t[8]=b*r+x*u+_*l+w*v,t[9]=b*i+x*f+_*h+w*m,t[10]=b*o+x*s+_*p+w*g,t[11]=b*a+x*c+_*d+w*y,b=e[12],x=e[13],_=e[14],w=e[15],t[12]=b*r+x*u+_*l+w*v,t[13]=b*i+x*f+_*h+w*m,t[14]=b*o+x*s+_*p+w*g,t[15]=b*a+x*c+_*d+w*y,t}function S(t,n,e){var r,i,o,a,u,f,s,c,l,h,p,d,v=e[0],m=e[1],g=e[2];return n===t?(t[12]=n[0]*v+n[4]*m+n[8]*g+n[12],t[13]=n[1]*v+n[5]*m+n[9]*g+n[13],t[14]=n[2]*v+n[6]*m+n[10]*g+n[14],t[15]=n[3]*v+n[7]*m+n[11]*g+n[15]):(r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],s=n[6],c=n[7],l=n[8],h=n[9],p=n[10],d=n[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=f,t[6]=s,t[7]=c,t[8]=l,t[9]=h,t[10]=p,t[11]=d,t[12]=r*v+u*m+l*g+n[12],t[13]=i*v+f*m+h*g+n[13],t[14]=o*v+s*m+p*g+n[14],t[15]=a*v+c*m+d*g+n[15]),t}function T(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function C(t,n,e,r){var i,o,a,u,f,s,c,l,h,p,d,v,m,g,y,b,x,_,w,M,A,E,k,S,T=r[0],C=r[1],z=r[2],j=Math.hypot(T,C,z);return j<1e-6?null:(T*=j=1/j,C*=j,z*=j,i=Math.sin(e),a=1-(o=Math.cos(e)),u=n[0],f=n[1],s=n[2],c=n[3],l=n[4],h=n[5],p=n[6],d=n[7],v=n[8],m=n[9],g=n[10],y=n[11],b=T*T*a+o,x=C*T*a+z*i,_=z*T*a-C*i,w=T*C*a-z*i,M=C*C*a+o,A=z*C*a+T*i,E=T*z*a+C*i,k=C*z*a-T*i,S=z*z*a+o,t[0]=u*b+l*x+v*_,t[1]=f*b+h*x+m*_,t[2]=s*b+p*x+g*_,t[3]=c*b+d*x+y*_,t[4]=u*w+l*M+v*A,t[5]=f*w+h*M+m*A,t[6]=s*w+p*M+g*A,t[7]=c*w+d*M+y*A,t[8]=u*E+l*k+v*S,t[9]=f*E+h*k+m*S,t[10]=s*E+p*k+g*S,t[11]=c*E+d*k+y*S,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function z(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],u=n[6],f=n[7],s=n[8],c=n[9],l=n[10],h=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+s*r,t[5]=a*i+c*r,t[6]=u*i+l*r,t[7]=f*i+h*r,t[8]=s*i-o*r,t[9]=c*i-a*r,t[10]=l*i-u*r,t[11]=h*i-f*r,t}function j(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],s=n[8],c=n[9],l=n[10],h=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-s*r,t[1]=a*i-c*r,t[2]=u*i-l*r,t[3]=f*i-h*r,t[8]=o*r+s*i,t[9]=a*r+c*i,t[10]=u*r+l*i,t[11]=f*r+h*i,t}function D(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],s=n[4],c=n[5],l=n[6],h=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+s*r,t[1]=a*i+c*r,t[2]=u*i+l*r,t[3]=f*i+h*r,t[4]=s*i-o*r,t[5]=c*i-a*r,t[6]=l*i-u*r,t[7]=h*i-f*r,t}function B(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function O(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,n,e){var r,i,o,a=e[0],u=e[1],f=e[2],s=Math.hypot(a,u,f);return s<1e-6?null:(a*=s=1/s,u*=s,f*=s,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+f*r,t[2]=f*a*o-u*r,t[3]=0,t[4]=a*u*o-f*r,t[5]=u*u*o+i,t[6]=f*u*o+a*r,t[7]=0,t[8]=a*f*o+u*r,t[9]=u*f*o-a*r,t[10]=f*f*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function L(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=r+r,f=i+i,s=o+o,c=r*u,l=r*f,h=r*s,p=i*f,d=i*s,v=o*s,m=a*u,g=a*f,y=a*s;return t[0]=1-(p+v),t[1]=l+y,t[2]=h-g,t[3]=0,t[4]=l-y,t[5]=1-(c+v),t[6]=d+m,t[7]=0,t[8]=h+g,t[9]=d-m,t[10]=1-(c+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function I(t,n){var e=new d(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],f=n[5],s=n[6],c=n[7],l=r*r+i*i+o*o+a*a;return l>0?(e[0]=2*(u*a+c*r+f*o-s*i)/l,e[1]=2*(f*a+c*i+s*r-u*o)/l,e[2]=2*(s*a+c*o+u*i-f*r)/l):(e[0]=2*(u*a+c*r+f*o-s*i),e[1]=2*(f*a+c*i+s*r-u*o),e[2]=2*(s*a+c*o+u*i-f*r)),R(t,n,e),t}function U(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function q(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],u=n[6],f=n[8],s=n[9],c=n[10];return t[0]=Math.hypot(e,r,i),t[1]=Math.hypot(o,a,u),t[2]=Math.hypot(f,s,c),t}function W(t,n){var e=new d(3);q(e,n);var r=1/e[0],i=1/e[1],o=1/e[2],a=n[0]*r,u=n[1]*i,f=n[2]*o,s=n[4]*r,c=n[5]*i,l=n[6]*o,h=n[8]*r,p=n[9]*i,v=n[10]*o,m=a+c+v,g=0;return m>0?(g=2*Math.sqrt(m+1),t[3]=.25*g,t[0]=(l-p)/g,t[1]=(h-f)/g,t[2]=(u-s)/g):a>c&&a>v?(g=2*Math.sqrt(1+a-c-v),t[3]=(l-p)/g,t[0]=.25*g,t[1]=(u+s)/g,t[2]=(h+f)/g):c>v?(g=2*Math.sqrt(1+c-a-v),t[3]=(h-f)/g,t[0]=(u+s)/g,t[1]=.25*g,t[2]=(l+p)/g):(g=2*Math.sqrt(1+v-a-c),t[3]=(u-s)/g,t[0]=(h+f)/g,t[1]=(l+p)/g,t[2]=.25*g),t}function Y(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],f=i+i,s=o+o,c=a+a,l=i*f,h=i*s,p=i*c,d=o*s,v=o*c,m=a*c,g=u*f,y=u*s,b=u*c,x=r[0],_=r[1],w=r[2];return t[0]=(1-(d+m))*x,t[1]=(h+b)*x,t[2]=(p-y)*x,t[3]=0,t[4]=(h-b)*_,t[5]=(1-(l+m))*_,t[6]=(v+g)*_,t[7]=0,t[8]=(p+y)*w,t[9]=(v-g)*w,t[10]=(1-(l+d))*w,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function H(t,n,e,r,i){var o=n[0],a=n[1],u=n[2],f=n[3],s=o+o,c=a+a,l=u+u,h=o*s,p=o*c,d=o*l,v=a*c,m=a*l,g=u*l,y=f*s,b=f*c,x=f*l,_=r[0],w=r[1],M=r[2],A=i[0],E=i[1],k=i[2],S=(1-(v+g))*_,T=(p+x)*_,C=(d-b)*_,z=(p-x)*w,j=(1-(h+g))*w,D=(m+y)*w,B=(d+b)*M,O=(m-y)*M,P=(1-(h+v))*M;return t[0]=S,t[1]=T,t[2]=C,t[3]=0,t[4]=z,t[5]=j,t[6]=D,t[7]=0,t[8]=B,t[9]=O,t[10]=P,t[11]=0,t[12]=e[0]+A-(S*A+z*E+B*k),t[13]=e[1]+E-(T*A+j*E+O*k),t[14]=e[2]+k-(C*A+D*E+P*k),t[15]=1,t}function $(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,f=i+i,s=e*a,c=r*a,l=r*u,h=i*a,p=i*u,d=i*f,v=o*a,m=o*u,g=o*f;return t[0]=1-l-d,t[1]=c+g,t[2]=h-m,t[3]=0,t[4]=c-g,t[5]=1-s-d,t[6]=p+v,t[7]=0,t[8]=h+m,t[9]=p-v,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function V(t,n,e,r,i,o,a){var u=1/(e-n),f=1/(i-r),s=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*f,t[6]=0,t[7]=0,t[8]=(e+n)*u,t[9]=(i+r)*f,t[10]=(a+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*s,t[15]=0,t}function G(t,n,e,r,i){var o,a=1/Math.tan(n/2);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function X(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),f=2/(a+u),s=2/(i+o);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(a-u)*f*.5,t[9]=(i-o)*s*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function Z(t,n,e,r,i,o,a){var u=1/(n-e),f=1/(r-i),s=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(n+e)*u,t[13]=(i+r)*f,t[14]=(a+o)*s,t[15]=1,t}function Q(t,n,e,r){var i,o,a,u,f,s,c,l,h,p,d=n[0],v=n[1],m=n[2],g=r[0],y=r[1],b=r[2],x=e[0],w=e[1],M=e[2];return Math.abs(d-x)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(m-M)<1e-6?_(t):(c=d-x,l=v-w,h=m-M,i=y*(h*=p=1/Math.hypot(c,l,h))-b*(l*=p),o=b*(c*=p)-g*h,a=g*l-y*c,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),u=l*a-h*o,f=h*i-c*a,s=c*o-l*i,(p=Math.hypot(u,f,s))?(u*=p=1/p,f*=p,s*=p):(u=0,f=0,s=0),t[0]=i,t[1]=u,t[2]=c,t[3]=0,t[4]=o,t[5]=f,t[6]=l,t[7]=0,t[8]=a,t[9]=s,t[10]=h,t[11]=0,t[12]=-(i*d+o*v+a*m),t[13]=-(u*d+f*v+s*m),t[14]=-(c*d+l*v+h*m),t[15]=1,t)}function J(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=r[0],f=r[1],s=r[2],c=i-e[0],l=o-e[1],h=a-e[2],p=c*c+l*l+h*h;p>0&&(c*=p=1/Math.sqrt(p),l*=p,h*=p);var d=f*h-s*l,v=s*c-u*h,m=u*l-f*c;return(p=d*d+v*v+m*m)>0&&(d*=p=1/Math.sqrt(p),v*=p,m*=p),t[0]=d,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-h*v,t[5]=h*d-c*m,t[6]=c*v-l*d,t[7]=0,t[8]=c,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function K(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function tt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function nt(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function et(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function rt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function it(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function ot(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function at(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=t[6],s=t[7],c=t[8],l=t[9],h=t[10],p=t[11],d=t[12],v=t[13],m=t[14],g=t[15],y=n[0],b=n[1],x=n[2],_=n[3],w=n[4],M=n[5],A=n[6],E=n[7],k=n[8],S=n[9],T=n[10],C=n[11],z=n[12],j=n[13],D=n[14],B=n[15];return Math.abs(e-y)<=1e-6*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(r-b)<=1e-6*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-x)<=1e-6*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-_)<=1e-6*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-w)<=1e-6*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(u-M)<=1e-6*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(f-A)<=1e-6*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(s-E)<=1e-6*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-k)<=1e-6*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(l-S)<=1e-6*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(h-T)<=1e-6*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-C)<=1e-6*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(d-z)<=1e-6*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(v-j)<=1e-6*Math.max(1,Math.abs(v),Math.abs(j))&&Math.abs(m-D)<=1e-6*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(g-B)<=1e-6*Math.max(1,Math.abs(g),Math.abs(B))}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var ut=k,ft=et;function st(){var t=new d(2);return d!=Float32Array&&(t[0]=0,t[1]=0),t}function ct(t){var n=new d(2);return n[0]=t[0],n[1]=t[1],n}function lt(t,n){var e=new d(2);return e[0]=t,e[1]=n,e}function ht(t,n){return t[0]=n[0],t[1]=n[1],t}function pt(t,n,e){return t[0]=n,t[1]=e,t}function dt(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function vt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function mt(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function gt(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function yt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function bt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function xt(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function _t(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function wt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function Mt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function At(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function Et(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.hypot(e,r)}function kt(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function St(t){var n=t[0],e=t[1];return Math.hypot(n,e)}function Tt(t){var n=t[0],e=t[1];return n*n+e*e}function Ct(t,n){return t[0]=-n[0],t[1]=-n[1],t}function zt(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function jt(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=n[0]*i,t[1]=n[1]*i,t}function Dt(t,n){return t[0]*n[0]+t[1]*n[1]}function Bt(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function Ot(t,n,e,r){var i=n[0],o=n[1];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t}function Pt(t,n){n=n||1;var e=2*v()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function Lt(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i,t[1]=e[1]*r+e[3]*i,t}function Ft(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t}function Nt(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[3]*i+e[6],t[1]=e[1]*r+e[4]*i+e[7],t}function Rt(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[4]*i+e[12],t[1]=e[1]*r+e[5]*i+e[13],t}function It(t,n,e,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sin(r),u=Math.cos(r);return t[0]=i*u-o*a+e[0],t[1]=i*a+o*u+e[1],t}function Ut(t,n){var e=t[0],r=t[1],i=n[0],o=n[1],a=Math.sqrt(e*e+r*r)*Math.sqrt(i*i+o*o),u=a&&(e*i+r*o)/a;return Math.acos(Math.min(Math.max(u,-1),1))}function qt(t){return t[0]=0,t[1]=0,t}function Wt(t){return"vec2("+t[0]+", "+t[1]+")"}function Yt(t,n){return t[0]===n[0]&&t[1]===n[1]}function Ht(t,n){var e=t[0],r=t[1],i=n[0],o=n[1];return Math.abs(e-i)<=1e-6*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}var $t,Vt=St,Gt=vt,Xt=mt,Zt=gt,Qt=Et,Jt=kt,Kt=Tt,tn=($t=st(),function(t,n,e,r,i,o){var a,u;for(n||(n=2),e||(e=0),u=r?Math.min(r*n+e,t.length):t.length,a=e;a<u;a+=n)$t[0]=t[a],$t[1]=t[a+1],i($t,$t,o),t[a]=$t[0],t[a+1]=$t[1];return t});function nn(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function en(t){var n=new d(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function rn(t,n,e,r){var i=new d(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function on(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function an(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function un(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function fn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function sn(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function cn(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function ln(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function hn(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function pn(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function dn(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function vn(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function mn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function gn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function yn(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.hypot(e,r,i,o)}function bn(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function xn(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.hypot(n,e,r,i)}function _n(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function wn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function Mn(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function An(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function En(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function kn(t,n,e,r){var i=e[0]*r[1]-e[1]*r[0],o=e[0]*r[2]-e[2]*r[0],a=e[0]*r[3]-e[3]*r[0],u=e[1]*r[2]-e[2]*r[1],f=e[1]*r[3]-e[3]*r[1],s=e[2]*r[3]-e[3]*r[2],c=n[0],l=n[1],h=n[2],p=n[3];return t[0]=l*s-h*f+p*u,t[1]=-c*s+h*a-p*o,t[2]=c*f-l*a+p*i,t[3]=-c*u+l*o-h*i,t}function Sn(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t[3]=u+r*(e[3]-u),t}function Tn(t,n){var e,r,i,o,a,u;n=n||1;do{a=(e=2*v()-1)*e+(r=2*v()-1)*r}while(a>=1);do{u=(i=2*v()-1)*i+(o=2*v()-1)*o}while(u>=1);var f=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*r,t[2]=n*i*f,t[3]=n*o*f,t}function Cn(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*a,t}function zn(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],f=e[2],s=e[3],c=s*r+u*o-f*i,l=s*i+f*r-a*o,h=s*o+a*i-u*r,p=-a*r-u*i-f*o;return t[0]=c*s+p*-a+l*-f-h*-u,t[1]=l*s+p*-u+h*-a-c*-f,t[2]=h*s+p*-f+c*-u-l*-a,t[3]=n[3],t}function jn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Dn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Bn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function On(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],f=n[2],s=n[3];return Math.abs(e-a)<=1e-6*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=1e-6*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-f)<=1e-6*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-s)<=1e-6*Math.max(1,Math.abs(o),Math.abs(s))}var Pn=fn,Ln=sn,Fn=cn,Nn=yn,Rn=bn,In=xn,Un=_n,qn=function(){var t=nn();return function(n,e,r,i,o,a){var u,f;for(e||(e=4),r||(r=0),f=i?Math.min(i*e+r,n.length):n.length,u=r;u<f;u+=e)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],t[3]=n[u+3],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2],n[u+3]=t[3];return n}}(),Wn=e(0),Yn=e.n(Wn),Hn=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},$n=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return Hn(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var Vn=$n(Hn),Gn=Vn.right,Xn=(Vn.left,Gn);var Zn=Array.prototype,Qn=(Zn.slice,Zn.map,Math.sqrt(50)),Jn=Math.sqrt(10),Kn=Math.sqrt(2),te=function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=ne(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function ne(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Qn?10:o>=Jn?5:o>=Kn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Qn?10:o>=Jn?5:o>=Kn?2:1)}function ee(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Qn?i*=10:o>=Jn?i*=5:o>=Kn&&(i*=2),n<t?-i:i}Array.prototype.slice;var re={value:function(){}};function ie(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new oe(r)}function oe(t){this._=t}function ae(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function ue(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function fe(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=re,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}oe.prototype=ie.prototype={constructor:oe,on:function(t,n){var e,r=this._,i=ae(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=fe(r[e],t.name,n);else if(null==n)for(e in r)r[e]=fe(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=ue(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new oe(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var se=ie;function ce(){}var le=function(t){return null==t?ce:function(){return this.querySelector(t)}};function he(){return[]}var pe=function(t){return null==t?he:function(){return this.querySelectorAll(t)}},de=function(t){return function(){return this.matches(t)}},ve=function(t){return new Array(t.length)};function me(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}me.prototype={constructor:me,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ge(t,n,e,r,i,o){for(var a,u=0,f=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new me(t,o[u]);for(;u<f;++u)(a=n[u])&&(i[u]=a)}function ye(t,n,e,r,i,o,a){var u,f,s,c={},l=n.length,h=o.length,p=new Array(l);for(u=0;u<l;++u)(f=n[u])&&(p[u]=s="$"+a.call(f,f.__data__,u,n),s in c?i[u]=f:c[s]=f);for(u=0;u<h;++u)(f=c[s="$"+a.call(t,o[u],u,o)])?(r[u]=f,f.__data__=o[u],c[s]=null):e[u]=new me(t,o[u]);for(u=0;u<l;++u)(f=n[u])&&c[p[u]]===f&&(i[u]=f)}function be(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var xe="http://www.w3.org/1999/xhtml",_e={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},we=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),_e.hasOwnProperty(n)?{space:_e[n],local:t}:t};function Me(t){return function(){this.removeAttribute(t)}}function Ae(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ee(t,n){return function(){this.setAttribute(t,n)}}function ke(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Se(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Te(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Ce=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function ze(t){return function(){this.style.removeProperty(t)}}function je(t,n,e){return function(){this.style.setProperty(t,n,e)}}function De(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Be(t,n){return t.style.getPropertyValue(n)||Ce(t).getComputedStyle(t,null).getPropertyValue(n)}function Oe(t){return function(){delete this[t]}}function Pe(t,n){return function(){this[t]=n}}function Le(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Fe(t){return t.trim().split(/^|\s+/)}function Ne(t){return t.classList||new Re(t)}function Re(t){this._node=t,this._names=Fe(t.getAttribute("class")||"")}function Ie(t,n){for(var e=Ne(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Ue(t,n){for(var e=Ne(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function qe(t){return function(){Ie(this,t)}}function We(t){return function(){Ue(this,t)}}function Ye(t,n){return function(){(n.apply(this,arguments)?Ie:Ue)(this,t)}}Re.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function He(){this.textContent=""}function $e(t){return function(){this.textContent=t}}function Ve(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ge(){this.innerHTML=""}function Xe(t){return function(){this.innerHTML=t}}function Ze(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Qe(){this.nextSibling&&this.parentNode.appendChild(this)}function Je(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ke(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xe&&n.documentElement.namespaceURI===xe?n.createElement(t):n.createElementNS(e,t)}}function tr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var nr=function(t){var n=we(t);return(n.local?tr:Ke)(n)};function er(){return null}function rr(){var t=this.parentNode;t&&t.removeChild(this)}function ir(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function or(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var ar={},ur=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ar={mouseenter:"mouseover",mouseleave:"mouseout"}));function fr(t,n,e){return t=sr(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function sr(t,n,e){return function(r){var i=ur;ur=r;try{t.call(this,this.__data__,n,e)}finally{ur=i}}}function cr(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function lr(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function hr(t,n,e){var r=ar.hasOwnProperty(t.type)?fr:sr;return function(i,o,a){var u,f=this.__on,s=r(n,o,a);if(f)for(var c=0,l=f.length;c<l;++c)if((u=f[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=e),void(u.value=n);this.addEventListener(t.type,s,e),u={type:t.type,name:t.name,value:n,listener:s,capture:e},f?f.push(u):this.__on=[u]}}function pr(t,n,e,r){var i=ur;t.sourceEvent=ur,ur=t;try{return n.apply(e,r)}finally{ur=i}}function dr(t,n,e){var r=Ce(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function vr(t,n){return function(){return dr(this,t,n)}}function mr(t,n){return function(){return dr(this,t,n.apply(this,arguments))}}var gr=[null];function yr(t,n){this._groups=t,this._parents=n}function br(){return new yr([[document.documentElement]],gr)}yr.prototype=br.prototype={constructor:yr,select:function(t){"function"!=typeof t&&(t=le(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],f=u.length,s=r[i]=new Array(f),c=0;c<f;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),s[c]=a);return new yr(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=pe(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],f=u.length,s=0;s<f;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new yr(r,i)},filter:function(t){"function"!=typeof t&&(t=de(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&f.push(o);return new yr(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var e,r=n?ye:ge,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),f=new Array(a),s=new Array(a),c=0;c<a;++c){var l=i[c],h=o[c],p=h.length,d=t.call(l,l&&l.__data__,c,i),v=d.length,m=f[c]=new Array(v),g=u[c]=new Array(v);r(l,h,m,g,s[c]=new Array(p),d,n);for(var y,b,x=0,_=0;x<v;++x)if(y=m[x]){for(x>=_&&(_=x+1);!(b=g[_])&&++_<v;);y._next=b||null}}return(u=new yr(u,i))._enter=f,u._exit=s,u},enter:function(){return new yr(this._enter||this._groups.map(ve),this._parents)},exit:function(){return new yr(this._exit||this._groups.map(ve),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,s=n[u],c=e[u],l=s.length,h=a[u]=new Array(l),p=0;p<l;++p)(f=s[p]||c[p])&&(h[p]=f);for(;u<r;++u)a[u]=n[u];return new yr(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=be);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],f=u.length,s=i[o]=new Array(f),c=0;c<f;++c)(a=u[c])&&(s[c]=a);s.sort(n)}return new yr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=we(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Ae:Me:"function"==typeof n?e.local?Te:Se:e.local?ke:Ee)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?ze:"function"==typeof n?De:je)(t,n,null==e?"":e)):Be(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Oe:"function"==typeof n?Le:Pe)(t,n)):this.node()[t]},classed:function(t,n){var e=Fe(t+"");if(arguments.length<2){for(var r=Ne(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Ye:n?qe:We)(e,n))},text:function(t){return arguments.length?this.each(null==t?He:("function"==typeof t?Ve:$e)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ge:("function"==typeof t?Ze:Xe)(t)):this.node().innerHTML},raise:function(){return this.each(Qe)},lower:function(){return this.each(Je)},append:function(t){var n="function"==typeof t?t:nr(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:nr(t),r=null==n?er:"function"==typeof n?n:le(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(rr)},clone:function(t){return this.select(t?or:ir)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=cr(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?hr:lr,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var f,s=0,c=u.length;s<c;++s)for(r=0,f=u[s];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?mr:vr)(t,n))}};var xr=br,_r=function(t){return"string"==typeof t?new yr([[document.querySelector(t)]],[document.documentElement]):new yr([[t]],gr)};var wr=function(){ur.preventDefault(),ur.stopImmediatePropagation()},Mr=function(t){var n=t.document.documentElement,e=_r(t).on("dragstart.drag",wr,!0);"onselectstart"in n?e.on("selectstart.drag",wr,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Ar(t,n){var e=t.document.documentElement,r=_r(t).on("dragstart.drag",null);n&&(r.on("click.drag",wr,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Er=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function kr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Sr(){}var Tr="\\s*([+-]?\\d+)\\s*",Cr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jr=/^#([0-9a-f]{3,8})$/,Dr=new RegExp("^rgb\\("+[Tr,Tr,Tr]+"\\)$"),Br=new RegExp("^rgb\\("+[zr,zr,zr]+"\\)$"),Or=new RegExp("^rgba\\("+[Tr,Tr,Tr,Cr]+"\\)$"),Pr=new RegExp("^rgba\\("+[zr,zr,zr,Cr]+"\\)$"),Lr=new RegExp("^hsl\\("+[Cr,zr,zr]+"\\)$"),Fr=new RegExp("^hsla\\("+[Cr,zr,zr,Cr]+"\\)$"),Nr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rr(){return this.rgb().formatHex()}function Ir(){return this.rgb().formatRgb()}function Ur(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=jr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?qr(n):3===e?new $r(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new $r(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new $r(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Dr.exec(t))?new $r(n[1],n[2],n[3],1):(n=Br.exec(t))?new $r(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Or.exec(t))?Wr(n[1],n[2],n[3],n[4]):(n=Pr.exec(t))?Wr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Lr.exec(t))?Zr(n[1],n[2]/100,n[3]/100,1):(n=Fr.exec(t))?Zr(n[1],n[2]/100,n[3]/100,n[4]):Nr.hasOwnProperty(t)?qr(Nr[t]):"transparent"===t?new $r(NaN,NaN,NaN,0):null}function qr(t){return new $r(t>>16&255,t>>8&255,255&t,1)}function Wr(t,n,e,r){return r<=0&&(t=n=e=NaN),new $r(t,n,e,r)}function Yr(t){return t instanceof Sr||(t=Ur(t)),t?new $r((t=t.rgb()).r,t.g,t.b,t.opacity):new $r}function Hr(t,n,e,r){return 1===arguments.length?Yr(t):new $r(t,n,e,null==r?1:r)}function $r(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Vr(){return"#"+Xr(this.r)+Xr(this.g)+Xr(this.b)}function Gr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Xr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Zr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Jr(t,n,e,r)}function Qr(t){if(t instanceof Jr)return new Jr(t.h,t.s,t.l,t.opacity);if(t instanceof Sr||(t=Ur(t)),!t)return new Jr;if(t instanceof Jr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new Jr(a,u,f,t.opacity)}function Jr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Kr(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ti(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}Er(Sr,Ur,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Rr,formatHex:Rr,formatHsl:function(){return Qr(this).formatHsl()},formatRgb:Ir,toString:Ir}),Er($r,Hr,kr(Sr,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vr,formatHex:Vr,formatRgb:Gr,toString:Gr})),Er(Jr,(function(t,n,e,r){return 1===arguments.length?Qr(t):new Jr(t,n,e,null==r?1:r)}),kr(Sr,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Jr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new $r(Kr(t>=240?t-240:t+120,i,r),Kr(t,i,r),Kr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ni=function(t){return function(){return t}};function ei(t,n){return function(e){return t+e*n}}function ri(t){return 1==(t=+t)?ii:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ni(isNaN(n)?e:n)}}function ii(t,n){var e=n-t;return e?ei(t,e):ni(isNaN(t)?n:t)}var oi=function t(n){var e=ri(n);function r(t,n){var r=e((t=Hr(t)).r,(n=Hr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ii(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function ai(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Hr(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}ai((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return ti((e-r/n)*n,a,i,o,u)}})),ai((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return ti((e-r/n)*n,i,o,a,u)}}));var ui=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function fi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function si(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=yi(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}var ci=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},li=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},hi=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=yi(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,di=new RegExp(pi.source,"g");var vi,mi,gi=function(t,n){var e,r,i,o=pi.lastIndex=di.lastIndex=0,a=-1,u=[],f=[];for(t+="",n+="";(e=pi.exec(t))&&(r=di.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:li(e,r)})),o=di.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)u[(e=f[r]).i]=e.x(t);return u.join("")})},yi=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?ni(n):("number"===r?li:"string"===r?(e=Ur(n))?(n=e,oi):gi:n instanceof Ur?oi:n instanceof Date?ci:fi(n)?ui:Array.isArray(n)?si:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?hi:li)(t,n)},bi=function(){for(var t,n=ur;t=n.sourceEvent;)n=t;return n},xi=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},_i=function(t,n,e){arguments.length<3&&(e=n,n=bi().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return xi(t,r);return null},wi=function(t){var n=bi();return n.changedTouches&&(n=n.changedTouches[0]),xi(t,n)},Mi=0,Ai=0,Ei=0,ki=0,Si=0,Ti=0,Ci="object"==typeof performance&&performance.now?performance:Date,zi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ji(){return Si||(zi(Di),Si=Ci.now()+Ti)}function Di(){Si=0}function Bi(){this._call=this._time=this._next=null}function Oi(t,n,e){var r=new Bi;return r.restart(t,n,e),r}function Pi(){Si=(ki=Ci.now())+Ti,Mi=Ai=0;try{!function(){ji(),++Mi;for(var t,n=vi;n;)(t=Si-n._time)>=0&&n._call.call(null,t),n=n._next;--Mi}()}finally{Mi=0,function(){var t,n,e=vi,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:vi=n);mi=t,Fi(r)}(),Si=0}}function Li(){var t=Ci.now(),n=t-ki;n>1e3&&(Ti-=n,ki=t)}function Fi(t){Mi||(Ai&&(Ai=clearTimeout(Ai)),t-Si>24?(t<1/0&&(Ai=setTimeout(Pi,t-Ci.now()-Ti)),Ei&&(Ei=clearInterval(Ei))):(Ei||(ki=Ci.now(),Ei=setInterval(Li,1e3)),Mi=1,zi(Pi)))}Bi.prototype=Oi.prototype={constructor:Bi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ji():+e)+(null==n?0:+n),this._next||mi===this||(mi?mi._next=this:vi=this,mi=this),this._call=t,this._time=e,Fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fi())}};var Ni=function(t,n,e){var r=new Bi;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Ri=se("start","end","cancel","interrupt"),Ii=[],Ui=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(f){var s,c,l,h;if(1!==e.state)return u();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return Ni(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ni((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(f))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),s=0,c=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Oi((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Ri,tween:Ii,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function qi(t,n){var e=Yi(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Wi(t,n){var e=Yi(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Yi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Hi,$i,Vi,Gi,Xi=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},Zi=180/Math.PI,Qi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ji=function(t,n,e,r,i,o){var a,u,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,f/=u),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Zi,skewX:Math.atan(f)*Zi,scaleX:a,scaleY:u}};function Ki(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],f=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var f=a.push("translate(",null,n,null,e);u.push({i:f-4,x:li(t,i)},{i:f-2,x:li(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,f),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:li(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,f),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:li(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,f),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:li(t,e)},{i:u-2,x:li(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,f),o=a=null,function(t){for(var n,e=-1,r=f.length;++e<r;)u[(n=f[e]).i]=n.x(t);return u.join("")}}}var to=Ki((function(t){return"none"===t?Qi:(Hi||(Hi=document.createElement("DIV"),$i=document.documentElement,Vi=document.defaultView),Hi.style.transform=t,t=Vi.getComputedStyle($i.appendChild(Hi),null).getPropertyValue("transform"),$i.removeChild(Hi),t=t.slice(7,-1).split(","),Ji(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),no=Ki((function(t){return null==t?Qi:(Gi||(Gi=document.createElementNS("http://www.w3.org/2000/svg","g")),Gi.setAttribute("transform",t),(t=Gi.transform.baseVal.consolidate())?(t=t.matrix,Ji(t.a,t.b,t.c,t.d,t.e,t.f)):Qi)}),", ",")",")");function eo(t,n){var e,r;return function(){var i=Wi(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function ro(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Wi(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},f=0,s=i.length;f<s;++f)if(i[f].name===n){i[f]=u;break}f===s&&i.push(u)}o.tween=i}}function io(t,n,e){var r=t._id;return t.each((function(){var t=Wi(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Yi(t,r).value[n]}}var oo=function(t,n){var e;return("number"==typeof n?li:n instanceof Ur?oi:(e=Ur(n))?(n=e,oi):gi)(t,n)};function ao(t){return function(){this.removeAttribute(t)}}function uo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fo(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function so(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function co(t,n,e){var r,i,o;return function(){var a,u,f=e(this);if(null!=f)return(a=this.getAttribute(t))===(u=f+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,f));this.removeAttribute(t)}}function lo(t,n,e){var r,i,o;return function(){var a,u,f=e(this);if(null!=f)return(a=this.getAttributeNS(t.space,t.local))===(u=f+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,f));this.removeAttributeNS(t.space,t.local)}}function ho(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function po(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function vo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&po(t,i)),e}return i._value=n,i}function mo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ho(t,i)),e}return i._value=n,i}function go(t,n){return function(){qi(this,t).delay=+n.apply(this,arguments)}}function yo(t,n){return n=+n,function(){qi(this,t).delay=n}}function bo(t,n){return function(){Wi(this,t).duration=+n.apply(this,arguments)}}function xo(t,n){return n=+n,function(){Wi(this,t).duration=n}}function _o(t,n){if("function"!=typeof n)throw new Error;return function(){Wi(this,t).ease=n}}function wo(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?qi:Wi;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Mo=xr.prototype.constructor;function Ao(t){return function(){this.style.removeProperty(t)}}function Eo(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ko(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Eo(t,o,e)),r}return o._value=n,o}function So(t){return function(n){this.textContent=t.call(this,n)}}function To(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&So(r)),n}return r._value=t,r}var Co=0;function zo(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function jo(){return++Co}var Do=xr.prototype;zo.prototype=function(t){return xr().transition(t)}.prototype={constructor:zo,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=le(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,f,s=r[a],c=s.length,l=o[a]=new Array(c),h=0;h<c;++h)(u=s[h])&&(f=t.call(u,u.__data__,h,s))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f,Ui(l[h],n,e,h,l,Yi(u,e)));return new zo(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=pe(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var f,s=r[u],c=s.length,l=0;l<c;++l)if(f=s[l]){for(var h,p=t.call(f,f.__data__,l,s),d=Yi(f,e),v=0,m=p.length;v<m;++v)(h=p[v])&&Ui(h,n,e,v,p,d);o.push(p),a.push(f)}return new zo(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=de(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&f.push(o);return new zo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,s=n[u],c=e[u],l=s.length,h=a[u]=new Array(l),p=0;p<l;++p)(f=s[p]||c[p])&&(h[p]=f);for(;u<r;++u)a[u]=n[u];return new zo(a,this._parents,this._name,this._id)},selection:function(){return new Mo(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=jo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,s=0;s<f;++s)if(a=u[s]){var c=Yi(a,n);Ui(a,t,e,s,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zo(r,this._parents,t,e)},call:Do.call,nodes:Do.nodes,node:Do.node,size:Do.size,empty:Do.empty,each:Do.each,on:function(t,n){var e=this._id;return arguments.length<2?Yi(this.node(),e).on.on(t):this.each(wo(e,t,n))},attr:function(t,n){var e=we(t),r="transform"===e?no:oo;return this.attrTween(t,"function"==typeof n?(e.local?lo:co)(e,r,io(this,"attr."+t,n)):null==n?(e.local?uo:ao)(e):(e.local?so:fo)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=we(t);return this.tween(e,(r.local?vo:mo)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?to:oo;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Be(this,t),a=(this.style.removeProperty(t),Be(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Ao(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Be(this,t),u=e(this),f=u+"";return null==u&&(this.style.removeProperty(t),f=u=Be(this,t)),a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,u))}}(t,r,io(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var f=Wi(this,t),s=f.on,c=null==f.value[a]?o||(o=Ao(n)):void 0;s===e&&i===c||(r=(e=s).copy()).on(u,i=c),f.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Be(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,ko(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(io(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,To(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Yi(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?eo:ro)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?go:yo)(n,t)):Yi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?bo:xo)(n,t)):Yi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(_o(n,t)):Yi(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},f={value:function(){0==--i&&o()}};e.each((function(){var e=Wi(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(f)),e.on=n}))}))}};var Bo={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Oo(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Bo.time=ji(),Bo;return e}xr.prototype.interrupt=function(t){return this.each((function(){Xi(this,t)}))},xr.prototype.transition=function(t){var n,e;t instanceof zo?(n=t._id,t=t._name):(n=jo(),(e=Bo).time=ji(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,s=0;s<f;++s)(a=u[s])&&Ui(a,t,n,s,u,e||Oo(a,n));return new zo(r,this._parents,t,n)};var Po=function(t){return function(){return t}},Lo=function(t,n,e){this.target=t,this.type=n,this.selection=e};function Fo(){ur.stopImmediatePropagation()}var No=function(){ur.preventDefault(),ur.stopImmediatePropagation()},Ro={name:"drag"},Io={name:"space"},Uo={name:"handle"},qo={name:"center"};function Wo(t){return[+t[0],+t[1]]}function Yo(t){return[Wo(t[0]),Wo(t[1])]}function Ho(t){return function(n){return _i(n,ur.touches,t)}}var $o={name:"x",handles:["w","e"].map(ta),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Vo={name:"y",handles:["n","s"].map(ta),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Go={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ta),input:function(t){return null==t?null:Yo(t)},output:function(t){return t}},Xo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Qo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Jo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ko={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ta(t){return{type:t}}function na(){return!ur.ctrlKey&&!ur.button}function ea(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ra(){return navigator.maxTouchPoints||"ontouchstart"in this}function ia(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function oa(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function aa(t){var n,e=ea,r=na,i=ra,o=!0,a=se("start","brush","end"),u=6;function f(n){var e=n.property("__brush",v).selectAll(".overlay").data([ta("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xo.overlay).merge(e).each((function(){var t=ia(this).extent;_r(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([ta("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Xo[t.type]})),n.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function s(){var t=_r(this),n=ia(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n,e){return!e&&t.__brush.emitter||new l(t,n)}function l(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function h(){if((!n||ur.touches)&&r.apply(this,arguments)){var e,i,a,u,f,l,h,p,d,v,m,g=this,y=ur.target.__data__.type,b="selection"===(o&&ur.metaKey?y="overlay":y)?Ro:o&&ur.altKey?qo:Uo,x=t===Vo?null:Jo[y],_=t===$o?null:Ko[y],w=ia(g),M=w.extent,A=w.selection,E=M[0][0],k=M[0][1],S=M[1][0],T=M[1][1],C=0,z=0,j=x&&_&&o&&ur.shiftKey,D=ur.touches?Ho(ur.changedTouches[0].identifier):wi,B=D(g),O=B,P=c(g,arguments,!0).beforestart();"overlay"===y?(A&&(d=!0),w.selection=A=[[e=t===Vo?E:B[0],a=t===$o?k:B[1]],[f=t===Vo?S:e,h=t===$o?T:a]]):(e=A[0][0],a=A[0][1],f=A[1][0],h=A[1][1]),i=e,u=a,l=f,p=h;var L=_r(g).attr("pointer-events","none"),F=L.selectAll(".overlay").attr("cursor",Xo[y]);if(ur.touches)P.moved=R,P.ended=U;else{var N=_r(ur.view).on("mousemove.brush",R,!0).on("mouseup.brush",U,!0);o&&N.on("keydown.brush",q,!0).on("keyup.brush",W,!0),Mr(ur.view)}Fo(),Xi(g),s.call(g),P.start()}function R(){var t=D(g);!j||v||m||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?m=!0:v=!0),O=t,d=!0,No(),I()}function I(){var t;switch(C=O[0]-B[0],z=O[1]-B[1],b){case Io:case Ro:x&&(C=Math.max(E-e,Math.min(S-f,C)),i=e+C,l=f+C),_&&(z=Math.max(k-a,Math.min(T-h,z)),u=a+z,p=h+z);break;case Uo:x<0?(C=Math.max(E-e,Math.min(S-e,C)),i=e+C,l=f):x>0&&(C=Math.max(E-f,Math.min(S-f,C)),i=e,l=f+C),_<0?(z=Math.max(k-a,Math.min(T-a,z)),u=a+z,p=h):_>0&&(z=Math.max(k-h,Math.min(T-h,z)),u=a,p=h+z);break;case qo:x&&(i=Math.max(E,Math.min(S,e-C*x)),l=Math.max(E,Math.min(S,f+C*x))),_&&(u=Math.max(k,Math.min(T,a-z*_)),p=Math.max(k,Math.min(T,h+z*_)))}l<i&&(x*=-1,t=e,e=f,f=t,t=i,i=l,l=t,y in Zo&&F.attr("cursor",Xo[y=Zo[y]])),p<u&&(_*=-1,t=a,a=h,h=t,t=u,u=p,p=t,y in Qo&&F.attr("cursor",Xo[y=Qo[y]])),w.selection&&(A=w.selection),v&&(i=A[0][0],l=A[1][0]),m&&(u=A[0][1],p=A[1][1]),A[0][0]===i&&A[0][1]===u&&A[1][0]===l&&A[1][1]===p||(w.selection=[[i,u],[l,p]],s.call(g),P.brush())}function U(){if(Fo(),ur.touches){if(ur.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Ar(ur.view,d),N.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),F.attr("cursor",Xo.overlay),w.selection&&(A=w.selection),oa(A)&&(w.selection=null,s.call(g)),P.end()}function q(){switch(ur.keyCode){case 16:j=x&&_;break;case 18:b===Uo&&(x&&(f=l-C*x,e=i+C*x),_&&(h=p-z*_,a=u+z*_),b=qo,I());break;case 32:b!==Uo&&b!==qo||(x<0?f=l-C:x>0&&(e=i-C),_<0?h=p-z:_>0&&(a=u-z),b=Io,F.attr("cursor",Xo.selection),I());break;default:return}No()}function W(){switch(ur.keyCode){case 16:j&&(v=m=j=!1,I());break;case 18:b===qo&&(x<0?f=l:x>0&&(e=i),_<0?h=p:_>0&&(a=u),b=Uo,I());break;case 32:b===Io&&(ur.altKey?(x&&(f=l-C*x,e=i+C*x),_&&(h=p-z*_,a=u+z*_),b=qo):(x<0?f=l:x>0&&(e=i),_<0?h=p:_>0&&(a=u),b=Uo),F.attr("cursor",Xo[y]),I());break;default:return}No()}}function p(){c(this,arguments).moved()}function d(){c(this,arguments).ended()}function v(){var n=this.__brush||{selection:null};return n.extent=Yo(e.apply(this,arguments)),n.dim=t,n}return f.move=function(n,e){n.selection?n.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=c(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=yi(o,a);function f(t){r.selection=1===t&&null===a?null:u(t),s.call(n),i.brush()}return null!==o&&null!==a?f:f(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"==typeof e?e.apply(n,r):e,i.extent),a=c(n,r).beforestart();Xi(n),i.selection=null===o?null:o,s.call(n),a.start().brush().end()}))},f.clear=function(t){f.move(t,null)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){pr(new Lo(f,n,t.output(this.state.selection)),a.apply,a,[n,this.that,this.args])}},f.extent=function(t){return arguments.length?(e="function"==typeof t?t:Po(Yo(t)),f):e},f.filter=function(t){return arguments.length?(r="function"==typeof t?t:Po(!!t),f):r},f.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Po(!!t),f):i},f.handleSize=function(t){return arguments.length?(u=+t,f):u},f.keyModifiers=function(t){return arguments.length?(o=!!t,f):o},f.on=function(){var t=a.on.apply(a,arguments);return t===a?f:t},f}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var ua=Math.PI,fa=2*ua,sa=fa-1e-6;function ca(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function la(){return new ca}ca.prototype=la.prototype={constructor:ca,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,f=r-n,s=o-t,c=a-n,l=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(c*u-f*s)>1e-6&&i){var h=e-o,p=r-a,d=u*u+f*f,v=h*h+p*p,m=Math.sqrt(d),g=Math.sqrt(l),y=i*Math.tan((ua-Math.acos((d+l-v)/(2*m*g)))/2),b=y/g,x=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*s)+","+(n+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*p)+","+(this._x1=t+x*u)+","+(this._y1=n+x*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),f=t+a,s=n+u,c=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+s:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+f+","+s),e&&(l<0&&(l=l%fa+fa),l>sa?this._+="A"+e+","+e+",0,1,"+c+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=f)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=ua)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function ha(){}function pa(t,n){var e=new ha;if(t instanceof ha)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}ha.prototype=pa.prototype={constructor:ha,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var da=pa;function va(){}var ma=da.prototype;function ga(t,n){var e=new va;if(t instanceof va)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}va.prototype=ga.prototype={constructor:va,has:ma.has,add:function(t){return this["$"+(t+="")]=t,this},remove:ma.remove,clear:ma.clear,values:ma.keys,size:ma.size,empty:ma.empty,each:ma.each};Array.prototype.slice;var ya={},ba={};function xa(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function _a(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function wa(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Ma(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+wa(-n,6):n>9999?"+"+wa(n,6):wa(n,4))+"-"+wa(t.getUTCMonth()+1,2)+"-"+wa(t.getUTCDate(),2)+(o?"T"+wa(e,2)+":"+wa(r,2)+":"+wa(i,2)+"."+wa(o,3)+"Z":i?"T"+wa(e,2)+":"+wa(r,2)+":"+wa(i,2)+"Z":r||e?"T"+wa(e,2)+":"+wa(r,2)+"Z":"")}var Aa=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,f=o<=0,s=!1;function c(){if(f)return ba;if(s)return s=!1,ya;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?f=!0:10===(r=t.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return f=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==ba;){for(var l=[];r!==ya&&r!==ba;)l.push(r),r=c();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Ma(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=xa(t);return function(r,i){return n(e(r),i,t)}}(t,n):xa(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=_a(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=_a(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},Ea=Aa(","),ka=Ea.parse,Sa=(Ea.parseRows,Ea.format,Ea.formatBody,Ea.formatRows,Ea.formatRow,Ea.formatValue,Aa("\t")),Ta=Sa.parse;Sa.parseRows,Sa.format,Sa.formatBody,Sa.formatRows,Sa.formatRow,Sa.formatValue;function Ca(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var za=function(t,n){return fetch(t,n).then(Ca)};function ja(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),za(n,e).then((function(n){return t(n,r)}))}}ja(ka),ja(Ta);function Da(t){return function(n,e){return za(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}Da("application/xml"),Da("text/html"),Da("image/svg+xml");function Ba(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,f,s,c,l,h,p=t._root,d={data:r},v=t._x0,m=t._y0,g=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+g)/2))?v=o:g=o,(c=e>=(a=(m+y)/2))?m=a:y=a,i=p,!(p=p[l=c<<1|s]))return i[l]=d,t;if(u=+t._x.call(null,p.data),f=+t._y.call(null,p.data),n===u&&e===f)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+g)/2))?v=o:g=o,(c=e>=(a=(m+y)/2))?m=a:y=a}while((l=c<<1|s)==(h=(f>=a)<<1|u>=o));return i[h]=p,i[l]=d,t}var Oa=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function Pa(t){return t[0]}function La(t){return t[1]}function Fa(t,n,e){var r=new Na(null==n?Pa:n,null==e?La:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Na(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ra(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Ia=Fa.prototype=Na.prototype;Ia.copy=function(){var t,n,e=new Na(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ra(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Ra(n));return e},Ia.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Ba(this.cover(n,e),n,e,t)},Ia.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),f=1/0,s=1/0,c=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<f&&(f=r),r>c&&(c=r),i<s&&(s=i),i>l&&(l=i));if(f>c||s>l)return this;for(this.cover(f,s).cover(c,l),e=0;e<o;++e)Ba(this,a[e],u[e],t[e]);return this},Ia.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,f=i-e,s=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=s,s=a,f*=2,u){case 0:i=e+f,o=r+f;break;case 1:e=i-f,o=r+f;break;case 2:i=e+f,r=o-f;break;case 3:e=i-f,r=o-f}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Ia.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Ia.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ia.find=function(t,n,e){var r,i,o,a,u,f,s,c=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new Oa(v,c,l,h,p)),null==e?e=1/0:(c=t-e,l=n-e,h=t+e,p=n+e,e*=e);f=d.pop();)if(!(!(v=f.node)||(i=f.x0)>h||(o=f.y0)>p||(a=f.x1)<c||(u=f.y1)<l))if(v.length){var m=(i+a)/2,g=(o+u)/2;d.push(new Oa(v[3],m,g,a,u),new Oa(v[2],i,g,m,u),new Oa(v[1],m,o,a,g),new Oa(v[0],i,o,m,g)),(s=(n>=g)<<1|t>=m)&&(f=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=f)}else{var y=t-+this._x.call(null,v.data),b=n-+this._y.call(null,v.data),x=y*y+b*b;if(x<e){var _=Math.sqrt(e=x);c=t-_,l=n-_,h=t+_,p=n+_,r=v.data}}return r},Ia.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,f,s,c,l,h,p=this._root,d=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(u=(d+m)/2))?d=u:m=u,(c=a>=(f=(v+g)/2))?v=f:g=f,n=p,!(p=p[l=c<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},Ia.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Ia.root=function(){return this._root},Ia.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Ia.visit=function(t){var n,e,r,i,o,a,u=[],f=this._root;for(f&&u.push(new Oa(f,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&f.length){var s=(r+o)/2,c=(i+a)/2;(e=f[3])&&u.push(new Oa(e,s,c,o,a)),(e=f[2])&&u.push(new Oa(e,r,c,s,a)),(e=f[1])&&u.push(new Oa(e,s,i,o,c)),(e=f[0])&&u.push(new Oa(e,r,i,s,c))}return this},Ia.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Oa(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,f=n.x1,s=n.y1,c=(a+f)/2,l=(u+s)/2;(o=i[0])&&e.push(new Oa(o,a,u,c,l)),(o=i[1])&&e.push(new Oa(o,c,u,f,l)),(o=i[2])&&e.push(new Oa(o,a,l,c,s)),(o=i[3])&&e.push(new Oa(o,c,l,f,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Ia.x=function(t){return arguments.length?(this._x=t,this):this._x},Ia.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Ua=function(){return Math.random()},qa=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Ua),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Ua)),Wa=(function t(n){function e(){var t=qa.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Ua),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Ua));(function t(n){function e(t){var e=Wa.source(n)(t);return function(){return e()/t}}return e.source=t,e})(Ua),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Ua);function Ya(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var Ha=Array.prototype,$a=Ha.map,Va=Ha.slice,Ga={name:"implicit"};function Xa(){var t=da(),n=[],e=[],r=Ga;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Ga)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=da();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Va.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Xa(n,e).unknown(r)},Ya.apply(i,arguments),i}var Za=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},Qa=function(t){return+t},Ja=[0,1];function Ka(t){return t}function tu(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function nu(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function eu(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=tu(i,r),o=e(a,o)):(r=tu(r,i),o=e(o,a)),function(t){return o(r(t))}}function ru(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=tu(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Xn(t,n,1,r)-1;return o[e](i[e](n))}}function iu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ou(){var t,n,e,r,i,o,a=Ja,u=Ja,f=yi,s=Ka;function c(){return r=Math.min(a.length,u.length)>2?ru:eu,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,f)))(t(s(n)))}return l.invert=function(e){return s(n((o||(o=r(u,a.map(t),li)))(e)))},l.domain=function(t){return arguments.length?(a=$a.call(t,Qa),s===Ka||(s=nu(a)),c()):a.slice()},l.range=function(t){return arguments.length?(u=Va.call(t),c()):u.slice()},l.rangeRound=function(t){return u=Va.call(t),f=Za,c()},l.clamp=function(t){return arguments.length?(s=t?nu(a):Ka,l):s!==Ka},l.interpolate=function(t){return arguments.length?(f=t,c()):f},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,c()}}function au(t,n){return ou()(t,n)}var uu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fu(t){if(!(n=uu.exec(t)))throw new Error("invalid format: "+t);var n;return new su({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function su(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}fu.prototype=su.prototype,su.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var cu,lu,hu,pu,du=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},vu=function(t){return(t=du(Math.abs(t)))?t[1]:NaN},mu=function(t,n){var e=du(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},gu={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return mu(100*t,n)},r:mu,s:function(t,n){var e=du(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(cu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+du(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},yu=function(t){return t},bu=Array.prototype.map,xu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];lu=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?yu:(n=bu.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(t.substring(i-=u,i+u)),!((f+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?yu:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(bu.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=fu(t)).fill,e=t.align,l=t.sign,h=t.symbol,p=t.zero,d=t.width,v=t.comma,m=t.precision,g=t.trim,y=t.type;"n"===y?(v=!0,y="g"):gu[y]||(void 0===m&&(m=12),g=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?f:"",_=gu[y],w=/[defgprs%]/.test(y);function M(t){var i,o,f,h=b,M=x;if("c"===y)M=_(t)+M,t="";else{var A=(t=+t)<0;if(t=isNaN(t)?c:_(Math.abs(t),m),g&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&(A=!1),h=(A?"("===l?l:s:"-"===l||"("===l?"":l)+h,M=("s"===y?xu[8+cu/3]:"")+M+(A&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(f=t.charCodeAt(i))||f>57){M=(46===f?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,k=E<d?new Array(d-E+1).join(n):"";switch(v&&p&&(t=r(k+t,k.length?d-M.length:1/0),k=""),e){case"<":t=h+t+M+k;break;case"=":t=h+k+t+M;break;case"^":t=k.slice(0,E=k.length>>1)+h+t+M+k.slice(E);break;default:t=k+h+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=fu(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vu(n)/3))),i=Math.pow(10,-r),o=xu[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),hu=lu.format,pu=lu.formatPrefix;var _u=function(t,n,e,r){var i,o=ee(t,n,e);switch((r=fu(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vu(n)/3)))-vu(Math.abs(t)))}(o,a))||(r.precision=i),pu(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,vu(n)-vu(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-vu(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return hu(r)};function wu(t){var n=t.domain;return t.ticks=function(t){var e=n();return te(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return _u(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],f=i[a];return f<u&&(r=u,u=f,f=r,r=o,o=a,a=r),(r=ne(u,f,e))>0?r=ne(u=Math.floor(u/r)*r,f=Math.ceil(f/r)*r,e):r<0&&(r=ne(u=Math.ceil(u*r)/r,f=Math.floor(f*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(f/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(f*r)/r,n(i)),t},t}var Mu=new Date,Au=new Date;function Eu(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Eu((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Mu.setTime(+n),Au.setTime(+r),t(Mu),t(Au),Math.floor(e(Mu,Au))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var ku=Eu((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ku.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Eu((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var Su=ku,Tu=(ku.range,Eu((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));Tu.range;function Cu(t){return Eu((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var zu=Cu(0),ju=Cu(1),Du=Cu(2),Bu=Cu(3),Ou=Cu(4),Pu=Cu(5),Lu=Cu(6),Fu=(zu.range,ju.range,Du.range,Bu.range,Ou.range,Pu.range,Lu.range,Eu((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),Nu=Fu,Ru=(Fu.range,Eu((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),Iu=(Ru.range,Eu((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),Uu=(Iu.range,Eu((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),qu=(Uu.range,Eu((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));qu.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Eu((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):qu:null};qu.range;function Wu(t){return Eu((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var Yu=Wu(0),Hu=Wu(1),$u=Wu(2),Vu=Wu(3),Gu=Wu(4),Xu=Wu(5),Zu=Wu(6),Qu=(Yu.range,Hu.range,$u.range,Vu.range,Gu.range,Xu.range,Zu.range,Eu((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Ju=Qu,Ku=(Qu.range,Eu((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Ku.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Eu((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var tf=Ku;Ku.range;function nf(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ef(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rf(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var of,af={"-":"",_:" ",0:"0"},uf=/^\s*\d+/,ff=/^%/,sf=/[\\^$*+?|[\]().{}]/g;function cf(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function lf(t){return t.replace(sf,"\\$&")}function hf(t){return new RegExp("^(?:"+t.map(lf).join("|")+")","i")}function pf(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function df(t,n,e){var r=uf.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function vf(t,n,e){var r=uf.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function mf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function gf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function yf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function bf(t,n,e){var r=uf.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function xf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function _f(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function wf(t,n,e){var r=uf.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Mf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Af(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ef(t,n,e){var r=uf.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function kf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Sf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Tf(t,n,e){var r=uf.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Cf(t,n,e){var r=uf.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function zf(t,n,e){var r=uf.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function jf(t,n,e){var r=ff.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Df(t,n,e){var r=uf.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Bf(t,n,e){var r=uf.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Of(t,n){return cf(t.getDate(),n,2)}function Pf(t,n){return cf(t.getHours(),n,2)}function Lf(t,n){return cf(t.getHours()%12||12,n,2)}function Ff(t,n){return cf(1+Nu.count(Su(t),t),n,3)}function Nf(t,n){return cf(t.getMilliseconds(),n,3)}function Rf(t,n){return Nf(t,n)+"000"}function If(t,n){return cf(t.getMonth()+1,n,2)}function Uf(t,n){return cf(t.getMinutes(),n,2)}function qf(t,n){return cf(t.getSeconds(),n,2)}function Wf(t){var n=t.getDay();return 0===n?7:n}function Yf(t,n){return cf(zu.count(Su(t)-1,t),n,2)}function Hf(t,n){var e=t.getDay();return t=e>=4||0===e?Ou(t):Ou.ceil(t),cf(Ou.count(Su(t),t)+(4===Su(t).getDay()),n,2)}function $f(t){return t.getDay()}function Vf(t,n){return cf(ju.count(Su(t)-1,t),n,2)}function Gf(t,n){return cf(t.getFullYear()%100,n,2)}function Xf(t,n){return cf(t.getFullYear()%1e4,n,4)}function Zf(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+cf(n/60|0,"0",2)+cf(n%60,"0",2)}function Qf(t,n){return cf(t.getUTCDate(),n,2)}function Jf(t,n){return cf(t.getUTCHours(),n,2)}function Kf(t,n){return cf(t.getUTCHours()%12||12,n,2)}function ts(t,n){return cf(1+Ju.count(tf(t),t),n,3)}function ns(t,n){return cf(t.getUTCMilliseconds(),n,3)}function es(t,n){return ns(t,n)+"000"}function rs(t,n){return cf(t.getUTCMonth()+1,n,2)}function is(t,n){return cf(t.getUTCMinutes(),n,2)}function os(t,n){return cf(t.getUTCSeconds(),n,2)}function as(t){var n=t.getUTCDay();return 0===n?7:n}function us(t,n){return cf(Yu.count(tf(t)-1,t),n,2)}function fs(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Gu(t):Gu.ceil(t),cf(Gu.count(tf(t),t)+(4===tf(t).getUTCDay()),n,2)}function ss(t){return t.getUTCDay()}function cs(t,n){return cf(Hu.count(tf(t)-1,t),n,2)}function ls(t,n){return cf(t.getUTCFullYear()%100,n,2)}function hs(t,n){return cf(t.getUTCFullYear()%1e4,n,4)}function ps(){return"+0000"}function ds(){return"%"}function vs(t){return+t}function ms(t){return Math.floor(+t/1e3)}!function(t){of=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,s=hf(i),c=pf(i),l=hf(o),h=pf(o),p=hf(a),d=pf(a),v=hf(u),m=pf(u),g=hf(f),y=pf(f),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Of,e:Of,f:Rf,H:Pf,I:Lf,j:Ff,L:Nf,m:If,M:Uf,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vs,s:ms,S:qf,u:Wf,U:Yf,V:Hf,w:$f,W:Vf,x:null,X:null,y:Gf,Y:Xf,Z:Zf,"%":ds},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Qf,e:Qf,f:es,H:Jf,I:Kf,j:ts,L:ns,m:rs,M:is,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vs,s:ms,S:os,u:as,U:us,V:fs,w:ss,W:cs,x:null,X:null,y:ls,Y:hs,Z:ps,"%":ds},_={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:Af,e:Af,f:zf,H:kf,I:kf,j:Ef,L:Cf,m:Mf,M:Sf,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1},q:wf,Q:Df,s:Bf,S:Tf,u:vf,U:mf,V:gf,w:df,W:yf,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:xf,Y:bf,Z:_f,"%":jf};function w(t,n){return function(e){var r,i,o,a=[],u=-1,f=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(f,u)),null!=(i=af[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),f=u+1);return a.push(t.slice(f,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=rf(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!n||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ef(rf(o.y,0,1))).getUTCDay(),r=i>4||0===i?Hu.ceil(r):Hu(r),r=Ju.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=nf(rf(o.y,0,1))).getDay(),r=i>4||0===i?ju.ceil(r):ju(r),r=Nu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ef(rf(o.y,0,1)).getUTCDay():nf(rf(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ef(o)):nf(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,f=e.length;a<u;){if(r>=f)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=_[i in af?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return(b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),x.x=w(e,x),x.X=w(r,x),x.c=w(n,x),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}})}(t),of.format,of.parse,of.utcFormat,of.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var gs=Eu((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ys=(gs.range,Eu((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),bs=(ys.range,Eu((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})));bs.range;var xs=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");function _s(){this._=null}function ws(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ms(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function As(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Es(t){for(;t.L;)t=t.L;return t}_s.prototype={constructor:_s,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Es(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Ms(this,e),e=(t=e).U),e.C=!1,r.C=!0,As(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(As(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ms(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Es(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Ms(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,As(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Ms(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,As(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Ms(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,As(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ks=_s;function Ss(t,n,e,r){var i=[null,null],o=Qs.push(i)-1;return i.left=t,i.right=n,e&&Cs(i,t,n,e),r&&Cs(i,n,t,r),Xs[t.index].halfedges.push(o),Xs[n.index].halfedges.push(o),i}function Ts(t,n,e){var r=[n,e];return r.left=t,r}function Cs(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function zs(t,n,e,r,i){var o,a=t[0],u=t[1],f=a[0],s=a[1],c=0,l=1,h=u[0]-f,p=u[1]-s;if(o=n-f,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>c&&(c=o)}if(o=r-f,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<l&&(l=o)}if(o=e-s,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<l&&(l=o)}return!(c>0||l<1)||(c>0&&(t[0]=[f+c*h,s+c*p]),l<1&&(t[1]=[f+l*h,s+l*p]),!0)}}}}}function js(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,f=t[0],s=t.left,c=t.right,l=s[0],h=s[1],p=c[0],d=c[1],v=(l+p)/2,m=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(f){if(f[1]>=i)return}else f=[v,e];o=[v,i]}else{if(f){if(f[1]<e)return}else f=[v,i];o=[v,e]}}else if(u=m-(a=(l-p)/(d-h))*v,a<-1||a>1)if(l>p){if(f){if(f[1]>=i)return}else f=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(f){if(f[1]<e)return}else f=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<d){if(f){if(f[0]>=r)return}else f=[n,a*n+u];o=[r,a*r+u]}else{if(f){if(f[0]<n)return}else f=[r,a*r+u];o=[n,a*n+u]}return t[0]=f,t[1]=o,!0}function Ds(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Bs(t,n){return n[+(n.left!==t.site)]}function Os(t,n){return n[+(n.left===t.site)]}var Ps,Ls=[];function Fs(){ws(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ns(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],f=r[0]-a,s=r[1]-u,c=o[0]-a,l=o[1]-u,h=2*(f*l-s*c);if(!(h>=-Ks)){var p=f*f+s*s,d=c*c+l*l,v=(l*p-s*d)/h,m=(f*d-c*p)/h,g=Ls.pop()||new Fs;g.arc=t,g.site=i,g.x=v+a,g.y=(g.cy=m+u)+Math.sqrt(v*v+m*m),t.circle=g;for(var y=null,b=Zs._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Zs.insert(y,g),y||(Ps=g)}}}}function Rs(t){var n=t.circle;n&&(n.P||(Ps=n.N),Zs.remove(n),Ls.push(n),ws(n),t.circle=null)}var Is=[];function Us(){ws(this),this.edge=this.site=this.circle=null}function qs(t){var n=Is.pop()||new Us;return n.site=t,n}function Ws(t){Rs(t),Gs.remove(t),Is.push(t),ws(t)}function Ys(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];Ws(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<Js&&Math.abs(r-f.circle.cy)<Js;)o=f.P,u.unshift(f),Ws(f),f=o;u.unshift(f),Rs(f);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<Js&&Math.abs(r-s.circle.cy)<Js;)a=s.N,u.push(s),Ws(s),s=a;u.push(s),Rs(s);var c,l=u.length;for(c=1;c<l;++c)s=u[c],f=u[c-1],Cs(s.edge,f.site,s.site,i);f=u[0],(s=u[l-1]).edge=Ss(f.site,s.site,null,i),Ns(f),Ns(s)}function Hs(t){for(var n,e,r,i,o=t[0],a=t[1],u=Gs._;u;)if((r=$s(u,a)-o)>Js)u=u.L;else{if(!((i=o-Vs(u,a))>Js)){r>-Js?(n=u.P,e=u):i>-Js?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Xs[t.index]={site:t,halfedges:[]}}(t);var f=qs(t);if(Gs.insert(n,f),n||e){if(n===e)return Rs(n),e=qs(n.site),Gs.insert(f,e),f.edge=e.edge=Ss(n.site,f.site),Ns(n),void Ns(e);if(e){Rs(n),Rs(e);var s=n.site,c=s[0],l=s[1],h=t[0]-c,p=t[1]-l,d=e.site,v=d[0]-c,m=d[1]-l,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,x=[(m*y-p*b)/g+c,(h*b-v*y)/g+l];Cs(e.edge,s,d,x),f.edge=Ss(s,t,null,x),e.edge=Ss(t,d,null,x),Ns(n),Ns(e)}else f.edge=Ss(n.site,f.site)}}function $s(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],f=e[1],s=f-n;if(!s)return u;var c=u-r,l=1/o-1/s,h=c/s;return l?(-h+Math.sqrt(h*h-2*l*(c*c/(-2*s)-f+s/2+i-o/2)))/l+r:(r+u)/2}function Vs(t,n){var e=t.N;if(e)return $s(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Gs,Xs,Zs,Qs,Js=1e-6,Ks=1e-12;function tc(t,n){return n[1]-t[1]||n[0]-t[0]}function nc(t,n){var e,r,i,o=t.sort(tc).pop();for(Qs=[],Xs=new Array(t.length),Gs=new ks,Zs=new ks;;)if(i=Ps,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Hs(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Ys(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Xs.length;i<o;++i)if((t=Xs[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=Ds(t,Qs[n[e]]);for(a.sort((function(t,n){return u[n]-u[t]})),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],f=+n[1][0],s=+n[1][1];!function(t,n,e,r){for(var i,o=Qs.length;o--;)js(i=Qs[o],t,n,e,r)&&zs(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Js||Math.abs(i[0][1]-i[1][1])>Js)||delete Qs[o]}(a,u,f,s),function(t,n,e,r){var i,o,a,u,f,s,c,l,h,p,d,v,m=Xs.length,g=!0;for(i=0;i<m;++i)if(o=Xs[i]){for(a=o.site,u=(f=o.halfedges).length;u--;)Qs[f[u]]||f.splice(u,1);for(u=0,s=f.length;u<s;)d=(p=Os(o,Qs[f[u]]))[0],v=p[1],l=(c=Bs(o,Qs[f[++u%s]]))[0],h=c[1],(Math.abs(d-l)>Js||Math.abs(v-h)>Js)&&(f.splice(u,0,Qs.push(Ts(a,p,Math.abs(d-t)<Js&&r-v>Js?[t,Math.abs(l-t)<Js?h:r]:Math.abs(v-r)<Js&&e-d>Js?[Math.abs(h-r)<Js?l:e,r]:Math.abs(d-e)<Js&&v-n>Js?[e,Math.abs(l-e)<Js?h:n]:Math.abs(v-n)<Js&&d-t>Js?[Math.abs(h-n)<Js?l:t,n]:null))-1),++s);s&&(g=!1)}if(g){var y,b,x,_=1/0;for(i=0,g=null;i<m;++i)(o=Xs[i])&&(x=(y=(a=o.site)[0]-t)*y+(b=a[1]-n)*b)<_&&(_=x,g=o);if(g){var w=[t,n],M=[t,r],A=[e,r],E=[e,n];g.halfedges.push(Qs.push(Ts(a=g.site,w,M))-1,Qs.push(Ts(a,M,A))-1,Qs.push(Ts(a,A,E))-1,Qs.push(Ts(a,E,w))-1)}}for(i=0;i<m;++i)(o=Xs[i])&&(o.halfedges.length||delete Xs[i])}(a,u,f,s)}this.edges=Qs,this.cells=Xs,Gs=Zs=Qs=Xs=null}nc.prototype={constructor:nc,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return Bs(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u,f,s,c=e.site,l=-1,h=n[i[o-1]],p=h.left===c?h.right:h.left;++l<o;)a=p,p=(h=n[i[l]]).left===c?h.right:h.left,a&&p&&r<a.index&&r<p.index&&(f=a,s=p,((u=c)[0]-s[0])*(f[1]-u[1])-(u[0]-f[0])*(s[1]-u[1])<0)&&t.push([c.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var f=t-i.site[0],s=n-i.site[1],c=f*f+s*s;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var f=t-u[0],s=n-u[1],l=f*f+s*s;l<c&&(c=l,a=u.index)}}))}while(null!==a);return o._found=r,null==e||c<=e*e?i.site:null}};Math.SQRT2;function ec(t,n,e){this.k=t,this.x=n,this.y=e}ec.prototype={constructor:ec,scale:function(t){return 1===t?this:new ec(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ec(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ec(1,0,0);ec.prototype;var rc=t=>{t.nodes.map((t,n)=>(t.size=2,t.index=n,t.clipX=t.x,t.clipY=t.y,t.x=t.x/innerWidth*2-1,t.y=1+t.y/innerHeight*-2,[Math.random(),Math.random(),Math.random()]));Xa(xs);Yn.a.flatten(t.nodes.map(t=>+t.sentiment));var n=function t(){var n=au(Ka,Ka);return n.copy=function(){return iu(n,t())},Ya.apply(n,arguments),wu(n)}().domain([-1,1]).range(["red","yellow","green"]);Yn.a.flatten(t.nodes.map(t=>{let e=Hr(n(+t.sentiment));return[e.r/255,e.g/255,e.b/255]}));t.edges.forEach(n=>{t.nodes[n.target].size+=.1,t.nodes[n.source].size+=.1});let e=t.nodes.map((t,n)=>[t.x,t.y,t.size,n]),r={sourcePositions:new Array(e.length).fill(0),targetPositions:new Array(e.length).fill(0),curves:new Array(t.edges.length).fill(0),edges:t.edges};t.edges.forEach((n,e)=>{let i=t.nodes[n.source],o=t.nodes[n.target];r.sourcePositions[2*e]=i.x,r.sourcePositions[2*e+1]=i.y,r.targetPositions[2*e]=o.x,r.targetPositions[2*e+1]=o.y,r.curves[e]={x1:i.x,y1:i.y,x2:o.x,y2:o.y}});let i=new Array(3*t.edges.length).fill(0),o=new Array(t.nodes.length).fill(0).map((t,n)=>[0,1,n]);t.edges.forEach((n,e)=>{let r=Hr((t.nodes[n.source]?t.nodes[n.source]:getNode(n.target)).color);i[3*e]=r.r/255,i[3*e+1]=r.g/255,i[3*e+2]=r.b/255});t.nodes.map((t,n)=>t.create_time||(t.create_time=+new Date-Math.floor(1e10*Math.random())));let a=t.nodes.map(t=>{let n=Ur(t.color||"pink");return[n.r/255,n.g/255,n.b/255]});return{nodes:t.nodes,position:e,edges:r,color:a,stateIndex:o}},ic=e(75);const oc=e(79);var ac=function(t,n,e,r,i){const o=oc.interleavedStripRoundCapJoin3DDEMO(t,16);let a=[],u=t=>{let n=(e=t.x1,r=t.y1,i=t.x2,o=t.y2,{x:(e+i)/2+(o-r)/4,y:(r+o)/2+(e-i)/4});var e,r,i,o;new ic(t.x1,t.y1,n.x,n.y,t.x2,t.y2).getLUT(50).forEach((function(t){a.push([t.x,t.y,.1])})),a.push(0,0,0)};n.edges.curves.forEach(u);let f=0,s=(a.map(t=>[Math.random(),Math.random(),Math.random()]),t.buffer()),c=t.buffer();return[(t,e)=>{let r=t?n.edges.edges.filter(t=>!e||(t.source==e||t.target==e)).map(t=>{let e=n.nodes[t.source],r=n.nodes[t.target];return{x1:e.x,y1:e.y,x2:r.x,y2:r.y}}):[];a=[],r.forEach(u),f=a.length;let i=a.map(t=>[.3,.3,.3]);s({data:a}),c({data:i})},t=>{t.containerDimensions;let n=window.devicePixelRatio;f&&o({points:s,color:c,width:1,model:t.model,view:t.camera.view,projection:t.projection,resolution:[t.size[0]/n,t.size[1]/n],segments:f-1,viewport:{x:0,y:0,width:t.size[0]*n,height:t.size[1]*n}})}]};const uc=(t=[0,0],n=1,e=0,i=[0,0],a=[0,1/0])=>{const u=new Float32Array(16),f=new Float32Array(16),s=new Float32Array(16);let c=r.create(),l=[...i.slice(0,2),0,1];const h=[...a],p=()=>r.getScaling(u,c)[0],d=([t=0,n=0]=[],e=1,i=0)=>{c=r.create(),v([-t,-n]),g(i),m(1/e)},v=([t=0,n=0]=[])=>{u[0]=t,u[1]=n,u[2]=0;const e=r.fromTranslation(f,u);r.multiply(c,e,c)},m=(t,n)=>{if(t<=0)return;const e=p(),i=e*t;if(1===(t=Math.max(h[0],Math.min(i,h[1]))/e))return;u[0]=t,u[1]=t,u[2]=1;const o=r.fromScaling(f,u),a=n?[...n,0]:l,d=r.fromTranslation(u,a);r.multiply(c,d,r.multiply(c,o,r.multiply(c,r.invert(s,d),c)))},g=t=>{const n=r.create();r.fromRotation(n,t,[0,0,1]),r.multiply(c,n,c)},y=t=>{!t||t.length<16||(c=t)};return d(t,n,e),{get translation(){return r.getTranslation(u,c).slice(0,2)},get target(){return o.transformMat4(u,l,r.invert(s,c)).slice(0,2)},get scaling(){return p()},get scaleBounds(){return[...h]},get distance(){return 1/p()},get rotation(){return Math.acos(c[0])},get view(){return c},get viewCenter(){return l.slice(0,2)},lookAt:d,translate:v,pan:v,rotate:g,scale:m,zoom:m,reset:()=>{d(t,n,e)},set:(...t)=>(console.warn("Deprecated. Please use `setView()` instead."),y(...t)),setScaleBounds:t=>{h[0]=t[0],h[1]=t[1]},setView:y,setViewCenter:t=>{l=[...t.slice(0,2),0,1]}}};var fc=(t,{distance:n=1,target:e=[0,0],rotation:r=0,isNdc:o=!0,isFixed:a=!1,isPan:u=!0,panSpeed:f=1,isRotate:s=!0,rotateSpeed:c=1,isZoom:l=!0,zoomSpeed:h=1,viewCenter:p=null,scaleBounds:d=null,onKeyDown:v=(()=>{}),onKeyUp:m=(()=>{}),onMouseDown:g=(()=>{}),onMouseUp:y=(()=>{}),onMouseMove:b=(()=>{}),onWheel:x=(()=>{})}={})=>{let _=uc(e,n,r),w=!1,M=0,A=0,E=0,k=0,S=!1,T=0,C=0,z=0,j=1,D=1,B=1,O=!1;const P=o?t=>t/j*2*B:t=>t,L=o?t=>t/D*2:t=>-t,F=o?t=>(t/j*2-1)*B:t=>t,N=o?t=>1-t/D*2:t=>t,R=()=>{const n=t.getBoundingClientRect();C=n.top,z=n.left,j=n.width,D=n.height,B=j/D},I=t=>{O=!1,m(t)},U=t=>{O=t.altKey,v(t)},q=t=>{S=!1,y(t)},W=t=>{S=1===t.buttons,g(t)},Y=t=>{E=M,k=A,M=t.clientX-z,A=t.clientY-C,R(),b(t)},H=t=>{t.preventDefault();const n=1===t.deltaMode?12:1;T+=n*(t.deltaY||0),x(t)};return window.addEventListener("keydown",U,{passive:!0}),window.addEventListener("keyup",I,{passive:!0}),t.addEventListener("mousedown",W,{passive:!0}),window.addEventListener("mouseup",q,{passive:!0}),window.addEventListener("mousemove",Y,{passive:!0}),t.addEventListener("wheel",H,{passive:!1}),R(),_.config=({isFixed:t=null,isPan:n=null,isRotate:e=null,isZoom:r=null,panSpeed:i=null,rotateSpeed:o=null,zoomSpeed:p=null}={})=>{a=null!==t?t:a,u=null!==n?n:u,s=null!==e?e:s,l=null!==r?r:l,f=+i>0?i:f,c=+o>0?o:c,h=+p>0?p:h},_.dispose=()=>{_=void 0,window.removeEventListener("keydown",U),window.removeEventListener("keyup",I),t.removeEventListener("mousedown",W),window.removeEventListener("mouseup",q),window.removeEventListener("mousemove",Y),t.removeEventListener("wheel",H)},_.refresh=R,_.tick=()=>{if(a)return!1;if(w=!1,u&&S&&!O&&(_.pan([P(f*(M-E)),L(f*(k-A))]),w=!0),l&&T){const t=h*Math.exp(T/D),n=F(M),e=N(A);_.scale(1/t,[n,e]),w=!0}if(s&&S&&O){const t=j/2,n=D/2,e=E-t,r=n-k,o=M-t,a=n-A,u=i.angle([e,r],[o,a]),f=e*a-o*r;_.rotate(c*u*Math.sign(f)),w=!0}return T=0,E=M,k=A,w},_},sc=e.p+"6a3ae491628504225e0245d79b619515.png",cc=e.p+"8fec20b77c2b6fde68c48cf54f7b14d0.png";let lc=new Image,hc=new Image;hc.src=cc,lc.src=sc;const pc=(t,n)=>{let e={};var r=t.texture({shape:[16,16]});let i=[r,r];return lc.onload=()=>{i[0]=t.texture({premultiplyAlpha:!0,data:lc})},lc.complete&&lc.onload(),hc.onload=()=>{i[1]=t.texture(hc)},hc.complete&&hc.onload(),e.attributes={pos:{buffer:()=>n.position,size:4},color:{buffer:()=>n.color,size:3},stateIndex:{buffer:()=>n.stateIndex,size:3}},t({frag:"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\nprecision mediump float;\n\nuniform vec2 selection;\nuniform sampler2D texture;\nuniform sampler2D texture2;\n\n\nvarying vec4 vColor;\nvarying vec3 borderColor;\nvarying float uv;\nuniform vec2 resolution;\nuniform float time;\n\nfloat aastep(float threshold, float value) {\n  #ifdef GL_OES_standard_derivatives\n    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n    return smoothstep(threshold-afwidth, threshold+afwidth, value);\n  #else\n    return step(threshold, value);\n  #endif\n}\n\nvoid main() {\n  float r = 0.0, delta = 0.0, alpha = 1.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n\n  #ifdef GL_OES_standard_derivatives\n    delta = fwidth( r);\n    alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n  #endif\n\n  float vSize = 1.0;\n  float uEdgeSize = 2.;\n  float distance = length(2.0 * gl_PointCoord - 1.0);\n\n\n  float sEdge = smoothstep(\n      vSize - uEdgeSize - 2.0,\n      vSize - uEdgeSize,\n      distance * (vSize + uEdgeSize)\n  );\n  gl_FragColor = vColor;\n  distance = aastep(.5, distance);\n\n\n\n  if (uv == -1.)\n    gl_FragColor = texture2D(texture2, gl_PointCoord);\n  else\n  gl_FragColor.a *=  1. - distance;\n\n  if (uv == -2.) {\n    //gl_FragColor.rgb = distance;\n\n    gl_FragColor.a *=  1. - distance;\n  }\n\n}\n",vert:"\nprecision mediump float;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\n\nuniform float pointSize;\nuniform float scaling;\nuniform float sizeAttenuation;\n\nattribute vec4 pos;\nattribute vec3 color;\n//cluster, visiblity, texture\nattribute vec3 stateIndex;\nattribute float dates;\nattribute float sentiment;\nattribute vec2 offset;\n\nuniform float ceiling;\n\nuniform float hoveredPoint;\nuniform vec2 dimensions;\n\nuniform float selectedCluster;\n\nuniform bool flatSize;\n\n// variables to send to the fragment shader\nvarying vec4 vColor;\nvarying vec3 borderColor;\nvarying float uv;\n\nvoid main() {\n  vec2 position = pos.xy ;/// dimensions;\n  uv = stateIndex.z < 0. ? stateIndex.z : 0.;\n\n  gl_Position = projection * view * vec4(position.xy, 0.0, 1.);\n\n  vColor = vec4(color, 1);\n\n  float finalScaling = 2.;\n\n  //if ( (stateIndex[1] == -10.)) vColor.a = .5;\n  finalScaling += .1 + pow(pos.z, scaling * 1.);\n\n  gl_PointSize = min(pointSize + (exp(log(finalScaling)*sizeAttenuation * .01)), ceiling);\n  if (uv == -1.) gl_PointSize = 50.;\n\n  //if (stateIndex.y == 0.) gl_Position = vec4(100.);\n  vColor.a = .3;\n  if ( (stateIndex[1] == -20.)) vColor.a = .05;\n  if ( (stateIndex[1] == -10.)) vColor.a = .1;\n  if ( (stateIndex[1] == 10.)) vColor.a = 1.;\n  if ( (stateIndex[1] == 0.)) vColor.a = .0;\n\n  if (pos.w == hoveredPoint) vColor.a = 1.;\n  if (pos.w == hoveredPoint) gl_Position.z = .5;\n  if (pos.w == hoveredPoint) gl_PointSize *= 3.;\n  else if ( (stateIndex[1] == 10.)) gl_PointSize *= 3.;\n}\n",depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:1,dstRGB:"one minus src alpha",dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},attributes:e.attributes,uniforms:{pointSize:t.prop("pointSize"),ceiling:()=>state.ceiling,time:t=>console.log(t.time)||t.time,resolution:[innerWidth,innerHeight],hoveredPoint:()=>state.hoveredPoint,selectedPoint:()=>selection[0]||-1,dimensions:[window.innerWidth,window.innerHeight],projection:t.prop("projection"),model:t.prop("model"),view:()=>state.camera.view,scaling:t.prop("scaling"),sizeAttenuation:t.prop("sizeAttenuation"),flatSize:t.prop("flatSize"),texture:()=>i[0],texture2:()=>i[1]},count:n.position.length,primitive:"points"})},dc=(Float32Array.BYTES_PER_ELEMENT,["ANGLE_instanced_arrays","OES_standard_derivatives"]),vc=window.innerWidth,mc=window.innerHeight,gc=[0,0],yc=[.03113524243235588,0,0,0,0,.03113524243235588,0,0,0,0,1,0,-.010425571352243423,-.26117563247680664,0,1],bc=[1,1,1,.5];var xc=e(44),_c=e.n(xc);const wc=(t,n)=>t>n?t:n,Mc=t=>_c()({extensions:dc,canvas:t,attributes:{preserveDrawingBuffer:!1}}),Ac=(t,n,e,r)=>Math.sqrt((t-e)**2+(n-r)**2),Ec=(t,n=!1)=>t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,n,e,r)=>`#${n}${n}${e}${e}${r}${r}`).substring(1).match(/.{2}/g).map(t=>parseInt(t,16)/255**n),kc=t=>t>=0&&t<=1,Sc=t=>Array.isArray(t)&&t.every(kc),Tc=t=>Number.isInteger(t)&&t>=0&&t<=255,Cc=t=>Array.isArray(t)&&t.every(Tc),zc=t=>t.map(n=>n/t.reduce(wc,-1/0)),jc=(t,n)=>{return(t=>4===t.length&&(Sc(t)||Cc(t)))(t)?n&&!Sc(t)?zc(t):t:3===(e=t).length&&(Sc(e)||Cc(e))?[...n?zc(t):t,255**!n]:(t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t))(t)?((t,n=!1)=>[...Ec(t,n),255**!n])(t,n):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),n?[1,1,1,1]:[255,255,255,255]);var e};let Dc=(t,n,e)=>{let r=e[0],i=e[1];const o=_r(t).append("svg").attr("viewBox",[0,0,r,i]).property("value",[]);o.style("position","absolute"),console.log(t,"container"),o.style("left","0"),Bc(o.node(),1),t.style.position="relative",t.style.width=r+"px",t.style.height=i+"px";const a=aa(Go).on("end",(function(){o.selectAll(".selection").attr("opacity",1).attr("fill","none"),ur.selection&&n.brush(ur.selection)}));o.call(a),o.selectAll(".selection").attr("stroke","green")},Bc=(t,n)=>{if(!t)return console.log("element is null!");t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.width="100%",t.style.height="100%",t.style.zIndex=n};const Oc=t=>{let n=(t=>{let n=document.createElement("canvas");return console.log("add canvas",t),t.appendChild(n),n})(t.container||document.body),e=Mc(n),i=bc,a=t.width||vc,u=t.height||mc,f=gc,s=yc,c=(t.createDrawNodes,t.onHover,t.onClick,t.attributes),l=[a,u];const d=new Float32Array(16);let v=[0,0],m=[],g={ceiling:40,pointSize:10,scaling:.4,sizeAttenuation:.1,sentimentFilter:0,numNodes:1,showLines:!0,showNodes:!0,flatSize:!0,edgeColors:!0,selectedCluster:-1,favorites:[],dateFilter:[0,1/0],camera:{view:()=>{}},projection:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),model:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),hoveredPoint:-1,containerDimensions:{x:0,y:0,width:l[0],height:l[1]},size:l};window.state=g,window.projection=g.projection;Yn.a.extend(g,t.initialState);let y=a,b=u;let x,_,w=e||Mc(n),M=!1,A=!1,E=[0,0],k=0;jc(i,!0);let S=!1,T=!1;let C=!1;g.camera=fc(n),s?g.camera.setView(r.clone(s)):g.camera.lookAt([...f],100000.5,0);let[z,j]=ac(e,c);const D=(t=[(e=v[0],e/y*2-1),(n=v[1],1+n/b*-2)])=>{var n,e;const[i,a]=t,u=[i,a,1,1];let f=r.invert(d,r.multiply(d,g.projection,r.multiply(d,g.camera.view,g.model)));return f||(f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),o.transformMat4(u,u,f),u.slice(0,2)},B=()=>{const[t,n]=D(),e=2e3*(((r=1)<(i=1)?r:i)+Math.log2(((t,n)=>t>n?t:n)(1,1)))*window.devicePixelRatio;var r,i;const o=e/y,a=e/b,u=x.range(t-o,n-a,t+o,n+a);let f,s=e;return u.forEach(e=>{const{x:r,y:i}=x.points[e],o=Ac(r,i,t,n);o<s&&0!==c.stateIndex[1]&&(s=o,f=e)}),f},O=t=>{if("number"==typeof t&&(z(m[t],t),t=[t]),!Array.isArray(t))throw new Error("points must be a number or array");$()};const P=t=>{const n=t.target.getBoundingClientRect();return v[0]=t.clientX-n.left,v[1]=t.clientY-n.top,[...v]},L=t=>{T&&(ot.mousedown(),M=!0,E=P(t),A=t.shiftKey)},F=()=>{T&&(ot.mouseup(),M=!1)},N=t=>{if(!T)return;ot.click();const n=P(t),e=(Ac(...n,...E),B());console.log(e),c.stateIndex.forEach((t,n)=>{t[1]=n==e?10:-10}),e>=0&&O([e]),e>=0&&ot.nodeSelected(m[e],e,t),t.shiftKey},R=()=>{T&&(ot.blur(),g.hoveredPoint=-1,C=!1,F(),$())},I=t=>{if(!T)return;ot.mousemove();let n=P(t);if(!A){const e=B();Z(e),e?ot.hover(e,m[e],t,n):ot.hoverOff()}M&&$()},U=()=>{_=y/b,g.projection=r.fromScaling([],[1/_,1,1]),g.model=r.fromScaling([],[1,1,1])},q=t=>{!+t||+t<=0||(b=+t,n.height=b*window.devicePixelRatio)},W=t=>{!+t||+t<=0||(y=+t,n.width=y*window.devicePixelRatio)},Y=pc(w,c),H=()=>{T&&(S=g.camera.tick(),t.drawCurves&&j(g),Y(g))},$=p(H),V=t=>(...n)=>{const e=t(...n);return $(),e},G=()=>{w.poll(),g.camera.refresh()},X=(t,e)=>{let r=window.devicePixelRatio;n.width=r*t,n.height=r*e,n.style.width=t+"px",n.style.height=e+"px",q(e),W(t),U(),g.camera.refresh(),G(),$()},Z=t=>{let n=!1;if(t>=0){n=!0;g.hoveredPoint;g.hoveredPoint=t}else n=g.hoveredPoint,g.hoveredPoint=-1;$()},Q=()=>{s?g.camera.set(r.clone(s)):g.camera.lookAt([...f],100000.5,0)},J=()=>{ot.mouseenter(),C=!0},K=()=>{ot.mouseleave(),Z(),C=!1,$()};let tt=0;const nt=t=>{ot.wheel(tt+=t.wheelDelta),$(),G()};let et=()=>{g.containerDimensions=n.getBoundingClientRect();let t=n.getBoundingClientRect();console.log(t),l[0]=t.width,l[1]=t.height,q(b),W(y),U(),g.camera.refresh()};var rt;U(),X(y,b),window.addEventListener("blur",R,!1),window.addEventListener("mousedown",L,!1),window.addEventListener("mouseup",F,!1),window.addEventListener("mousemove",I,!1),n.addEventListener("mouseenter",J,!1),n.addEventListener("mouseleave",K,!1),n.addEventListener("click",N,!1),n.addEventListener("wheel",nt),window.addEventListener("resize",et),rt=c.nodes,T=!1,m=rt,k=rt.length,x=new h(rt,t=>t.x,t=>t.y,16),T=!0;let it=()=>{},ot={blur:it,mousedown:it,mouseup:it,mousemove:it,mouseenter:it,mouseleave:it,hoverOff:it,click:it,wheel:it,hover:it,nodeSelected:it},at={state:g,eachNode:(t,n,e)=>{(Array.isArray(t)?t:c.nodes.map((t,n)=>n)).forEach(t=>{e(c[n][t],c.nodes[t])}),$()},toggleBrush:t=>{_r("svg").style("display",t?"unset":"none")},brush:(t,n)=>{console.log("wow wtf");let e=t.map((function(t){return[t[0]/y*2-1,1-t[1]/b*2]})).map(D);console.log(e[0],e[1]),console.log(e);let r,[[i,o],[a,u]]=e,f=0;c.stateIndex.forEach((t,n)=>{let{x:e,y:s}=x.points[n],c=e>Math.min(i,a)&&e<Math.max(a,i)&&s>Math.min(u,o)&&s<Math.max(u,o);c&&f++,r=[i,e,a,o,s,u],t[1]=c?10:-20}),console.log(window.poop=r),console.log(f),H()},resetView:()=>{g.camera.setView(r.clone(s)),H()},zoomToNode:t=>{let n=c.position[t].slice(0,2);(void 0).lookAt(n),H()},setSize:X,setNodeColor:(t,n)=>{(Array.isArray(t)?t:c.nodes.map((t,n)=>n)).forEach(t=>{let e="function"==typeof n?n(c.nodes[t],t):n;c.color[t]=(t=>{let n=Hr(t);return[n.r/255,n.g/255,n.b/255]})(e)}),$()},setNodeSize:(t,n)=>{Array.isArray(t)||c.nodes.map((t,n)=>n);t.forEach(t=>{"function"==typeof val?val(c.nodes[t],t):val;c.position[t][2]=n}),$()},setNodeShape:(t,n)=>{(Array.isArray(t)?t:[t]).forEach(t=>{c.stateIndex[t][2]=-n}),$()},setNodeVisibility:(t,n)=>{z(0),(Array.isArray(t)?t:c.nodes.map((t,n)=>n)).forEach(t=>{let e="function"==typeof n?n(c.nodes[t],t):n;c.stateIndex[t][1]=e}),$()},deselect:()=>{},destroy:()=>{window.removeEventListener("blur",R,!1),window.removeEventListener("mousedown",L,!1),window.removeEventListener("mouseup",F,!1),window.removeEventListener("mousemove",I,!1),n.removeEventListener("mouseenter",J,!1),n.removeEventListener("mouseleave",K,!1),n.removeEventListener("click",N,!1),n.removeEventListener("wheel",nt),window.removeEventListener("resize",et),n=void 0,g.camera=void 0,w=void 0},on:(t,n)=>{ot[t]=n},draw:$,repaint:()=>{V(Q)()},hoverPoint:t=>{g.hoveredPoint=m.findIndex(n=>n.uuid===t),H()},refresh:G,reset:V(Q),select:O,setState:t=>{$(),Yn.a.each(t,(t,n)=>{g[n]=t})},getView:()=>g.camera.view};return console.log("WOWOWOWOW"),t.brush&&Dc(document.body,at,l),at};var Pc=t=>{console.log("INIT okay"),t.attributes=rc(t.data);let n=Oc(t);return n._data=t,n};let Lc={"font-size":"16px","font-weight":"500","background-color":"rgb(41, 50, 60)",color:"rgb(160, 167, 180)","z-index":"1001",position:"fixed","overflow-x":"auto",top:"541px","max-width":"1000px",right:"185px",width:"200px",display:"flex","box-sizing":"border-box","max-width":"100%",color:"rgb(248, 248, 248)","min-width":"0px","min-height":"0px","flex-direction":"column",outline:"none",margin:"6px",background:"rgb(119, 119, 119)",padding:"12px",opacity:".8","pointer-events":"none"},Fc=t=>{fetch(t).then(t=>t.json()).then(t=>{window.graph=Pc({data:t,container:document.querySelector(".container"),brush:!0,width:1*innerWidth,height:.9*innerHeight,drawCurves:0});t.cluster_events.forEach(t=>{t.clusters.forEach((t,n)=>{graph.setNodeColor(t.nodes,t.color)})}),Array.from(document.body.querySelectorAll("input")).forEach(t=>{t.addEventListener("change",n=>{let e={};e[t.id]=+n.target.value,graph.setState(e),console.log(e)})});let n=_r("body").append("div");Yn.a.each(Lc,(t,e)=>{n.style(e,t)}),graph.on("hover",(t,e,r,i)=>{if(!e)return console.log("off");n.text(e.text),n.style("display","block"),n.style("left",i[0]+"px"),n.style("top",i[1]+"px")}),graph.on("hoverOff",(t,e,r,i)=>{n.style("display","none")});let[e,r,i,o,a]=document.querySelectorAll("button");e.addEventListener("click",()=>{graph.setNodeShape(!0,2)}),r.addEventListener("click",()=>{graph.setNodeShape([1e3*Math.random()|0],1)}),i.addEventListener("click",()=>{let t=1e3*Math.random()|0;graph.setNodeVisibility(!0,(n,e)=>e==t?10:-20),graph.select(t)}),o.addEventListener("click",()=>{console.log("show favorites"),graph.setNodeVisibility(!0,(t,n)=>Math.random()>.99?10:0)});let u=!0;a.addEventListener("click",()=>{graph.toggleBrush(u=!u)}),a.click()})};_r(window).on("load",()=>{Fc("./data/nestle-network.json"),document.title="REGL NETWORK VIS"})}});