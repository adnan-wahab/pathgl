!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="./",e(e.s=86)}({1:function(t,n,e){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],f="[object Arguments]",c="[object Array]",s="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",x="[object WeakMap]",M="[object ArrayBuffer]",A="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",j="[object Uint8Array]",D="[object Uint16Array]",O="[object Uint32Array]",R=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,N=RegExp(F.source),U=RegExp(P.source),I=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,$=RegExp(V.source),G=/^\s+|\s+$/g,X=/^\s+/,Z=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ft=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,st=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",vt="["+dt+"]",mt="["+ht+"]",gt="\\d+",yt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+dt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",At="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+bt+"|"+_t+")",Tt="(?:"+kt+"|"+_t+")",Ct="(?:"+mt+"|"+wt+")"+"?",Et="[\\ufe0e\\ufe0f]?"+Ct+("(?:\\u200d(?:"+[xt,Mt,At].join("|")+")[\\ufe0e\\ufe0f]?"+Ct+")*"),jt="(?:"+[yt,Mt,At].join("|")+")"+Et,Dt="(?:"+[xt+mt+"?",mt,Mt,At,pt].join("|")+")",Ot=RegExp("['’]","g"),Rt=RegExp(mt,"g"),Lt=RegExp(wt+"(?="+wt+")|"+Dt+Et,"g"),zt=RegExp([kt+"?"+bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,kt,"$"].join("|")+")",Tt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,kt+St,"$"].join("|")+")",kt+"?"+St+"+(?:['’](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,jt].join("|"),"g"),Ft=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ut=-1,It={};It[k]=It[S]=It[T]=It[C]=It[E]=It[j]=It["[object Uint8ClampedArray]"]=It[D]=It[O]=!0,It[f]=It[c]=It[M]=It[s]=It[A]=It[l]=It[h]=It[d]=It[v]=It[m]=It[g]=It[y]=It[b]=It[_]=It[x]=!1;var Bt={};Bt[f]=Bt[c]=Bt[M]=Bt[A]=Bt[s]=Bt[l]=Bt[k]=Bt[S]=Bt[T]=Bt[C]=Bt[E]=Bt[v]=Bt[m]=Bt[g]=Bt[y]=Bt[b]=Bt[_]=Bt[w]=Bt[j]=Bt["[object Uint8ClampedArray]"]=Bt[D]=Bt[O]=!0,Bt[h]=Bt[d]=Bt[x]=!1;var qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,Ht=parseInt,Yt="object"==typeof t&&t&&t.Object===Object&&t,Vt="object"==typeof self&&self&&self.Object===Object&&self,$t=Yt||Vt||Function("return this")(),Gt=n&&!n.nodeType&&n,Xt=Gt&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=Xt&&Xt.exports===Gt,Qt=Zt&&Yt.process,Kt=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),Jt=Kt&&Kt.isArrayBuffer,tn=Kt&&Kt.isDate,nn=Kt&&Kt.isMap,en=Kt&&Kt.isRegExp,rn=Kt&&Kt.isSet,on=Kt&&Kt.isTypedArray;function an(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function un(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function fn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function cn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function sn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function ln(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function hn(t,n){return!!(null==t?0:t.length)&&xn(t,n,0)>-1}function dn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function pn(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function vn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function mn(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function gn(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function yn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var bn=Sn("length");function _n(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function wn(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function xn(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):wn(t,An,e)}function Mn(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function An(t){return t!=t}function kn(t,n){var e=null==t?0:t.length;return e?En(t,n)/e:NaN}function Sn(t){return function(n){return null==n?void 0:n[t]}}function Tn(t){return function(n){return null==t?void 0:t[n]}}function Cn(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function En(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);void 0!==o&&(e=void 0===e?o:e+o)}return e}function jn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Dn(t){return function(n){return t(n)}}function On(t,n){return pn(n,(function(n){return t[n]}))}function Rn(t,n){return t.has(n)}function Ln(t,n){for(var e=-1,r=t.length;++e<r&&xn(n,t[e],0)>-1;);return e}function zn(t,n){for(var e=t.length;e--&&xn(n,t[e],0)>-1;);return e}function Fn(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var Pn=Tn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Nn=Tn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Un(t){return"\\"+qt[t]}function In(t){return Ft.test(t)}function Bn(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function qn(t,n){return function(e){return t(n(e))}}function Wn(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e];u!==n&&u!==a||(t[e]=a,o[i++]=e)}return o}function Hn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function Yn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function Vn(t){return In(t)?function(t){var n=Lt.lastIndex=0;for(;Lt.test(t);)++n;return n}(t):bn(t)}function $n(t){return In(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.split("")}(t)}var Gn=Tn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xn=function t(n){var e,r=(n=null==n?$t:Xn.defaults($t.Object(),n,Xn.pick($t,Nt))).Array,i=n.Date,ht=n.Error,dt=n.Function,pt=n.Math,vt=n.Object,mt=n.RegExp,gt=n.String,yt=n.TypeError,bt=r.prototype,_t=dt.prototype,wt=vt.prototype,xt=n["__core-js_shared__"],Mt=_t.toString,At=wt.hasOwnProperty,kt=0,St=(e=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",Tt=wt.toString,Ct=Mt.call(vt),Et=$t._,jt=mt("^"+Mt.call(At).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Zt?n.Buffer:void 0,Lt=n.Symbol,Ft=n.Uint8Array,qt=Dt?Dt.allocUnsafe:void 0,Yt=qn(vt.getPrototypeOf,vt),Vt=vt.create,Gt=wt.propertyIsEnumerable,Xt=bt.splice,Qt=Lt?Lt.isConcatSpreadable:void 0,Kt=Lt?Lt.iterator:void 0,bn=Lt?Lt.toStringTag:void 0,Tn=function(){try{var t=Ji(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Zn=n.clearTimeout!==$t.clearTimeout&&n.clearTimeout,Qn=i&&i.now!==$t.Date.now&&i.now,Kn=n.setTimeout!==$t.setTimeout&&n.setTimeout,Jn=pt.ceil,te=pt.floor,ne=vt.getOwnPropertySymbols,ee=Dt?Dt.isBuffer:void 0,re=n.isFinite,ie=bt.join,oe=qn(vt.keys,vt),ae=pt.max,ue=pt.min,fe=i.now,ce=n.parseInt,se=pt.random,le=bt.reverse,he=Ji(n,"DataView"),de=Ji(n,"Map"),pe=Ji(n,"Promise"),ve=Ji(n,"Set"),me=Ji(n,"WeakMap"),ge=Ji(vt,"create"),ye=me&&new me,be={},_e=To(he),we=To(de),xe=To(pe),Me=To(ve),Ae=To(me),ke=Lt?Lt.prototype:void 0,Se=ke?ke.valueOf:void 0,Te=ke?ke.toString:void 0;function Ce(t){if(Ha(t)&&!Ra(t)&&!(t instanceof Oe)){if(t instanceof De)return t;if(At.call(t,"__wrapped__"))return Co(t)}return new De(t)}var Ee=function(){function t(){}return function(n){if(!Wa(n))return{};if(Vt)return Vt(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();function je(){}function De(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=void 0}function Oe(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Re(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Le(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function ze(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Fe(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new ze;++n<e;)this.add(t[n])}function Pe(t){var n=this.__data__=new Le(t);this.size=n.size}function Ne(t,n){var e=Ra(t),r=!e&&Oa(t),i=!e&&!r&&Pa(t),o=!e&&!r&&!i&&Ka(t),a=e||r||i||o,u=a?jn(t.length,gt):[],f=u.length;for(var c in t)!n&&!At.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,f))||u.push(c);return u}function Ue(t){var n=t.length;return n?t[Fr(0,n-1)]:void 0}function Ie(t,n){return Ao(gi(t),Xe(n,0,t.length))}function Be(t){return Ao(gi(t))}function qe(t,n,e){(void 0===e||Ea(t[n],e))&&(void 0!==e||n in t)||$e(t,n,e)}function We(t,n,e){var r=t[n];At.call(t,n)&&Ea(r,e)&&(void 0!==e||n in t)||$e(t,n,e)}function He(t,n){for(var e=t.length;e--;)if(Ea(t[e][0],n))return e;return-1}function Ye(t,n,e,r){return tr(t,(function(t,i,o){n(r,t,e(t),o)})),r}function Ve(t,n){return t&&yi(n,_u(n),t)}function $e(t,n,e){"__proto__"==n&&Tn?Tn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Ge(t,n){for(var e=-1,i=n.length,o=r(i),a=null==t;++e<i;)o[e]=a?void 0:vu(t,n[e]);return o}function Xe(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}function Ze(t,n,e,r,i,o){var a,u=1&n,c=2&n,h=4&n;if(e&&(a=i?e(t,r,i,o):e(t)),void 0!==a)return a;if(!Wa(t))return t;var x=Ra(t);if(x){if(a=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&At.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!u)return gi(t,a)}else{var R=eo(t),L=R==d||R==p;if(Pa(t))return li(t,u);if(R==g||R==f||L&&!i){if(a=c||L?{}:io(t),!u)return c?function(t,n){return yi(t,no(t),n)}(t,function(t,n){return t&&yi(n,wu(n),t)}(a,t)):function(t,n){return yi(t,to(t),n)}(t,Ve(a,t))}else{if(!Bt[R])return i?t:{};a=function(t,n,e){var r=t.constructor;switch(n){case M:return hi(t);case s:case l:return new r(+t);case A:return function(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case k:case S:case T:case C:case E:case j:case"[object Uint8ClampedArray]":case D:case O:return di(t,e);case v:return new r;case m:case _:return new r(t);case y:return function(t){var n=new t.constructor(t.source,rt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case b:return new r;case w:return i=t,Se?vt(Se.call(i)):{}}var i}(t,R,u)}}o||(o=new Pe);var z=o.get(t);if(z)return z;o.set(t,a),Xa(t)?t.forEach((function(r){a.add(Ze(r,n,e,r,t,o))})):Ya(t)&&t.forEach((function(r,i){a.set(i,Ze(r,n,e,i,t,o))}));var F=x?void 0:(h?c?Vi:Yi:c?wu:_u)(t);return fn(F||t,(function(r,i){F&&(r=t[i=r]),We(a,i,Ze(r,n,e,i,t,o))})),a}function Qe(t,n,e){var r=e.length;if(null==t)return!r;for(t=vt(t);r--;){var i=e[r],o=n[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Ke(t,n,e){if("function"!=typeof t)throw new yt(o);return _o((function(){t.apply(void 0,e)}),n)}function Je(t,n,e,r){var i=-1,o=hn,a=!0,u=t.length,f=[],c=n.length;if(!u)return f;e&&(n=pn(n,Dn(e))),r?(o=dn,a=!1):n.length>=200&&(o=Rn,a=!1,n=new Fe(n));t:for(;++i<u;){var s=t[i],l=null==e?s:e(s);if(s=r||0!==s?s:0,a&&l==l){for(var h=c;h--;)if(n[h]===l)continue t;f.push(s)}else o(n,l,r)||f.push(s)}return f}Ce.templateSettings={escape:I,evaluate:B,interpolate:q,variable:"",imports:{_:Ce}},Ce.prototype=je.prototype,Ce.prototype.constructor=Ce,De.prototype=Ee(je.prototype),De.prototype.constructor=De,Oe.prototype=Ee(je.prototype),Oe.prototype.constructor=Oe,Re.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Re.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Re.prototype.get=function(t){var n=this.__data__;if(ge){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return At.call(n,t)?n[t]:void 0},Re.prototype.has=function(t){var n=this.__data__;return ge?void 0!==n[t]:At.call(n,t)},Re.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ge&&void 0===n?"__lodash_hash_undefined__":n,this},Le.prototype.clear=function(){this.__data__=[],this.size=0},Le.prototype.delete=function(t){var n=this.__data__,e=He(n,t);return!(e<0)&&(e==n.length-1?n.pop():Xt.call(n,e,1),--this.size,!0)},Le.prototype.get=function(t){var n=this.__data__,e=He(n,t);return e<0?void 0:n[e][1]},Le.prototype.has=function(t){return He(this.__data__,t)>-1},Le.prototype.set=function(t,n){var e=this.__data__,r=He(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},ze.prototype.clear=function(){this.size=0,this.__data__={hash:new Re,map:new(de||Le),string:new Re}},ze.prototype.delete=function(t){var n=Qi(this,t).delete(t);return this.size-=n?1:0,n},ze.prototype.get=function(t){return Qi(this,t).get(t)},ze.prototype.has=function(t){return Qi(this,t).has(t)},ze.prototype.set=function(t,n){var e=Qi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Fe.prototype.add=Fe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Fe.prototype.has=function(t){return this.__data__.has(t)},Pe.prototype.clear=function(){this.__data__=new Le,this.size=0},Pe.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Pe.prototype.get=function(t){return this.__data__.get(t)},Pe.prototype.has=function(t){return this.__data__.has(t)},Pe.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Le){var r=e.__data__;if(!de||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new ze(r)}return e.set(t,n),this.size=e.size,this};var tr=wi(fr),nr=wi(cr,!0);function er(t,n){var e=!0;return tr(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function rr(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=n(o);if(null!=a&&(void 0===u?a==a&&!Qa(a):e(a,u)))var u=a,f=o}return f}function ir(t,n){var e=[];return tr(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function or(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=oo),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?or(u,n-1,e,r,i):vn(i,u):r||(i[i.length]=u)}return i}var ar=xi(),ur=xi(!0);function fr(t,n){return t&&ar(t,n,_u)}function cr(t,n){return t&&ur(t,n,_u)}function sr(t,n){return ln(n,(function(n){return Ia(t[n])}))}function lr(t,n){for(var e=0,r=(n=ui(n,t)).length;null!=t&&e<r;)t=t[So(n[e++])];return e&&e==r?t:void 0}function hr(t,n,e){var r=n(t);return Ra(t)?r:vn(r,e(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":bn&&bn in vt(t)?function(t){var n=At.call(t,bn),e=t[bn];try{t[bn]=void 0;var r=!0}catch(t){}var i=Tt.call(t);r&&(n?t[bn]=e:delete t[bn]);return i}(t):function(t){return Tt.call(t)}(t)}function pr(t,n){return t>n}function vr(t,n){return null!=t&&At.call(t,n)}function mr(t,n){return null!=t&&n in vt(t)}function gr(t,n,e){for(var i=e?dn:hn,o=t[0].length,a=t.length,u=a,f=r(a),c=1/0,s=[];u--;){var l=t[u];u&&n&&(l=pn(l,Dn(n))),c=ue(l.length,c),f[u]=!e&&(n||o>=120&&l.length>=120)?new Fe(u&&l):void 0}l=t[0];var h=-1,d=f[0];t:for(;++h<o&&s.length<c;){var p=l[h],v=n?n(p):p;if(p=e||0!==p?p:0,!(d?Rn(d,v):i(s,v,e))){for(u=a;--u;){var m=f[u];if(!(m?Rn(m,v):i(t[u],v,e)))continue t}d&&d.push(v),s.push(p)}}return s}function yr(t,n,e){var r=null==(t=mo(t,n=ui(n,t)))?t:t[So(Uo(n))];return null==r?void 0:an(r,t,e)}function br(t){return Ha(t)&&dr(t)==f}function _r(t,n,e,r,i){return t===n||(null==t||null==n||!Ha(t)&&!Ha(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var a=Ra(t),u=Ra(n),d=a?c:eo(t),p=u?c:eo(n),x=(d=d==f?g:d)==g,k=(p=p==f?g:p)==g,S=d==p;if(S&&Pa(t)){if(!Pa(n))return!1;a=!0,x=!1}if(S&&!x)return o||(o=new Pe),a||Ka(t)?Wi(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case A:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case M:return!(t.byteLength!=n.byteLength||!o(new Ft(t),new Ft(n)));case s:case l:case m:return Ea(+t,+n);case h:return t.name==n.name&&t.message==n.message;case y:case _:return t==n+"";case v:var u=Bn;case b:var f=1&r;if(u||(u=Hn),t.size!=n.size&&!f)return!1;var c=a.get(t);if(c)return c==n;r|=2,a.set(t,n);var d=Wi(u(t),u(n),r,i,o,a);return a.delete(t),d;case w:if(Se)return Se.call(t)==Se.call(n)}return!1}(t,n,d,e,r,i,o);if(!(1&e)){var T=x&&At.call(t,"__wrapped__"),C=k&&At.call(n,"__wrapped__");if(T||C){var E=T?t.value():t,j=C?n.value():n;return o||(o=new Pe),i(E,j,e,r,o)}}if(!S)return!1;return o||(o=new Pe),function(t,n,e,r,i,o){var a=1&e,u=Yi(t),f=u.length,c=Yi(n).length;if(f!=c&&!a)return!1;var s=f;for(;s--;){var l=u[s];if(!(a?l in n:At.call(n,l)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var d=!0;o.set(t,n),o.set(n,t);var p=a;for(;++s<f;){l=u[s];var v=t[l],m=n[l];if(r)var g=a?r(m,v,l,n,t,o):r(v,m,l,t,n,o);if(!(void 0===g?v===m||i(v,m,e,r,o):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=n.constructor;y!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(n),d}(t,n,e,r,i,o)}(t,n,e,r,_r,i))}function wr(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var f=(u=e[i])[0],c=t[f],s=u[1];if(a&&u[2]){if(void 0===c&&!(f in t))return!1}else{var l=new Pe;if(r)var h=r(c,s,f,t,n,l);if(!(void 0===h?_r(s,c,3,r,l):h))return!1}}return!0}function xr(t){return!(!Wa(t)||(n=t,St&&St in n))&&(Ia(t)?jt:at).test(To(t));var n}function Mr(t){return"function"==typeof t?t:null==t?Vu:"object"==typeof t?Ra(t)?Er(t[0],t[1]):Cr(t):nf(t)}function Ar(t){if(!lo(t))return oe(t);var n=[];for(var e in vt(t))At.call(t,e)&&"constructor"!=e&&n.push(e);return n}function kr(t){if(!Wa(t))return function(t){var n=[];if(null!=t)for(var e in vt(t))n.push(e);return n}(t);var n=lo(t),e=[];for(var r in t)("constructor"!=r||!n&&At.call(t,r))&&e.push(r);return e}function Sr(t,n){return t<n}function Tr(t,n){var e=-1,i=za(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++e]=n(t,r,o)})),i}function Cr(t){var n=Ki(t);return 1==n.length&&n[0][2]?po(n[0][0],n[0][1]):function(e){return e===t||wr(e,t,n)}}function Er(t,n){return fo(t)&&ho(n)?po(So(t),n):function(e){var r=vu(e,t);return void 0===r&&r===n?mu(e,t):_r(n,r,3)}}function jr(t,n,e,r,i){t!==n&&ar(n,(function(o,a){if(i||(i=new Pe),Wa(o))!function(t,n,e,r,i,o,a){var u=yo(t,e),f=yo(n,e),c=a.get(f);if(c)return void qe(t,e,c);var s=o?o(u,f,e+"",t,n,a):void 0,l=void 0===s;if(l){var h=Ra(f),d=!h&&Pa(f),p=!h&&!d&&Ka(f);s=f,h||d||p?Ra(u)?s=u:Fa(u)?s=gi(u):d?(l=!1,s=li(f,!0)):p?(l=!1,s=di(f,!0)):s=[]:$a(f)||Oa(f)?(s=u,Oa(u)?s=au(u):Wa(u)&&!Ia(u)||(s=io(f))):l=!1}l&&(a.set(f,s),i(s,f,r,o,a),a.delete(f));qe(t,e,s)}(t,n,a,e,jr,r,i);else{var u=r?r(yo(t,a),o,a+"",t,n,i):void 0;void 0===u&&(u=o),qe(t,a,u)}}),wu)}function Dr(t,n){var e=t.length;if(e)return ao(n+=n<0?e:0,e)?t[n]:void 0}function Or(t,n,e){var r=-1;return n=pn(n.length?n:[Vu],Dn(Zi())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Tr(t,(function(t,e,i){return{criteria:pn(n,(function(n){return n(t)})),index:++r,value:t}})),(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;for(;++r<a;){var f=pi(i[r],o[r]);if(f){if(r>=u)return f;var c=e[r];return f*("desc"==c?-1:1)}}return t.index-n.index}(t,n,e)}))}function Rr(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=lr(t,a);e(u,a)&&Br(o,ui(a,t),u)}return o}function Lr(t,n,e,r){var i=r?Mn:xn,o=-1,a=n.length,u=t;for(t===n&&(n=gi(n)),e&&(u=pn(t,Dn(e)));++o<a;)for(var f=0,c=n[o],s=e?e(c):c;(f=i(u,s,f,r))>-1;)u!==t&&Xt.call(u,f,1),Xt.call(t,f,1);return t}function zr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;ao(i)?Xt.call(t,i,1):Jr(t,i)}}return t}function Fr(t,n){return t+te(se()*(n-t+1))}function Pr(t,n){var e="";if(!t||n<1||n>9007199254740991)return e;do{n%2&&(e+=t),(n=te(n/2))&&(t+=t)}while(n);return e}function Nr(t,n){return wo(vo(t,n,Vu),t+"")}function Ur(t){return Ue(Eu(t))}function Ir(t,n){var e=Eu(t);return Ao(e,Xe(n,0,e.length))}function Br(t,n,e,r){if(!Wa(t))return t;for(var i=-1,o=(n=ui(n,t)).length,a=o-1,u=t;null!=u&&++i<o;){var f=So(n[i]),c=e;if(i!=a){var s=u[f];void 0===(c=r?r(s,f,u):void 0)&&(c=Wa(s)?s:ao(n[i+1])?[]:{})}We(u,f,c),u=u[f]}return t}var qr=ye?function(t,n){return ye.set(t,n),t}:Vu,Wr=Tn?function(t,n){return Tn(t,"toString",{configurable:!0,enumerable:!1,value:Wu(n),writable:!0})}:Vu;function Hr(t){return Ao(Eu(t))}function Yr(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+n];return a}function Vr(t,n){var e;return tr(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function $r(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Qa(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return Gr(t,n,Vu,e)}function Gr(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,a=n!=n,u=null===n,f=Qa(n),c=void 0===n;i<o;){var s=te((i+o)/2),l=e(t[s]),h=void 0!==l,d=null===l,p=l==l,v=Qa(l);if(a)var m=r||p;else m=c?p&&(r||h):u?p&&h&&(r||!d):f?p&&h&&!d&&(r||!v):!d&&!v&&(r?l<=n:l<n);m?i=s+1:o=s}return ue(o,4294967294)}function Xr(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!Ea(u,f)){var f=u;o[i++]=0===a?0:a}}return o}function Zr(t){return"number"==typeof t?t:Qa(t)?NaN:+t}function Qr(t){if("string"==typeof t)return t;if(Ra(t))return pn(t,Qr)+"";if(Qa(t))return Te?Te.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Kr(t,n,e){var r=-1,i=hn,o=t.length,a=!0,u=[],f=u;if(e)a=!1,i=dn;else if(o>=200){var c=n?null:Pi(t);if(c)return Hn(c);a=!1,i=Rn,f=new Fe}else f=n?[]:u;t:for(;++r<o;){var s=t[r],l=n?n(s):s;if(s=e||0!==s?s:0,a&&l==l){for(var h=f.length;h--;)if(f[h]===l)continue t;n&&f.push(l),u.push(s)}else i(f,l,e)||(f!==u&&f.push(l),u.push(s))}return u}function Jr(t,n){return null==(t=mo(t,n=ui(n,t)))||delete t[So(Uo(n))]}function ti(t,n,e,r){return Br(t,n,e(lr(t,n)),r)}function ni(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Yr(t,r?0:o,r?o+1:i):Yr(t,r?o+1:0,r?i:o)}function ei(t,n){var e=t;return e instanceof Oe&&(e=e.value()),mn(n,(function(t,n){return n.func.apply(n.thisArg,vn([t],n.args))}),e)}function ri(t,n,e){var i=t.length;if(i<2)return i?Kr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],f=-1;++f<i;)f!=o&&(a[o]=Je(a[o]||u,t[f],n,e));return Kr(or(a,1),n,e)}function ii(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;){var u=r<o?n[r]:void 0;e(a,t[r],u)}return a}function oi(t){return Fa(t)?t:[]}function ai(t){return"function"==typeof t?t:Vu}function ui(t,n){return Ra(t)?t:fo(t,n)?[t]:ko(uu(t))}var fi=Nr;function ci(t,n,e){var r=t.length;return e=void 0===e?r:e,!n&&e>=r?t:Yr(t,n,e)}var si=Zn||function(t){return $t.clearTimeout(t)};function li(t,n){if(n)return t.slice();var e=t.length,r=qt?qt(e):new t.constructor(e);return t.copy(r),r}function hi(t){var n=new t.constructor(t.byteLength);return new Ft(n).set(new Ft(t)),n}function di(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function pi(t,n){if(t!==n){var e=void 0!==t,r=null===t,i=t==t,o=Qa(t),a=void 0!==n,u=null===n,f=n==n,c=Qa(n);if(!u&&!c&&!o&&t>n||o&&a&&f&&!u&&!c||r&&a&&f||!e&&f||!i)return 1;if(!r&&!o&&!c&&t<n||c&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!f)return-1}return 0}function vi(t,n,e,i){for(var o=-1,a=t.length,u=e.length,f=-1,c=n.length,s=ae(a-u,0),l=r(c+s),h=!i;++f<c;)l[f]=n[f];for(;++o<u;)(h||o<a)&&(l[e[o]]=t[o]);for(;s--;)l[f++]=t[o++];return l}function mi(t,n,e,i){for(var o=-1,a=t.length,u=-1,f=e.length,c=-1,s=n.length,l=ae(a-f,0),h=r(l+s),d=!i;++o<l;)h[o]=t[o];for(var p=o;++c<s;)h[p+c]=n[c];for(;++u<f;)(d||o<a)&&(h[p+e[u]]=t[o++]);return h}function gi(t,n){var e=-1,i=t.length;for(n||(n=r(i));++e<i;)n[e]=t[e];return n}function yi(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var u=n[o],f=r?r(e[u],t[u],u,e,t):void 0;void 0===f&&(f=t[u]),i?$e(e,u,f):We(e,u,f)}return e}function bi(t,n){return function(e,r){var i=Ra(e)?un:Ye,o=n?n():{};return i(e,t,Zi(r,2),o)}}function _i(t){return Nr((function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(e[0],e[1],a)&&(o=i<3?void 0:o,i=1),n=vt(n);++r<i;){var u=e[r];u&&t(n,u,r,o)}return n}))}function wi(t,n){return function(e,r){if(null==e)return e;if(!za(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=vt(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function xi(t){return function(n,e,r){for(var i=-1,o=vt(n),a=r(n),u=a.length;u--;){var f=a[t?u:++i];if(!1===e(o[f],f,o))break}return n}}function Mi(t){return function(n){var e=In(n=uu(n))?$n(n):void 0,r=e?e[0]:n.charAt(0),i=e?ci(e,1).join(""):n.slice(1);return r[t]()+i}}function Ai(t){return function(n){return mn(Iu(Ou(n).replace(Ot,"")),t,"")}}function ki(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Ee(t.prototype),r=t.apply(e,n);return Wa(r)?r:e}}function Si(t){return function(n,e,r){var i=vt(n);if(!za(n)){var o=Zi(e,3);n=_u(n),e=function(t){return o(i[t],t,i)}}var a=t(n,e,r);return a>-1?i[o?n[a]:a]:void 0}}function Ti(t){return Hi((function(n){var e=n.length,r=e,i=De.prototype.thru;for(t&&n.reverse();r--;){var a=n[r];if("function"!=typeof a)throw new yt(o);if(i&&!u&&"wrapper"==Gi(a))var u=new De([],!0)}for(r=u?r:e;++r<e;){var f=Gi(a=n[r]),c="wrapper"==f?$i(a):void 0;u=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[Gi(c[0])].apply(u,c[3]):1==a.length&&co(a)?u[f]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ra(r))return u.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}}))}function Ci(t,n,e,i,o,a,u,f,c,s){var l=128&n,h=1&n,d=2&n,p=24&n,v=512&n,m=d?void 0:ki(t);return function g(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Xi(g),x=Fn(b,w);if(i&&(b=vi(b,i,o,p)),a&&(b=mi(b,a,u,p)),y-=x,p&&y<s){var M=Wn(b,w);return zi(t,n,Ci,g.placeholder,e,b,M,f,c,s-y)}var A=h?e:this,k=d?A[t]:t;return y=b.length,f?b=go(b,f):v&&y>1&&b.reverse(),l&&c<y&&(b.length=c),this&&this!==$t&&this instanceof g&&(k=m||ki(k)),k.apply(A,b)}}function Ei(t,n){return function(e,r){return function(t,n,e,r){return fr(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function ji(t,n){return function(e,r){var i;if(void 0===e&&void 0===r)return n;if(void 0!==e&&(i=e),void 0!==r){if(void 0===i)return r;"string"==typeof e||"string"==typeof r?(e=Qr(e),r=Qr(r)):(e=Zr(e),r=Zr(r)),i=t(e,r)}return i}}function Di(t){return Hi((function(n){return n=pn(n,Dn(Zi())),Nr((function(e){var r=this;return t(n,(function(t){return an(t,r,e)}))}))}))}function Oi(t,n){var e=(n=void 0===n?" ":Qr(n)).length;if(e<2)return e?Pr(n,t):n;var r=Pr(n,Jn(t/Vn(n)));return In(n)?ci($n(r),0,t).join(""):r.slice(0,t)}function Ri(t){return function(n,e,i){return i&&"number"!=typeof i&&uo(n,e,i)&&(e=i=void 0),n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e,i){for(var o=-1,a=ae(Jn((n-t)/(e||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=e;return u}(n,e,i=void 0===i?n<e?1:-1:eu(i),t)}}function Li(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=ou(n),e=ou(e)),t(n,e)}}function zi(t,n,e,r,i,o,a,u,f,c){var s=8&n;n|=s?32:64,4&(n&=~(s?64:32))||(n&=-4);var l=[t,n,i,s?o:void 0,s?a:void 0,s?void 0:o,s?void 0:a,u,f,c],h=e.apply(void 0,l);return co(t)&&bo(h,l),h.placeholder=r,xo(h,t,n)}function Fi(t){var n=pt[t];return function(t,e){if(t=ou(t),(e=null==e?0:ue(ru(e),292))&&re(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Pi=ve&&1/Hn(new ve([,-0]))[1]==1/0?function(t){return new ve(t)}:Qu;function Ni(t){return function(n){var e=eo(n);return e==v?Bn(n):e==b?Yn(n):function(t,n){return pn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Ui(t,n,e,i,u,f,c,s){var l=2&n;if(!l&&"function"!=typeof t)throw new yt(o);var h=i?i.length:0;if(h||(n&=-97,i=u=void 0),c=void 0===c?c:ae(ru(c),0),s=void 0===s?s:ru(s),h-=u?u.length:0,64&n){var d=i,p=u;i=u=void 0}var v=l?void 0:$i(t),m=[t,n,e,i,u,d,p,f,c,s];if(v&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<131,u=128==r&&8==e||128==r&&256==e&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!o&&!u)return t;1&r&&(t[2]=n[2],i|=1&e?0:4);var f=n[3];if(f){var c=t[3];t[3]=c?vi(c,f,n[4]):f,t[4]=c?Wn(t[3],a):n[4]}(f=n[5])&&(c=t[5],t[5]=c?mi(c,f,n[6]):f,t[6]=c?Wn(t[5],a):n[6]);(f=n[7])&&(t[7]=f);128&r&&(t[8]=null==t[8]?n[8]:ue(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=i}(m,v),t=m[0],n=m[1],e=m[2],i=m[3],u=m[4],!(s=m[9]=void 0===m[9]?l?0:t.length:ae(m[9]-h,0))&&24&n&&(n&=-25),n&&1!=n)g=8==n||16==n?function(t,n,e){var i=ki(t);return function o(){for(var a=arguments.length,u=r(a),f=a,c=Xi(o);f--;)u[f]=arguments[f];var s=a<3&&u[0]!==c&&u[a-1]!==c?[]:Wn(u,c);if((a-=s.length)<e)return zi(t,n,Ci,o.placeholder,void 0,u,s,void 0,void 0,e-a);var l=this&&this!==$t&&this instanceof o?i:t;return an(l,this,u)}}(t,n,s):32!=n&&33!=n||u.length?Ci.apply(void 0,m):function(t,n,e,i){var o=1&n,a=ki(t);return function n(){for(var u=-1,f=arguments.length,c=-1,s=i.length,l=r(s+f),h=this&&this!==$t&&this instanceof n?a:t;++c<s;)l[c]=i[c];for(;f--;)l[c++]=arguments[++u];return an(h,o?e:this,l)}}(t,n,e,i);else var g=function(t,n,e){var r=1&n,i=ki(t);return function n(){var o=this&&this!==$t&&this instanceof n?i:t;return o.apply(r?e:this,arguments)}}(t,n,e);return xo((v?qr:bo)(g,m),t,n)}function Ii(t,n,e,r){return void 0===t||Ea(t,wt[e])&&!At.call(r,e)?n:t}function Bi(t,n,e,r,i,o){return Wa(t)&&Wa(n)&&(o.set(n,t),jr(t,n,void 0,Bi,o),o.delete(n)),t}function qi(t){return $a(t)?void 0:t}function Wi(t,n,e,r,i,o){var a=1&e,u=t.length,f=n.length;if(u!=f&&!(a&&f>u))return!1;var c=o.get(t);if(c&&o.get(n))return c==n;var s=-1,l=!0,h=2&e?new Fe:void 0;for(o.set(t,n),o.set(n,t);++s<u;){var d=t[s],p=n[s];if(r)var v=a?r(p,d,s,n,t,o):r(d,p,s,t,n,o);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!yn(n,(function(t,n){if(!Rn(h,n)&&(d===t||i(d,t,e,r,o)))return h.push(n)}))){l=!1;break}}else if(d!==p&&!i(d,p,e,r,o)){l=!1;break}}return o.delete(t),o.delete(n),l}function Hi(t){return wo(vo(t,void 0,Lo),t+"")}function Yi(t){return hr(t,_u,to)}function Vi(t){return hr(t,wu,no)}var $i=ye?function(t){return ye.get(t)}:Qu;function Gi(t){for(var n=t.name+"",e=be[n],r=At.call(be,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Xi(t){return(At.call(Ce,"placeholder")?Ce:t).placeholder}function Zi(){var t=Ce.iteratee||$u;return t=t===$u?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function Qi(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function Ki(t){for(var n=_u(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,ho(i)]}return n}function Ji(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return xr(e)?e:void 0}var to=ne?function(t){return null==t?[]:(t=vt(t),ln(ne(t),(function(n){return Gt.call(t,n)})))}:of,no=ne?function(t){for(var n=[];t;)vn(n,to(t)),t=Yt(t);return n}:of,eo=dr;function ro(t,n,e){for(var r=-1,i=(n=ui(n,t)).length,o=!1;++r<i;){var a=So(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&qa(i)&&ao(a,i)&&(Ra(t)||Oa(t))}function io(t){return"function"!=typeof t.constructor||lo(t)?{}:Ee(Yt(t))}function oo(t){return Ra(t)||Oa(t)||!!(Qt&&t&&t[Qt])}function ao(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&ft.test(t))&&t>-1&&t%1==0&&t<n}function uo(t,n,e){if(!Wa(e))return!1;var r=typeof n;return!!("number"==r?za(e)&&ao(n,e.length):"string"==r&&n in e)&&Ea(e[n],t)}function fo(t,n){if(Ra(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Qa(t))||(H.test(t)||!W.test(t)||null!=n&&t in vt(n))}function co(t){var n=Gi(t),e=Ce[n];if("function"!=typeof e||!(n in Oe.prototype))return!1;if(t===e)return!0;var r=$i(e);return!!r&&t===r[0]}(he&&eo(new he(new ArrayBuffer(1)))!=A||de&&eo(new de)!=v||pe&&"[object Promise]"!=eo(pe.resolve())||ve&&eo(new ve)!=b||me&&eo(new me)!=x)&&(eo=function(t){var n=dr(t),e=n==g?t.constructor:void 0,r=e?To(e):"";if(r)switch(r){case _e:return A;case we:return v;case xe:return"[object Promise]";case Me:return b;case Ae:return x}return n});var so=xt?Ia:af;function lo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||wt)}function ho(t){return t==t&&!Wa(t)}function po(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in vt(e)))}}function vo(t,n,e){return n=ae(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=ae(i.length-n,0),u=r(a);++o<a;)u[o]=i[n+o];o=-1;for(var f=r(n+1);++o<n;)f[o]=i[o];return f[n]=e(u),an(t,this,f)}}function mo(t,n){return n.length<2?t:lr(t,Yr(n,0,-1))}function go(t,n){for(var e=t.length,r=ue(n.length,e),i=gi(t);r--;){var o=n[r];t[r]=ao(o,e)?i[o]:void 0}return t}function yo(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var bo=Mo(qr),_o=Kn||function(t,n){return $t.setTimeout(t,n)},wo=Mo(Wr);function xo(t,n,e){var r=n+"";return wo(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return fn(u,(function(e){var r="_."+e[0];n&e[1]&&!hn(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(K);return n?n[1].split(J):[]}(r),e)))}function Mo(t){var n=0,e=0;return function(){var r=fe(),i=16-(r-e);if(e=r,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function Ao(t,n){var e=-1,r=t.length,i=r-1;for(n=void 0===n?r:n;++e<n;){var o=Fr(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}var ko=function(t){var n=Ma(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Y,(function(t,e,r,i){n.push(r?i.replace(nt,"$1"):e||t)})),n}));function So(t){if("string"==typeof t||Qa(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function To(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Co(t){if(t instanceof Oe)return t.clone();var n=new De(t.__wrapped__,t.__chain__);return n.__actions__=gi(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Eo=Nr((function(t,n){return Fa(t)?Je(t,or(n,1,Fa,!0)):[]})),jo=Nr((function(t,n){var e=Uo(n);return Fa(e)&&(e=void 0),Fa(t)?Je(t,or(n,1,Fa,!0),Zi(e,2)):[]})),Do=Nr((function(t,n){var e=Uo(n);return Fa(e)&&(e=void 0),Fa(t)?Je(t,or(n,1,Fa,!0),void 0,e):[]}));function Oo(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),wn(t,Zi(n,3),i)}function Ro(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==e&&(i=ru(e),i=e<0?ae(r+i,0):ue(i,r-1)),wn(t,Zi(n,3),i,!0)}function Lo(t){return(null==t?0:t.length)?or(t,1):[]}function zo(t){return t&&t.length?t[0]:void 0}var Fo=Nr((function(t){var n=pn(t,oi);return n.length&&n[0]===t[0]?gr(n):[]})),Po=Nr((function(t){var n=Uo(t),e=pn(t,oi);return n===Uo(e)?n=void 0:e.pop(),e.length&&e[0]===t[0]?gr(e,Zi(n,2)):[]})),No=Nr((function(t){var n=Uo(t),e=pn(t,oi);return(n="function"==typeof n?n:void 0)&&e.pop(),e.length&&e[0]===t[0]?gr(e,void 0,n):[]}));function Uo(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}var Io=Nr(Bo);function Bo(t,n){return t&&t.length&&n&&n.length?Lr(t,n):t}var qo=Hi((function(t,n){var e=null==t?0:t.length,r=Ge(t,n);return zr(t,pn(n,(function(t){return ao(t,e)?+t:t})).sort(pi)),r}));function Wo(t){return null==t?t:le.call(t)}var Ho=Nr((function(t){return Kr(or(t,1,Fa,!0))})),Yo=Nr((function(t){var n=Uo(t);return Fa(n)&&(n=void 0),Kr(or(t,1,Fa,!0),Zi(n,2))})),Vo=Nr((function(t){var n=Uo(t);return n="function"==typeof n?n:void 0,Kr(or(t,1,Fa,!0),void 0,n)}));function $o(t){if(!t||!t.length)return[];var n=0;return t=ln(t,(function(t){if(Fa(t))return n=ae(t.length,n),!0})),jn(n,(function(n){return pn(t,Sn(n))}))}function Go(t,n){if(!t||!t.length)return[];var e=$o(t);return null==n?e:pn(e,(function(t){return an(n,void 0,t)}))}var Xo=Nr((function(t,n){return Fa(t)?Je(t,n):[]})),Zo=Nr((function(t){return ri(ln(t,Fa))})),Qo=Nr((function(t){var n=Uo(t);return Fa(n)&&(n=void 0),ri(ln(t,Fa),Zi(n,2))})),Ko=Nr((function(t){var n=Uo(t);return n="function"==typeof n?n:void 0,ri(ln(t,Fa),void 0,n)})),Jo=Nr($o);var ta=Nr((function(t){var n=t.length,e=n>1?t[n-1]:void 0;return e="function"==typeof e?(t.pop(),e):void 0,Go(t,e)}));function na(t){var n=Ce(t);return n.__chain__=!0,n}function ea(t,n){return n(t)}var ra=Hi((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return Ge(n,t)};return!(n>1||this.__actions__.length)&&r instanceof Oe&&ao(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:ea,args:[i],thisArg:void 0}),new De(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,n,e){At.call(t,e)?++t[e]:$e(t,e,1)}));var oa=Si(Oo),aa=Si(Ro);function ua(t,n){return(Ra(t)?fn:tr)(t,Zi(n,3))}function fa(t,n){return(Ra(t)?cn:nr)(t,Zi(n,3))}var ca=bi((function(t,n,e){At.call(t,e)?t[e].push(n):$e(t,e,[n])}));var sa=Nr((function(t,n,e){var i=-1,o="function"==typeof n,a=za(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?an(n,t,e):yr(t,n,e)})),a})),la=bi((function(t,n,e){$e(t,e,n)}));function ha(t,n){return(Ra(t)?pn:Tr)(t,Zi(n,3))}var da=bi((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var pa=Nr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&uo(t,n[0],n[1])?n=[]:e>2&&uo(n[0],n[1],n[2])&&(n=[n[0]]),Or(t,or(n,1),[])})),va=Qn||function(){return $t.Date.now()};function ma(t,n,e){return n=e?void 0:n,Ui(t,128,void 0,void 0,void 0,void 0,n=t&&null==n?t.length:n)}function ga(t,n){var e;if("function"!=typeof n)throw new yt(o);return t=ru(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=void 0),e}}var ya=Nr((function(t,n,e){var r=1;if(e.length){var i=Wn(e,Xi(ya));r|=32}return Ui(t,r,n,e,i)})),ba=Nr((function(t,n,e){var r=3;if(e.length){var i=Wn(e,Xi(ba));r|=32}return Ui(n,r,t,e,i)}));function _a(t,n,e){var r,i,a,u,f,c,s=0,l=!1,h=!1,d=!0;if("function"!=typeof t)throw new yt(o);function p(n){var e=r,o=i;return r=i=void 0,s=n,u=t.apply(o,e)}function v(t){return s=t,f=_o(g,n),l?p(t):u}function m(t){var e=t-c;return void 0===c||e>=n||e<0||h&&t-s>=a}function g(){var t=va();if(m(t))return y(t);f=_o(g,function(t){var e=n-(t-c);return h?ue(e,a-(t-s)):e}(t))}function y(t){return f=void 0,d&&r?p(t):(r=i=void 0,u)}function b(){var t=va(),e=m(t);if(r=arguments,i=this,c=t,e){if(void 0===f)return v(c);if(h)return si(f),f=_o(g,n),p(c)}return void 0===f&&(f=_o(g,n)),u}return n=ou(n)||0,Wa(e)&&(l=!!e.leading,a=(h="maxWait"in e)?ae(ou(e.maxWait)||0,n):a,d="trailing"in e?!!e.trailing:d),b.cancel=function(){void 0!==f&&si(f),s=0,r=c=i=f=void 0},b.flush=function(){return void 0===f?u:y(va())},b}var wa=Nr((function(t,n){return Ke(t,1,n)})),xa=Nr((function(t,n,e){return Ke(t,ou(n)||0,e)}));function Ma(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new yt(o);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(Ma.Cache||ze),e}function Aa(t){if("function"!=typeof t)throw new yt(o);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Ma.Cache=ze;var ka=fi((function(t,n){var e=(n=1==n.length&&Ra(n[0])?pn(n[0],Dn(Zi())):pn(or(n,1),Dn(Zi()))).length;return Nr((function(r){for(var i=-1,o=ue(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return an(t,this,r)}))})),Sa=Nr((function(t,n){return Ui(t,32,void 0,n,Wn(n,Xi(Sa)))})),Ta=Nr((function(t,n){return Ui(t,64,void 0,n,Wn(n,Xi(Ta)))})),Ca=Hi((function(t,n){return Ui(t,256,void 0,void 0,void 0,n)}));function Ea(t,n){return t===n||t!=t&&n!=n}var ja=Li(pr),Da=Li((function(t,n){return t>=n})),Oa=br(function(){return arguments}())?br:function(t){return Ha(t)&&At.call(t,"callee")&&!Gt.call(t,"callee")},Ra=r.isArray,La=Jt?Dn(Jt):function(t){return Ha(t)&&dr(t)==M};function za(t){return null!=t&&qa(t.length)&&!Ia(t)}function Fa(t){return Ha(t)&&za(t)}var Pa=ee||af,Na=tn?Dn(tn):function(t){return Ha(t)&&dr(t)==l};function Ua(t){if(!Ha(t))return!1;var n=dr(t);return n==h||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!$a(t)}function Ia(t){if(!Wa(t))return!1;var n=dr(t);return n==d||n==p||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ba(t){return"number"==typeof t&&t==ru(t)}function qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Wa(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Ha(t){return null!=t&&"object"==typeof t}var Ya=nn?Dn(nn):function(t){return Ha(t)&&eo(t)==v};function Va(t){return"number"==typeof t||Ha(t)&&dr(t)==m}function $a(t){if(!Ha(t)||dr(t)!=g)return!1;var n=Yt(t);if(null===n)return!0;var e=At.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Mt.call(e)==Ct}var Ga=en?Dn(en):function(t){return Ha(t)&&dr(t)==y};var Xa=rn?Dn(rn):function(t){return Ha(t)&&eo(t)==b};function Za(t){return"string"==typeof t||!Ra(t)&&Ha(t)&&dr(t)==_}function Qa(t){return"symbol"==typeof t||Ha(t)&&dr(t)==w}var Ka=on?Dn(on):function(t){return Ha(t)&&qa(t.length)&&!!It[dr(t)]};var Ja=Li(Sr),tu=Li((function(t,n){return t<=n}));function nu(t){if(!t)return[];if(za(t))return Za(t)?$n(t):gi(t);if(Kt&&t[Kt])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Kt]());var n=eo(t);return(n==v?Bn:n==b?Hn:Eu)(t)}function eu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var n=eu(t),e=n%1;return n==n?e?n-e:n:0}function iu(t){return t?Xe(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Qa(t))return NaN;if(Wa(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Wa(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var e=ot.test(t);return e||ut.test(t)?Ht(t.slice(2),e?2:8):it.test(t)?NaN:+t}function au(t){return yi(t,wu(t))}function uu(t){return null==t?"":Qr(t)}var fu=_i((function(t,n){if(lo(n)||za(n))yi(n,_u(n),t);else for(var e in n)At.call(n,e)&&We(t,e,n[e])})),cu=_i((function(t,n){yi(n,wu(n),t)})),su=_i((function(t,n,e,r){yi(n,wu(n),t,r)})),lu=_i((function(t,n,e,r){yi(n,_u(n),t,r)})),hu=Hi(Ge);var du=Nr((function(t,n){t=vt(t);var e=-1,r=n.length,i=r>2?n[2]:void 0;for(i&&uo(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],a=wu(o),u=-1,f=a.length;++u<f;){var c=a[u],s=t[c];(void 0===s||Ea(s,wt[c])&&!At.call(t,c))&&(t[c]=o[c])}return t})),pu=Nr((function(t){return t.push(void 0,Bi),an(Mu,void 0,t)}));function vu(t,n,e){var r=null==t?void 0:lr(t,n);return void 0===r?e:r}function mu(t,n){return null!=t&&ro(t,n,mr)}var gu=Ei((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Tt.call(n)),t[n]=e}),Wu(Vu)),yu=Ei((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Tt.call(n)),At.call(t,n)?t[n].push(e):t[n]=[e]}),Zi),bu=Nr(yr);function _u(t){return za(t)?Ne(t):Ar(t)}function wu(t){return za(t)?Ne(t,!0):kr(t)}var xu=_i((function(t,n,e){jr(t,n,e)})),Mu=_i((function(t,n,e,r){jr(t,n,e,r)})),Au=Hi((function(t,n){var e={};if(null==t)return e;var r=!1;n=pn(n,(function(n){return n=ui(n,t),r||(r=n.length>1),n})),yi(t,Vi(t),e),r&&(e=Ze(e,7,qi));for(var i=n.length;i--;)Jr(e,n[i]);return e}));var ku=Hi((function(t,n){return null==t?{}:function(t,n){return Rr(t,n,(function(n,e){return mu(t,e)}))}(t,n)}));function Su(t,n){if(null==t)return{};var e=pn(Vi(t),(function(t){return[t]}));return n=Zi(n),Rr(t,e,(function(t,e){return n(t,e[0])}))}var Tu=Ni(_u),Cu=Ni(wu);function Eu(t){return null==t?[]:On(t,_u(t))}var ju=Ai((function(t,n,e){return n=n.toLowerCase(),t+(e?Du(n):n)}));function Du(t){return Uu(uu(t).toLowerCase())}function Ou(t){return(t=uu(t))&&t.replace(ct,Pn).replace(Rt,"")}var Ru=Ai((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Lu=Ai((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),zu=Mi("toLowerCase");var Fu=Ai((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Pu=Ai((function(t,n,e){return t+(e?" ":"")+Uu(n)}));var Nu=Ai((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Uu=Mi("toUpperCase");function Iu(t,n,e){return t=uu(t),void 0===(n=e?void 0:n)?function(t){return Pt.test(t)}(t)?function(t){return t.match(zt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(n)||[]}var Bu=Nr((function(t,n){try{return an(t,void 0,n)}catch(t){return Ua(t)?t:new ht(t)}})),qu=Hi((function(t,n){return fn(n,(function(n){n=So(n),$e(t,n,ya(t[n],t))})),t}));function Wu(t){return function(){return t}}var Hu=Ti(),Yu=Ti(!0);function Vu(t){return t}function $u(t){return Mr("function"==typeof t?t:Ze(t,1))}var Gu=Nr((function(t,n){return function(e){return yr(e,t,n)}})),Xu=Nr((function(t,n){return function(e){return yr(t,e,n)}}));function Zu(t,n,e){var r=_u(n),i=sr(n,r);null!=e||Wa(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=sr(n,_u(n)));var o=!(Wa(e)&&"chain"in e&&!e.chain),a=Ia(t);return fn(i,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,vn([this.value()],arguments))})})),t}function Qu(){}var Ku=Di(pn),Ju=Di(sn),tf=Di(yn);function nf(t){return fo(t)?Sn(So(t)):function(t){return function(n){return lr(n,t)}}(t)}var ef=Ri(),rf=Ri(!0);function of(){return[]}function af(){return!1}var uf=ji((function(t,n){return t+n}),0),ff=Fi("ceil"),cf=ji((function(t,n){return t/n}),1),sf=Fi("floor");var lf,hf=ji((function(t,n){return t*n}),1),df=Fi("round"),pf=ji((function(t,n){return t-n}),0);return Ce.after=function(t,n){if("function"!=typeof n)throw new yt(o);return t=ru(t),function(){if(--t<1)return n.apply(this,arguments)}},Ce.ary=ma,Ce.assign=fu,Ce.assignIn=cu,Ce.assignInWith=su,Ce.assignWith=lu,Ce.at=hu,Ce.before=ga,Ce.bind=ya,Ce.bindAll=qu,Ce.bindKey=ba,Ce.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ra(t)?t:[t]},Ce.chain=na,Ce.chunk=function(t,n,e){n=(e?uo(t,n,e):void 0===n)?1:ae(ru(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var o=0,a=0,u=r(Jn(i/n));o<i;)u[a++]=Yr(t,o,o+=n);return u},Ce.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},Ce.concat=function(){var t=arguments.length;if(!t)return[];for(var n=r(t-1),e=arguments[0],i=t;i--;)n[i-1]=arguments[i];return vn(Ra(e)?gi(e):[e],or(n,1))},Ce.cond=function(t){var n=null==t?0:t.length,e=Zi();return t=n?pn(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[e(t[0]),t[1]]})):[],Nr((function(e){for(var r=-1;++r<n;){var i=t[r];if(an(i[0],this,e))return an(i[1],this,e)}}))},Ce.conforms=function(t){return function(t){var n=_u(t);return function(e){return Qe(e,t,n)}}(Ze(t,1))},Ce.constant=Wu,Ce.countBy=ia,Ce.create=function(t,n){var e=Ee(t);return null==n?e:Ve(e,n)},Ce.curry=function t(n,e,r){var i=Ui(n,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Ce.curryRight=function t(n,e,r){var i=Ui(n,16,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},Ce.debounce=_a,Ce.defaults=du,Ce.defaultsDeep=pu,Ce.defer=wa,Ce.delay=xa,Ce.difference=Eo,Ce.differenceBy=jo,Ce.differenceWith=Do,Ce.drop=function(t,n,e){var r=null==t?0:t.length;return r?Yr(t,(n=e||void 0===n?1:ru(n))<0?0:n,r):[]},Ce.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Yr(t,0,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n):[]},Ce.dropRightWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3),!0,!0):[]},Ce.dropWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3),!0):[]},Ce.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&uo(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=ru(e))<0&&(e=-e>i?0:i+e),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=e>r?0:iu(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},Ce.filter=function(t,n){return(Ra(t)?ln:ir)(t,Zi(n,3))},Ce.flatMap=function(t,n){return or(ha(t,n),1)},Ce.flatMapDeep=function(t,n){return or(ha(t,n),1/0)},Ce.flatMapDepth=function(t,n,e){return e=void 0===e?1:ru(e),or(ha(t,n),e)},Ce.flatten=Lo,Ce.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Ce.flattenDepth=function(t,n){return(null==t?0:t.length)?or(t,n=void 0===n?1:ru(n)):[]},Ce.flip=function(t){return Ui(t,512)},Ce.flow=Hu,Ce.flowRight=Yu,Ce.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},Ce.functions=function(t){return null==t?[]:sr(t,_u(t))},Ce.functionsIn=function(t){return null==t?[]:sr(t,wu(t))},Ce.groupBy=ca,Ce.initial=function(t){return(null==t?0:t.length)?Yr(t,0,-1):[]},Ce.intersection=Fo,Ce.intersectionBy=Po,Ce.intersectionWith=No,Ce.invert=gu,Ce.invertBy=yu,Ce.invokeMap=sa,Ce.iteratee=$u,Ce.keyBy=la,Ce.keys=_u,Ce.keysIn=wu,Ce.map=ha,Ce.mapKeys=function(t,n){var e={};return n=Zi(n,3),fr(t,(function(t,r,i){$e(e,n(t,r,i),t)})),e},Ce.mapValues=function(t,n){var e={};return n=Zi(n,3),fr(t,(function(t,r,i){$e(e,r,n(t,r,i))})),e},Ce.matches=function(t){return Cr(Ze(t,1))},Ce.matchesProperty=function(t,n){return Er(t,Ze(n,1))},Ce.memoize=Ma,Ce.merge=xu,Ce.mergeWith=Mu,Ce.method=Gu,Ce.methodOf=Xu,Ce.mixin=Zu,Ce.negate=Aa,Ce.nthArg=function(t){return t=ru(t),Nr((function(n){return Dr(n,t)}))},Ce.omit=Au,Ce.omitBy=function(t,n){return Su(t,Aa(Zi(n)))},Ce.once=function(t){return ga(2,t)},Ce.orderBy=function(t,n,e,r){return null==t?[]:(Ra(n)||(n=null==n?[]:[n]),Ra(e=r?void 0:e)||(e=null==e?[]:[e]),Or(t,n,e))},Ce.over=Ku,Ce.overArgs=ka,Ce.overEvery=Ju,Ce.overSome=tf,Ce.partial=Sa,Ce.partialRight=Ta,Ce.partition=da,Ce.pick=ku,Ce.pickBy=Su,Ce.property=nf,Ce.propertyOf=function(t){return function(n){return null==t?void 0:lr(t,n)}},Ce.pull=Io,Ce.pullAll=Bo,Ce.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Lr(t,n,Zi(e,2)):t},Ce.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?Lr(t,n,void 0,e):t},Ce.pullAt=qo,Ce.range=ef,Ce.rangeRight=rf,Ce.rearg=Ca,Ce.reject=function(t,n){return(Ra(t)?ln:ir)(t,Aa(Zi(n,3)))},Ce.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Zi(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return zr(t,i),e},Ce.rest=function(t,n){if("function"!=typeof t)throw new yt(o);return Nr(t,n=void 0===n?n:ru(n))},Ce.reverse=Wo,Ce.sampleSize=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),(Ra(t)?Ie:Ir)(t,n)},Ce.set=function(t,n,e){return null==t?t:Br(t,n,e)},Ce.setWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,n,e,r)},Ce.shuffle=function(t){return(Ra(t)?Be:Hr)(t)},Ce.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&uo(t,n,e)?(n=0,e=r):(n=null==n?0:ru(n),e=void 0===e?r:ru(e)),Yr(t,n,e)):[]},Ce.sortBy=pa,Ce.sortedUniq=function(t){return t&&t.length?Xr(t):[]},Ce.sortedUniqBy=function(t,n){return t&&t.length?Xr(t,Zi(n,2)):[]},Ce.split=function(t,n,e){return e&&"number"!=typeof e&&uo(t,n,e)&&(n=e=void 0),(e=void 0===e?4294967295:e>>>0)?(t=uu(t))&&("string"==typeof n||null!=n&&!Ga(n))&&!(n=Qr(n))&&In(t)?ci($n(t),0,e):t.split(n,e):[]},Ce.spread=function(t,n){if("function"!=typeof t)throw new yt(o);return n=null==n?0:ae(ru(n),0),Nr((function(e){var r=e[n],i=ci(e,0,n);return r&&vn(i,r),an(t,this,i)}))},Ce.tail=function(t){var n=null==t?0:t.length;return n?Yr(t,1,n):[]},Ce.take=function(t,n,e){return t&&t.length?Yr(t,0,(n=e||void 0===n?1:ru(n))<0?0:n):[]},Ce.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Yr(t,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n,r):[]},Ce.takeRightWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3),!1,!0):[]},Ce.takeWhile=function(t,n){return t&&t.length?ni(t,Zi(n,3)):[]},Ce.tap=function(t,n){return n(t),t},Ce.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new yt(o);return Wa(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),_a(t,n,{leading:r,maxWait:n,trailing:i})},Ce.thru=ea,Ce.toArray=nu,Ce.toPairs=Tu,Ce.toPairsIn=Cu,Ce.toPath=function(t){return Ra(t)?pn(t,So):Qa(t)?[t]:gi(ko(uu(t)))},Ce.toPlainObject=au,Ce.transform=function(t,n,e){var r=Ra(t),i=r||Pa(t)||Ka(t);if(n=Zi(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Wa(t)&&Ia(o)?Ee(Yt(t)):{}}return(i?fn:fr)(t,(function(t,r,i){return n(e,t,r,i)})),e},Ce.unary=function(t){return ma(t,1)},Ce.union=Ho,Ce.unionBy=Yo,Ce.unionWith=Vo,Ce.uniq=function(t){return t&&t.length?Kr(t):[]},Ce.uniqBy=function(t,n){return t&&t.length?Kr(t,Zi(n,2)):[]},Ce.uniqWith=function(t,n){return n="function"==typeof n?n:void 0,t&&t.length?Kr(t,void 0,n):[]},Ce.unset=function(t,n){return null==t||Jr(t,n)},Ce.unzip=$o,Ce.unzipWith=Go,Ce.update=function(t,n,e){return null==t?t:ti(t,n,ai(e))},Ce.updateWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,n,ai(e),r)},Ce.values=Eu,Ce.valuesIn=function(t){return null==t?[]:On(t,wu(t))},Ce.without=Xo,Ce.words=Iu,Ce.wrap=function(t,n){return Sa(ai(n),t)},Ce.xor=Zo,Ce.xorBy=Qo,Ce.xorWith=Ko,Ce.zip=Jo,Ce.zipObject=function(t,n){return ii(t||[],n||[],We)},Ce.zipObjectDeep=function(t,n){return ii(t||[],n||[],Br)},Ce.zipWith=ta,Ce.entries=Tu,Ce.entriesIn=Cu,Ce.extend=cu,Ce.extendWith=su,Zu(Ce,Ce),Ce.add=uf,Ce.attempt=Bu,Ce.camelCase=ju,Ce.capitalize=Du,Ce.ceil=ff,Ce.clamp=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=ou(e))==e?e:0),void 0!==n&&(n=(n=ou(n))==n?n:0),Xe(ou(t),n,e)},Ce.clone=function(t){return Ze(t,4)},Ce.cloneDeep=function(t){return Ze(t,5)},Ce.cloneDeepWith=function(t,n){return Ze(t,5,n="function"==typeof n?n:void 0)},Ce.cloneWith=function(t,n){return Ze(t,4,n="function"==typeof n?n:void 0)},Ce.conformsTo=function(t,n){return null==n||Qe(t,n,_u(n))},Ce.deburr=Ou,Ce.defaultTo=function(t,n){return null==t||t!=t?n:t},Ce.divide=cf,Ce.endsWith=function(t,n,e){t=uu(t),n=Qr(n);var r=t.length,i=e=void 0===e?r:Xe(ru(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},Ce.eq=Ea,Ce.escape=function(t){return(t=uu(t))&&U.test(t)?t.replace(P,Nn):t},Ce.escapeRegExp=function(t){return(t=uu(t))&&$.test(t)?t.replace(V,"\\$&"):t},Ce.every=function(t,n,e){var r=Ra(t)?sn:er;return e&&uo(t,n,e)&&(n=void 0),r(t,Zi(n,3))},Ce.find=oa,Ce.findIndex=Oo,Ce.findKey=function(t,n){return _n(t,Zi(n,3),fr)},Ce.findLast=aa,Ce.findLastIndex=Ro,Ce.findLastKey=function(t,n){return _n(t,Zi(n,3),cr)},Ce.floor=sf,Ce.forEach=ua,Ce.forEachRight=fa,Ce.forIn=function(t,n){return null==t?t:ar(t,Zi(n,3),wu)},Ce.forInRight=function(t,n){return null==t?t:ur(t,Zi(n,3),wu)},Ce.forOwn=function(t,n){return t&&fr(t,Zi(n,3))},Ce.forOwnRight=function(t,n){return t&&cr(t,Zi(n,3))},Ce.get=vu,Ce.gt=ja,Ce.gte=Da,Ce.has=function(t,n){return null!=t&&ro(t,n,vr)},Ce.hasIn=mu,Ce.head=zo,Ce.identity=Vu,Ce.includes=function(t,n,e,r){t=za(t)?t:Eu(t),e=e&&!r?ru(e):0;var i=t.length;return e<0&&(e=ae(i+e,0)),Za(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&xn(t,n,e)>-1},Ce.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),xn(t,n,i)},Ce.inRange=function(t,n,e){return n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e){return t>=ue(n,e)&&t<ae(n,e)}(t=ou(t),n,e)},Ce.invoke=bu,Ce.isArguments=Oa,Ce.isArray=Ra,Ce.isArrayBuffer=La,Ce.isArrayLike=za,Ce.isArrayLikeObject=Fa,Ce.isBoolean=function(t){return!0===t||!1===t||Ha(t)&&dr(t)==s},Ce.isBuffer=Pa,Ce.isDate=Na,Ce.isElement=function(t){return Ha(t)&&1===t.nodeType&&!$a(t)},Ce.isEmpty=function(t){if(null==t)return!0;if(za(t)&&(Ra(t)||"string"==typeof t||"function"==typeof t.splice||Pa(t)||Ka(t)||Oa(t)))return!t.length;var n=eo(t);if(n==v||n==b)return!t.size;if(lo(t))return!Ar(t).length;for(var e in t)if(At.call(t,e))return!1;return!0},Ce.isEqual=function(t,n){return _r(t,n)},Ce.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:void 0)?e(t,n):void 0;return void 0===r?_r(t,n,void 0,e):!!r},Ce.isError=Ua,Ce.isFinite=function(t){return"number"==typeof t&&re(t)},Ce.isFunction=Ia,Ce.isInteger=Ba,Ce.isLength=qa,Ce.isMap=Ya,Ce.isMatch=function(t,n){return t===n||wr(t,n,Ki(n))},Ce.isMatchWith=function(t,n,e){return e="function"==typeof e?e:void 0,wr(t,n,Ki(n),e)},Ce.isNaN=function(t){return Va(t)&&t!=+t},Ce.isNative=function(t){if(so(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},Ce.isNil=function(t){return null==t},Ce.isNull=function(t){return null===t},Ce.isNumber=Va,Ce.isObject=Wa,Ce.isObjectLike=Ha,Ce.isPlainObject=$a,Ce.isRegExp=Ga,Ce.isSafeInteger=function(t){return Ba(t)&&t>=-9007199254740991&&t<=9007199254740991},Ce.isSet=Xa,Ce.isString=Za,Ce.isSymbol=Qa,Ce.isTypedArray=Ka,Ce.isUndefined=function(t){return void 0===t},Ce.isWeakMap=function(t){return Ha(t)&&eo(t)==x},Ce.isWeakSet=function(t){return Ha(t)&&"[object WeakSet]"==dr(t)},Ce.join=function(t,n){return null==t?"":ie.call(t,n)},Ce.kebabCase=Ru,Ce.last=Uo,Ce.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==e&&(i=(i=ru(e))<0?ae(r+i,0):ue(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):wn(t,An,i,!0)},Ce.lowerCase=Lu,Ce.lowerFirst=zu,Ce.lt=Ja,Ce.lte=tu,Ce.max=function(t){return t&&t.length?rr(t,Vu,pr):void 0},Ce.maxBy=function(t,n){return t&&t.length?rr(t,Zi(n,2),pr):void 0},Ce.mean=function(t){return kn(t,Vu)},Ce.meanBy=function(t,n){return kn(t,Zi(n,2))},Ce.min=function(t){return t&&t.length?rr(t,Vu,Sr):void 0},Ce.minBy=function(t,n){return t&&t.length?rr(t,Zi(n,2),Sr):void 0},Ce.stubArray=of,Ce.stubFalse=af,Ce.stubObject=function(){return{}},Ce.stubString=function(){return""},Ce.stubTrue=function(){return!0},Ce.multiply=hf,Ce.nth=function(t,n){return t&&t.length?Dr(t,ru(n)):void 0},Ce.noConflict=function(){return $t._===this&&($t._=Et),this},Ce.noop=Qu,Ce.now=va,Ce.pad=function(t,n,e){t=uu(t);var r=(n=ru(n))?Vn(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return Oi(te(i),e)+t+Oi(Jn(i),e)},Ce.padEnd=function(t,n,e){t=uu(t);var r=(n=ru(n))?Vn(t):0;return n&&r<n?t+Oi(n-r,e):t},Ce.padStart=function(t,n,e){t=uu(t);var r=(n=ru(n))?Vn(t):0;return n&&r<n?Oi(n-r,e)+t:t},Ce.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),ce(uu(t).replace(X,""),n||0)},Ce.random=function(t,n,e){if(e&&"boolean"!=typeof e&&uo(t,n,e)&&(n=e=void 0),void 0===e&&("boolean"==typeof n?(e=n,n=void 0):"boolean"==typeof t&&(e=t,t=void 0)),void 0===t&&void 0===n?(t=0,n=1):(t=eu(t),void 0===n?(n=t,t=0):n=eu(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=se();return ue(t+i*(n-t+Wt("1e-"+((i+"").length-1))),n)}return Fr(t,n)},Ce.reduce=function(t,n,e){var r=Ra(t)?mn:Cn,i=arguments.length<3;return r(t,Zi(n,4),e,i,tr)},Ce.reduceRight=function(t,n,e){var r=Ra(t)?gn:Cn,i=arguments.length<3;return r(t,Zi(n,4),e,i,nr)},Ce.repeat=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),Pr(uu(t),n)},Ce.replace=function(){var t=arguments,n=uu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Ce.result=function(t,n,e){var r=-1,i=(n=ui(n,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[So(n[r])];void 0===o&&(r=i,o=e),t=Ia(o)?o.call(t):o}return t},Ce.round=df,Ce.runInContext=t,Ce.sample=function(t){return(Ra(t)?Ue:Ur)(t)},Ce.size=function(t){if(null==t)return 0;if(za(t))return Za(t)?Vn(t):t.length;var n=eo(t);return n==v||n==b?t.size:Ar(t).length},Ce.snakeCase=Fu,Ce.some=function(t,n,e){var r=Ra(t)?yn:Vr;return e&&uo(t,n,e)&&(n=void 0),r(t,Zi(n,3))},Ce.sortedIndex=function(t,n){return $r(t,n)},Ce.sortedIndexBy=function(t,n,e){return Gr(t,n,Zi(e,2))},Ce.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=$r(t,n);if(r<e&&Ea(t[r],n))return r}return-1},Ce.sortedLastIndex=function(t,n){return $r(t,n,!0)},Ce.sortedLastIndexBy=function(t,n,e){return Gr(t,n,Zi(e,2),!0)},Ce.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=$r(t,n,!0)-1;if(Ea(t[e],n))return e}return-1},Ce.startCase=Pu,Ce.startsWith=function(t,n,e){return t=uu(t),e=null==e?0:Xe(ru(e),0,t.length),n=Qr(n),t.slice(e,e+n.length)==n},Ce.subtract=pf,Ce.sum=function(t){return t&&t.length?En(t,Vu):0},Ce.sumBy=function(t,n){return t&&t.length?En(t,Zi(n,2)):0},Ce.template=function(t,n,e){var r=Ce.templateSettings;e&&uo(t,n,e)&&(n=void 0),t=uu(t),n=su({},n,r,Ii);var i,o,a=su({},n.imports,r.imports,Ii),u=_u(a),f=On(a,u),c=0,s=n.interpolate||st,l="__p += '",h=mt((n.escape||st).source+"|"+s.source+"|"+(s===q?et:st).source+"|"+(n.evaluate||st).source+"|$","g"),d="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ut+"]")+"\n";t.replace(h,(function(n,e,r,a,u,f){return r||(r=a),l+=t.slice(c,f).replace(lt,Un),e&&(i=!0,l+="' +\n__e("+e+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=f+n.length,n})),l+="';\n";var p=At.call(n,"variable")&&n.variable;p||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(R,""):l).replace(L,"$1").replace(z,"$1;"),l="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Bu((function(){return dt(u,d+"return "+l).apply(void 0,f)}));if(v.source=l,Ua(v))throw v;return v},Ce.times=function(t,n){if((t=ru(t))<1||t>9007199254740991)return[];var e=4294967295,r=ue(t,4294967295);t-=4294967295;for(var i=jn(r,n=Zi(n));++e<t;)n(e);return i},Ce.toFinite=eu,Ce.toInteger=ru,Ce.toLength=iu,Ce.toLower=function(t){return uu(t).toLowerCase()},Ce.toNumber=ou,Ce.toSafeInteger=function(t){return t?Xe(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Ce.toString=uu,Ce.toUpper=function(t){return uu(t).toUpperCase()},Ce.trim=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(G,"");if(!t||!(n=Qr(n)))return t;var r=$n(t),i=$n(n);return ci(r,Ln(r,i),zn(r,i)+1).join("")},Ce.trimEnd=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(Z,"");if(!t||!(n=Qr(n)))return t;var r=$n(t);return ci(r,0,zn(r,$n(n))+1).join("")},Ce.trimStart=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(X,"");if(!t||!(n=Qr(n)))return t;var r=$n(t);return ci(r,Ln(r,$n(n))).join("")},Ce.truncate=function(t,n){var e=30,r="...";if(Wa(n)){var i="separator"in n?n.separator:i;e="length"in n?ru(n.length):e,r="omission"in n?Qr(n.omission):r}var o=(t=uu(t)).length;if(In(t)){var a=$n(t);o=a.length}if(e>=o)return t;var u=e-Vn(r);if(u<1)return r;var f=a?ci(a,0,u).join(""):t.slice(0,u);if(void 0===i)return f+r;if(a&&(u+=f.length-u),Ga(i)){if(t.slice(u).search(i)){var c,s=f;for(i.global||(i=mt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(s);)var l=c.index;f=f.slice(0,void 0===l?u:l)}}else if(t.indexOf(Qr(i),u)!=u){var h=f.lastIndexOf(i);h>-1&&(f=f.slice(0,h))}return f+r},Ce.unescape=function(t){return(t=uu(t))&&N.test(t)?t.replace(F,Gn):t},Ce.uniqueId=function(t){var n=++kt;return uu(t)+n},Ce.upperCase=Nu,Ce.upperFirst=Uu,Ce.each=ua,Ce.eachRight=fa,Ce.first=zo,Zu(Ce,(lf={},fr(Ce,(function(t,n){At.call(Ce.prototype,n)||(lf[n]=t)})),lf),{chain:!1}),Ce.VERSION="4.17.15",fn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ce[t].placeholder=Ce})),fn(["drop","take"],(function(t,n){Oe.prototype[t]=function(e){e=void 0===e?1:ae(ru(e),0);var r=this.__filtered__&&!n?new Oe(this):this.clone();return r.__filtered__?r.__takeCount__=ue(e,r.__takeCount__):r.__views__.push({size:ue(e,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Oe.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),fn(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;Oe.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Zi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),fn(["head","last"],(function(t,n){var e="take"+(n?"Right":"");Oe.prototype[t]=function(){return this[e](1).value()[0]}})),fn(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");Oe.prototype[t]=function(){return this.__filtered__?new Oe(this):this[e](1)}})),Oe.prototype.compact=function(){return this.filter(Vu)},Oe.prototype.find=function(t){return this.filter(t).head()},Oe.prototype.findLast=function(t){return this.reverse().find(t)},Oe.prototype.invokeMap=Nr((function(t,n){return"function"==typeof t?new Oe(this):this.map((function(e){return yr(e,t,n)}))})),Oe.prototype.reject=function(t){return this.filter(Aa(Zi(t)))},Oe.prototype.slice=function(t,n){t=ru(t);var e=this;return e.__filtered__&&(t>0||n<0)?new Oe(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),void 0!==n&&(e=(n=ru(n))<0?e.dropRight(-n):e.take(n-t)),e)},Oe.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Oe.prototype.toArray=function(){return this.take(4294967295)},fr(Oe.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=Ce[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);i&&(Ce.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,u=n instanceof Oe,f=a[0],c=u||Ra(n),s=function(t){var n=i.apply(Ce,vn([t],a));return r&&l?n[0]:n};c&&e&&"function"==typeof f&&1!=f.length&&(u=c=!1);var l=this.__chain__,h=!!this.__actions__.length,d=o&&!l,p=u&&!h;if(!o&&c){n=p?n:new Oe(this);var v=t.apply(n,a);return v.__actions__.push({func:ea,args:[s],thisArg:void 0}),new De(v,l)}return d&&p?t.apply(this,a):(v=this.thru(s),d?r?v.value()[0]:v.value():v)})})),fn(["pop","push","shift","sort","splice","unshift"],(function(t){var n=bt[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Ce.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Ra(i)?i:[],t)}return this[e]((function(e){return n.apply(Ra(e)?e:[],t)}))}})),fr(Oe.prototype,(function(t,n){var e=Ce[n];if(e){var r=e.name+"";At.call(be,r)||(be[r]=[]),be[r].push({name:n,func:e})}})),be[Ci(void 0,2).name]=[{name:"wrapper",func:void 0}],Oe.prototype.clone=function(){var t=new Oe(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},Oe.prototype.reverse=function(){if(this.__filtered__){var t=new Oe(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Oe.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Ra(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=ue(n,t+a);break;case"takeRight":t=ae(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,f=u-a,c=r?u:a-1,s=this.__iteratees__,l=s.length,h=0,d=ue(f,this.__takeCount__);if(!e||!r&&i==f&&d==f)return ei(t,this.__actions__);var p=[];t:for(;f--&&h<d;){for(var v=-1,m=t[c+=n];++v<l;){var g=s[v],y=g.iteratee,b=g.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue t;break t}}p[h++]=m}return p},Ce.prototype.at=ra,Ce.prototype.chain=function(){return na(this)},Ce.prototype.commit=function(){return new De(this.value(),this.__chain__)},Ce.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Ce.prototype.plant=function(t){for(var n,e=this;e instanceof je;){var r=Co(e);r.__index__=0,r.__values__=void 0,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},Ce.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Oe){var n=t;return this.__actions__.length&&(n=new Oe(this)),(n=n.reverse()).__actions__.push({func:ea,args:[Wo],thisArg:void 0}),new De(n,this.__chain__)}return this.thru(Wo)},Ce.prototype.toJSON=Ce.prototype.valueOf=Ce.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Ce.prototype.first=Ce.prototype.head,Kt&&(Ce.prototype[Kt]=function(){return this}),Ce}();$t._=Xn,void 0===(i=function(){return Xn}.call(n,e,n,r))||(r.exports=i)}).call(this)}).call(this,e(84),e(85)(t))},39:function(t,n,e){t.exports=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},n=function(t,n){for(var e=Object.keys(n),r=0;r<e.length;++r)t[e[r]]=n[e[r]];return t};function e(t){var n=new Error("(regl) "+t);throw console.error(n),n}function r(t,n){t||e(n)}function i(t){return t?": "+t:""}function o(t,n,r){n.indexOf(t)<0&&e("invalid value"+i(r)+". must be one of: "+n)}var a=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function u(t,n){for(t+="";t.length<n;)t=" "+t;return t}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function c(t,n){this.number=t,this.line=n,this.errors=[]}function s(t,n,e){this.file=t,this.line=n,this.message=e}function l(){var t=new Error,n=(t.stack||t).toString(),e=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(n);if(e)return e[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(n);return r?r[1]:"unknown"}function h(){var t=new Error,n=(t.stack||t).toString(),e=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(n);if(e)return e[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(n);return r?r[1]:"unknown"}function d(t,n){var e,r=t.split("\n"),i=1,o=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=n||l(),a.unknown.lines.push(new c(0,""));for(var u=0;u<r.length;++u){var s=r[u],h=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(s);if(h)switch(h[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(h[2]);d&&(i=0|d[1],d[2]&&((o=0|d[2])in a||(a[o]=new f)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(h[2]);p&&(a[o].name=p[1]?(e=p[2],"undefined"!=typeof atob?atob(e):"base64:"+e):p[2])}a[o].lines.push(new c(i++,s))}return Object.keys(a).forEach((function(t){var n=a[t];n.lines.forEach((function(t){n.index[t.number]=t}))})),a}function p(t){t._commandRef=l()}function v(t,n){var r=h();e(t+" in command "+(n||l())+("unknown"===r?"":" called from "+r))}function m(t,n,e,r){typeof t!==n&&v("invalid parameter type"+i(e)+". expected "+n+", got "+typeof t,r||l())}var g={};function y(t,n){return 32820===t||32819===t||33635===t?2:34042===t?4:g[t]*n}function b(t){return!(t&t-1||!t)}g[5120]=g[5121]=1,g[5122]=g[5123]=g[36193]=g[33635]=g[32819]=g[32820]=2,g[5124]=g[5125]=g[5126]=g[34042]=4;var _=n(r,{optional:function(t){t()},raise:e,commandRaise:v,command:function(t,n,e){t||v(n,e||l())},parameter:function(t,n,r){t in n||e("unknown parameter ("+t+")"+i(r)+". possible values: "+Object.keys(n).join())},commandParameter:function(t,n,e,r){t in n||v("unknown parameter ("+t+")"+i(e)+". possible values: "+Object.keys(n).join(),r||l())},constructor:function(t){Object.keys(t).forEach((function(t){a.indexOf(t)<0&&e('invalid regl constructor argument "'+t+'". must be one of '+a)}))},type:function(t,n,r){typeof t!==n&&e("invalid parameter type"+i(r)+". expected "+n+", got "+typeof t)},commandType:m,isTypedArray:function(n,r){t(n)||e("invalid parameter type"+i(r)+". must be a typed array")},nni:function(t,n){t>=0&&(0|t)===t||e("invalid parameter type, ("+t+")"+i(n)+". must be a nonnegative integer")},oneOf:o,shaderError:function(t,n,e,i,o){if(!t.getShaderParameter(n,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(n),f=i===t.FRAGMENT_SHADER?"fragment":"vertex";m(e,"string",f+" shader source must be a string",o);var c=d(e,o),l=function(t){var n=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var e=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);e?n.push(new s(0|e[1],0|e[2],e[3].trim())):t.length>0&&n.push(new s("unknown",0,t))}})),n}(a);!function(t,n){n.forEach((function(n){var e=t[n.file];if(e){var r=e.index[n.line];if(r)return r.errors.push(n),void(e.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(n)}))}(c,l),Object.keys(c).forEach((function(t){var n=c[t];if(n.hasErrors){var e=[""],r=[""];i("file number "+t+": "+n.name+"\n","color:red;text-decoration:underline;font-weight:bold"),n.lines.forEach((function(t){if(t.errors.length>0){i(u(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(t.line+"\n","color:red; background-color:yellow; font-weight:bold");var n=0;t.errors.forEach((function(e){var r=e.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(r);if(o){var a=o[1];switch(r=o[2],a){case"assign":a="="}n=Math.max(t.line.indexOf(a,n),0)}else n=0;i(u("| ",6)),i(u("^^^",n+3)+"\n","font-weight:bold"),i(u("| ",6)),i(r+"\n","font-weight:bold")})),i(u("| ",6)+"\n")}else i(u(t.number,4)+"|  "),i(t.line+"\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(e.join("")):(r[0]=e.join("%c"),console.log.apply(console,r))}function i(t,n){e.push(t),r.push(n||"")}})),r.raise("Error compiling "+f+" shader, "+c[0].name)}},linkError:function(t,n,e,i,o){if(!t.getProgramParameter(n,t.LINK_STATUS)){var a=t.getProgramInfoLog(n),u=d(e,o),f='Error linking program with vertex shader, "'+d(i,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+f+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(f+"\n"+a),r.raise(f)}},callSite:h,saveCommandRef:p,saveDrawInfo:function(t,n,e,r){function i(t){return t?r.id(t):0}function o(t,n){Object.keys(n).forEach((function(n){t[r.id(n)]=!0}))}p(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={};o(a,n.static),o(a,n.dynamic);var u=t._attributeSet={};o(u,e.static),o(u,e.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,n,e){t.texture?o(t.texture._texture.internalformat,n,"unsupported texture format for attachment"):o(t.renderbuffer._renderbuffer.format,e,"unsupported renderbuffer format for attachment")},guessCommand:l,texture2D:function(t,n,e){var i,o=n.width,a=n.height,u=n.channels;r(o>0&&o<=e.maxTextureSize&&a>0&&a<=e.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||r(b(o)&&b(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===n.mipmask?1!==o&&1!==a&&r(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(r(b(o)&&b(a),"texture must be a square power of 2 to support mipmapping"),r(n.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),5126===n.type&&(e.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var f=n.images;for(i=0;i<16;++i)if(f[i]){var c=o>>i,s=a>>i;r(n.mipmask&1<<i,"missing mipmap data");var l=f[i];if(r(l.width===c&&l.height===s,"invalid shape for mip images"),r(l.format===n.format&&l.internalformat===n.internalformat&&l.type===n.type,"incompatible type for mip image"),l.compressed);else if(l.data){var h=Math.ceil(y(l.type,u)*c/l.unpackAlignment)*l.unpackAlignment;r(l.data.byteLength===h*s,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else t.genMipmaps||r(0==(n.mipmask&1<<i),"extra mipmap data");n.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,n,e,i){var o=t.width,a=t.height,u=t.channels;r(o>0&&o<=i.maxTextureSize&&a>0&&a<=i.maxTextureSize,"invalid texture shape"),r(o===a,"cube map must be square"),r(33071===n.wrapS&&33071===n.wrapT,"wrap mode not supported by cube map");for(var f=0;f<e.length;++f){var c=e[f];r(c.width===o&&c.height===a,"inconsistent cube map face shape"),n.genMipmaps&&(r(!c.compressed,"can not generate mipmap for compressed textures"),r(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var s=c.images,l=0;l<16;++l){var h=s[l];if(h){var d=o>>l,p=a>>l;r(c.mipmask&1<<l,"missing mipmap data"),r(h.width===d&&h.height===p,"invalid shape for mip images"),r(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?r(h.data.byteLength===d*p*Math.max(y(h.type,u),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),w=0;function x(t,n){this.id=w++,this.type=t,this.data=n}function M(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function A(t){return"["+function t(n){if(0===n.length)return[];var e=n.charAt(0),r=n.charAt(n.length-1);if(n.length>1&&e===r&&('"'===e||"'"===e))return['"'+M(n.substr(1,n.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(n);if(i)return t(n.substr(0,i.index)).concat(t(i[1])).concat(t(n.substr(i.index+i[0].length)));var o=n.split(".");if(1===o.length)return['"'+M(n)+'"'];for(var a=[],u=0;u<o.length;++u)a=a.concat(t(o[u]));return a}(t).join("][")+"]"}var k={DynamicVariable:x,define:function(t,n){return new x(t,A(n+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof x},unbox:function(t,n){return"function"==typeof t?new x(0,t):t},accessor:A},S={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},T="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function C(t){return"string"==typeof t?t.split():(_(Array.isArray(t),"invalid extension array"),t)}function E(t){return"string"==typeof t?(_("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function j(t){var e,r,i,o,a,u=t||{},f={},c=[],s=[],l="undefined"==typeof window?1:window.devicePixelRatio,h=!1,d=function(t){t&&_.raise(t)},p=function(){};if("string"==typeof u?(_("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(u),_(e,"invalid query string for element")):"object"==typeof u?"string"==typeof(a=u).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?e=u:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(u)?i=(o=u).canvas:(_.constructor(u),"gl"in u?o=u.gl:"canvas"in u?i=E(u.canvas):"container"in u&&(r=E(u.container)),"attributes"in u&&(f=u.attributes,_.type(f,"object","invalid context attributes")),"extensions"in u&&(c=C(u.extensions)),"optionalExtensions"in u&&(s=C(u.optionalExtensions)),"onDone"in u&&(_.type(u.onDone,"function","invalid or missing onDone callback"),d=u.onDone),"profile"in u&&(h=!!u.profile),"pixelRatio"in u&&(l=+u.pixelRatio,_(l>0,"invalid pixel ratio"))):_.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?i=e:r=e),!o){if(!i){_("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var v=function(t,e,r){var i=document.createElement("canvas");function o(){var e=window.innerWidth,o=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();e=a.right-a.left,o=a.bottom-a.top}i.width=r*e,i.height=r*o,n(i.style,{width:e+"px",height:o+"px"})}return n(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",n(t.style,{margin:0,padding:0})),window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:function(){window.removeEventListener("resize",o),t.removeChild(i)}}}(r||document.body,0,l);if(!v)return null;i=v.canvas,p=v.onDestroy}o=function(t,n){function e(e){try{return t.getContext(e,n)}catch(t){return null}}return e("webgl")||e("experimental-webgl")||e("webgl-experimental")}(i,f)}return o?{gl:o,canvas:i,container:r,extensions:c,optionalExtensions:s,pixelRatio:l,profile:h,onDone:d,onDestroy:p}:(p(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function D(t,n){for(var e=Array(t),r=0;r<t;++r)e[r]=n(r);return e}function O(t){var n,e;return n=(t>65535)<<4,n|=e=((t>>>=n)>255)<<3,n|=e=((t>>>=e)>15)<<2,(n|=e=((t>>>=e)>3)<<1)|(t>>>=e)>>1}function R(){var t=D(8,(function(){return[]}));function n(n){var e=function(t){for(var n=16;n<=1<<28;n*=16)if(t<=n)return n;return 0}(n),r=t[O(e)>>2];return r.length>0?r.pop():new ArrayBuffer(e)}function e(n){t[O(n.byteLength)>>2].push(n)}return{alloc:n,free:e,allocType:function(t,e){var r=null;switch(t){case 5120:r=new Int8Array(n(e),0,e);break;case 5121:r=new Uint8Array(n(e),0,e);break;case 5122:r=new Int16Array(n(2*e),0,e);break;case 5123:r=new Uint16Array(n(2*e),0,e);break;case 5124:r=new Int32Array(n(4*e),0,e);break;case 5125:r=new Uint32Array(n(4*e),0,e);break;case 5126:r=new Float32Array(n(4*e),0,e);break;default:return null}return r.length!==e?r.subarray(0,e):r},freeType:function(t){e(t.buffer)}}}var L=R();function z(n){return!!n&&"object"==typeof n&&Array.isArray(n.shape)&&Array.isArray(n.stride)&&"number"==typeof n.offset&&n.shape.length===n.stride.length&&(Array.isArray(n.data)||t(n.data))}L.zero=R();var F=function(t){return Object.keys(t).map((function(n){return t[n]}))},P={shape:function(t){for(var n=[],e=t;e.length;e=e[0])n.push(e.length);return n},flatten:function(t,n,e,r){var i=1;if(n.length)for(var o=0;o<n.length;++o)i*=n[o];else i=0;var a=r||L.allocType(e,i);switch(n.length){case 0:break;case 1:!function(t,n,e){for(var r=0;r<n;++r)e[r]=t[r]}(t,n[0],a);break;case 2:!function(t,n,e,r){for(var i=0,o=0;o<n;++o)for(var a=t[o],u=0;u<e;++u)r[i++]=a[u]}(t,n[0],n[1],a);break;case 3:N(t,n[0],n[1],n[2],a,0);break;default:!function t(n,e,r,i,o){for(var a=1,u=r+1;u<e.length;++u)a*=e[u];var f=e[r];if(e.length-r==4){var c=e[r+1],s=e[r+2],l=e[r+3];for(u=0;u<f;++u)N(n[u],c,s,l,i,o),o+=a}else for(u=0;u<f;++u)t(n[u],e,r+1,i,o),o+=a}(t,n,0,a,0)}return a}};function N(t,n,e,r,i,o){for(var a=o,u=0;u<n;++u)for(var f=t[u],c=0;c<e;++c)for(var s=f[c],l=0;l<r;++l)i[a++]=s[l]}var U={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},I={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},B={dynamic:35048,stream:35040,static:35044},q=P.flatten,W=P.shape,H=[];function Y(t){return 0|U[Object.prototype.toString.call(t)]}function V(t,n){for(var e=0;e<n.length;++e)t[e]=n[e]}function $(t,n,e,r,i,o,a){for(var u=0,f=0;f<e;++f)for(var c=0;c<r;++c)t[u++]=n[i*f+o*c+a]}H[5120]=1,H[5122]=2,H[5124]=4,H[5121]=1,H[5123]=2,H[5125]=4,H[5126]=4;var G={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},X=new Float32Array(1),Z=new Uint32Array(X.buffer);function Q(t){for(var n=L.allocType(5123,t.length),e=0;e<t.length;++e)if(isNaN(t[e]))n[e]=65535;else if(t[e]===1/0)n[e]=31744;else if(t[e]===-1/0)n[e]=64512;else{X[0]=t[e];var r=Z[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)n[e]=i;else if(o<-14){var u=-14-o;n[e]=i+(a+1024>>u)}else n[e]=o>15?i+31744:i+(o+15<<10)+a}return n}function K(n){return Array.isArray(n)||t(n)}var J=function(t){return!(t&t-1||!t)},tt=[9984,9986,9985,9987],nt=[0,6409,6410,6407,6408],et={};function rt(t){return"[object "+t+"]"}et[6409]=et[6406]=et[6402]=1,et[34041]=et[6410]=2,et[6407]=et[35904]=3,et[6408]=et[35906]=4;var it=rt("HTMLCanvasElement"),ot=rt("CanvasRenderingContext2D"),at=rt("ImageBitmap"),ut=rt("HTMLImageElement"),ft=rt("HTMLVideoElement"),ct=Object.keys(U).concat([it,ot,at,ut,ft]),st=[];st[5121]=1,st[5126]=4,st[36193]=2,st[5123]=2,st[5125]=4;var lt=[];function ht(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function dt(t){return!!Array.isArray(t)&&!(0===t.length||!K(t[0]))}function pt(t){return Object.prototype.toString.call(t)}function vt(t){return pt(t)===it}function mt(t){if(!t)return!1;var n=pt(t);return ct.indexOf(n)>=0||ht(t)||dt(t)||z(t)}function gt(t){return 0|U[Object.prototype.toString.call(t)]}function yt(t,n){return L.allocType(36193===t.type?5126:t.type,n)}function bt(t,n){36193===t.type?(t.data=Q(n),L.freeType(n)):t.data=n}function _t(t,n,e,r,i,o){var a;if(a=void 0!==lt[t]?lt[t]:et[t]*st[n],o&&(a*=6),i){for(var u=0,f=e;f>=1;)u+=a*f*f,f/=2;return u}return a*e*r}function wt(e,r,i,o,a,u,f){var c={"don't care":4352,"dont care":4352,nice:4354,fast:4353},s={repeat:10497,clamp:33071,mirror:33648},l={nearest:9728,linear:9729},h=n({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},l),d={none:0,browser:37444},p={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},v={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},m={};r.ext_srgb&&(v.srgb=35904,v.srgba=35906),r.oes_texture_float&&(p.float32=p.float=5126),r.oes_texture_half_float&&(p.float16=p["half float"]=36193),r.webgl_depth_texture&&(n(v,{depth:6402,"depth stencil":34041}),n(p,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&n(m,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&n(m,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&n(m,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=36196);var g=Array.prototype.slice.call(e.getParameter(34467));Object.keys(m).forEach((function(t){var n=m[t];g.indexOf(n)>=0&&(v[t]=n)}));var y=Object.keys(v);i.textureFormats=y;var b=[];Object.keys(v).forEach((function(t){var n=v[t];b[n]=t}));var w=[];Object.keys(p).forEach((function(t){var n=p[t];w[n]=t}));var x=[];Object.keys(l).forEach((function(t){x[l[t]]=t}));var M=[];Object.keys(h).forEach((function(t){var n=h[t];M[n]=t}));var A=[];Object.keys(s).forEach((function(t){A[s[t]]=t}));var k=y.reduce((function(t,n){var e=v[n];return 6409===e||6406===e||6409===e||6410===e||6402===e||34041===e?t[e]=e:32855===e||n.indexOf("rgba")>=0?t[e]=6408:t[e]=6407,t}),{});function S(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function T(t,n){t.internalformat=n.internalformat,t.format=n.format,t.type=n.type,t.compressed=n.compressed,t.premultiplyAlpha=n.premultiplyAlpha,t.flipY=n.flipY,t.unpackAlignment=n.unpackAlignment,t.colorSpace=n.colorSpace,t.width=n.width,t.height=n.height,t.channels=n.channels}function C(t,n){if("object"==typeof n&&n){if("premultiplyAlpha"in n&&(_.type(n.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=n.premultiplyAlpha),"flipY"in n&&(_.type(n.flipY,"boolean","invalid texture flip"),t.flipY=n.flipY),"alignment"in n&&(_.oneOf(n.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=n.alignment),"colorSpace"in n&&(_.parameter(n.colorSpace,d,"invalid colorSpace"),t.colorSpace=d[n.colorSpace]),"type"in n){var e=n.type;_(r.oes_texture_float||!("float"===e||"float32"===e),"you must enable the OES_texture_float extension in order to use floating point textures."),_(r.oes_texture_half_float||!("half float"===e||"float16"===e),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),_(r.webgl_depth_texture||!("uint16"===e||"uint32"===e||"depth stencil"===e),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(e,p,"invalid texture type"),t.type=p[e]}var o=t.width,a=t.height,u=t.channels,f=!1;"shape"in n?(_(Array.isArray(n.shape)&&n.shape.length>=2,"shape must be an array"),o=n.shape[0],a=n.shape[1],3===n.shape.length&&(u=n.shape[2],_(u>0&&u<=4,"invalid number of channels"),f=!0),_(o>=0&&o<=i.maxTextureSize,"invalid width"),_(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in n&&(o=a=n.radius,_(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in n&&(o=n.width,_(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in n&&(a=n.height,_(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in n&&(u=n.channels,_(u>0&&u<=4,"invalid number of channels"),f=!0)),t.width=0|o,t.height=0|a,t.channels=0|u;var c=!1;if("format"in n){var s=n.format;_(r.webgl_depth_texture||!("depth"===s||"depth stencil"===s),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(s,v,"invalid texture format");var l=t.internalformat=v[s];t.format=k[l],s in p&&("type"in n||(t.type=p[s])),s in m&&(t.compressed=!0),c=!0}!f&&c?t.channels=et[t.format]:f&&!c?t.channels!==nt[t.format]&&(t.format=t.internalformat=nt[t.channels]):c&&f&&_(t.channels===et[t.format],"number of channels inconsistent with specified format")}}function E(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function j(){S.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function D(n,e){var r=null;if(mt(e)?r=e:e&&(_.type(e,"object","invalid pixel data type"),C(n,e),"x"in e&&(n.xOffset=0|e.x),"y"in e&&(n.yOffset=0|e.y),mt(e.data)&&(r=e.data)),_(!n.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),e.copy){_(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,u=a.viewportHeight;n.width=n.width||o-n.xOffset,n.height=n.height||u-n.yOffset,n.needsCopy=!0,_(n.xOffset>=0&&n.xOffset<o&&n.yOffset>=0&&n.yOffset<u&&n.width>0&&n.width<=o&&n.height>0&&n.height<=u,"copy texture read out of bounds")}else if(r){if(t(r))n.channels=n.channels||4,n.data=r,"type"in e||5121!==n.type||(n.type=gt(r));else if(ht(r))n.channels=n.channels||4,function(t,n){var e=n.length;switch(t.type){case 5121:case 5123:case 5125:case 5126:var r=L.allocType(t.type,e);r.set(n),t.data=r;break;case 36193:t.data=Q(n);break;default:_.raise("unsupported texture type, must specify a typed array")}}(n,r),n.alignment=1,n.needsFree=!0;else if(z(r)){var f=r.data;Array.isArray(f)||5121!==n.type||(n.type=gt(f));var c,s,l,h,d,p,v=r.shape,m=r.stride;3===v.length?(l=v[2],p=m[2]):(_(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,p=1),c=v[0],s=v[1],h=m[0],d=m[1],n.alignment=1,n.width=c,n.height=s,n.channels=l,n.format=n.internalformat=nt[l],n.needsFree=!0,function(t,n,e,r,i,o){for(var a=t.width,u=t.height,f=t.channels,c=yt(t,a*u*f),s=0,l=0;l<u;++l)for(var h=0;h<a;++h)for(var d=0;d<f;++d)c[s++]=n[e*h+r*l+i*d+o];bt(t,c)}(n,f,h,d,p,r.offset)}else if(vt(r)||pt(r)===ot)vt(r)?n.element=r:n.element=r.canvas,n.width=n.element.width,n.height=n.element.height,n.channels=4;else if(function(t){return pt(t)===at}(r))n.element=r,n.width=r.width,n.height=r.height,n.channels=4;else if(function(t){return pt(t)===ut}(r))n.element=r,n.width=r.naturalWidth,n.height=r.naturalHeight,n.channels=4;else if(function(t){return pt(t)===ft}(r))n.element=r,n.width=r.videoWidth,n.height=r.videoHeight,n.channels=4;else if(dt(r)){var g=n.width||r[0].length,y=n.height||r.length,b=n.channels;b=K(r[0][0])?b||r[0][0].length:b||1;for(var w=P.shape(r),x=1,M=0;M<w.length;++M)x*=w[M];var A=yt(n,x);P.flatten(r,w,"",A),bt(n,A),n.alignment=1,n.width=g,n.height=y,n.channels=b,n.format=n.internalformat=nt[b],n.needsFree=!0}}else n.width=n.width||1,n.height=n.height||1,n.channels=n.channels||4;5126===n.type?_(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===n.type&&_(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function O(t,n,r){var i=t.element,a=t.data,u=t.internalformat,f=t.format,c=t.type,s=t.width,l=t.height,h=t.channels;if(E(t),i)e.texImage2D(n,r,f,f,c,i);else if(t.compressed)e.compressedTexImage2D(n,r,u,s,l,0,a);else if(t.needsCopy)o(),e.copyTexImage2D(n,r,f,t.xOffset,t.yOffset,s,l,0);else{var d=!a;d&&(a=L.zero.allocType(c,s*l*h)),e.texImage2D(n,r,f,s,l,0,f,c,a),d&&a&&L.zero.freeType(a)}}function R(t,n,r,i,a){var u=t.element,f=t.data,c=t.internalformat,s=t.format,l=t.type,h=t.width,d=t.height;E(t),u?e.texSubImage2D(n,a,r,i,s,l,u):t.compressed?e.compressedTexSubImage2D(n,a,r,i,c,h,d,f):t.needsCopy?(o(),e.copyTexSubImage2D(n,a,r,i,t.xOffset,t.yOffset,h,d)):e.texSubImage2D(n,a,r,i,h,d,s,l,f)}var N=[];function U(){return N.pop()||new j}function I(t){t.needsFree&&L.freeType(t.data),j.call(t),N.push(t)}function B(){S.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function q(t,n,e){var r=t.images[0]=U();t.mipmask=1,r.width=t.width=n,r.height=t.height=e,r.channels=t.channels=4}function W(t,n){var e=null;if(mt(n))T(e=t.images[0]=U(),t),D(e,n),t.mipmask=1;else if(C(t,n),Array.isArray(n.mipmap))for(var r=n.mipmap,i=0;i<r.length;++i)T(e=t.images[i]=U(),t),e.width>>=i,e.height>>=i,D(e,r[i]),t.mipmask|=1<<i;else T(e=t.images[0]=U(),t),D(e,n),t.mipmask=1;T(t,t.images[0]),(t.compressed&&33776===t.internalformat||33777===t.internalformat||33778===t.internalformat||33779===t.internalformat)&&_(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function H(t,n){for(var e=t.images,r=0;r<e.length;++r){if(!e[r])return;O(e[r],n,r)}}var Y=[];function V(){var t=Y.pop()||new B;S.call(t),t.mipmask=0;for(var n=0;n<16;++n)t.images[n]=null;return t}function $(t){for(var n=t.images,e=0;e<n.length;++e)n[e]&&I(n[e]),n[e]=null;Y.push(t)}function G(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function X(t,n){if("min"in n){var e=n.min;_.parameter(e,h),t.minFilter=h[e],tt.indexOf(t.minFilter)>=0&&!("faces"in n)&&(t.genMipmaps=!0)}if("mag"in n){var r=n.mag;_.parameter(r,l),t.magFilter=l[r]}var o=t.wrapS,a=t.wrapT;if("wrap"in n){var u=n.wrap;"string"==typeof u?(_.parameter(u,s),o=a=s[u]):Array.isArray(u)&&(_.parameter(u[0],s),_.parameter(u[1],s),o=s[u[0]],a=s[u[1]])}else{if("wrapS"in n){var f=n.wrapS;_.parameter(f,s),o=s[f]}if("wrapT"in n){var d=n.wrapT;_.parameter(d,s),a=s[d]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in n){var p=n.anisotropic;_("number"==typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=n.anisotropic}if("mipmap"in n){var v=!1;switch(typeof n.mipmap){case"string":_.parameter(n.mipmap,c,"invalid mipmap hint"),t.mipmapHint=c[n.mipmap],t.genMipmaps=!0,v=!0;break;case"boolean":v=t.genMipmaps=n.mipmap;break;case"object":_(Array.isArray(n.mipmap),"invalid mipmap type"),t.genMipmaps=!1,v=!0;break;default:_.raise("invalid mipmap type")}!v||"min"in n||(t.minFilter=9984)}}function Z(t,n){e.texParameteri(n,10241,t.minFilter),e.texParameteri(n,10240,t.magFilter),e.texParameteri(n,10242,t.wrapS),e.texParameteri(n,10243,t.wrapT),r.ext_texture_filter_anisotropic&&e.texParameteri(n,34046,t.anisotropic),t.genMipmaps&&(e.hint(33170,t.mipmapHint),e.generateMipmap(n))}var rt=0,it={},ct=i.maxTextureUnits,st=Array(ct).map((function(){return null}));function lt(t){S.call(this),this.mipmask=0,this.internalformat=6408,this.id=rt++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new G,f.profile&&(this.stats={size:0})}function wt(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function xt(){var t=st[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function Mt(t){var n=t.texture;_(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(33984+r),e.bindTexture(i,null),st[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete it[t.id],u.textureCount--}return n(lt.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var n=0;n<ct;++n){var r=st[n];if(r){if(r.bindCount>0)continue;r.unit=-1}st[n]=this,t=n;break}t>=ct&&_.raise("insufficient number of texture units"),f.profile&&u.maxTextureUnits<t+1&&(u.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Mt(this)}}),f.profile&&(u.getTotalTextureSize=function(){var t=0;return Object.keys(it).forEach((function(n){t+=it[n].stats.size})),t}),{create2D:function(t,n){var r=new lt(3553);function o(t,n){var e=r.texInfo;G.call(e);var a=V();return"number"==typeof t?q(a,0|t,"number"==typeof n?0|n:0|t):t?(_.type(t,"object","invalid arguments to regl.texture"),X(e,t),W(a,t)):q(a,1,1),e.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,T(r,a),_.texture2D(e,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,wt(r),H(a,3553),Z(e,3553),xt(),$(a),f.profile&&(r.stats.size=_t(r.internalformat,r.type,a.width,a.height,e.genMipmaps,!1)),o.format=b[r.internalformat],o.type=w[r.type],o.mag=x[e.magFilter],o.min=M[e.minFilter],o.wrapS=A[e.wrapS],o.wrapT=A[e.wrapT],o}return it[r.id]=r,u.textureCount++,o(t,n),o.subimage=function(t,n,e,i){_(!!t,"must specify image data");var a=0|n,u=0|e,f=0|i,c=U();return T(c,r),c.width=0,c.height=0,D(c,t),c.width=c.width||(r.width>>f)-a,c.height=c.height||(r.height>>f)-u,_(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),_(a>=0&&u>=0&&a+c.width<=r.width&&u+c.height<=r.height,"texture.subimage write out of bounds"),_(r.mipmask&1<<f,"missing mipmap data"),_(c.data||c.element||c.needsCopy,"missing image data"),wt(r),R(c,3553,a,u,f),xt(),I(c),o},o.resize=function(t,n){var i,a=0|t,u=0|n||a;if(a===r.width&&u===r.height)return o;o.width=r.width=a,o.height=r.height=u,wt(r);for(var c=r.channels,s=r.type,l=0;r.mipmask>>l;++l){var h=a>>l,d=u>>l;if(!h||!d)break;i=L.zero.allocType(s,h*d*c),e.texImage2D(3553,l,r.format,h,d,0,r.format,r.type,i),i&&L.zero.freeType(i)}return xt(),f.profile&&(r.stats.size=_t(r.internalformat,r.type,a,u,!1,!1)),o},o._reglType="texture2d",o._texture=r,f.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(t,n,r,o,a,c){var s=new lt(34067);it[s.id]=s,u.cubeCount++;var l=new Array(6);function h(t,n,e,r,o,a){var u,c=s.texInfo;for(G.call(c),u=0;u<6;++u)l[u]=V();if("number"!=typeof t&&t)if("object"==typeof t)if(n)W(l[0],t),W(l[1],n),W(l[2],e),W(l[3],r),W(l[4],o),W(l[5],a);else if(X(c,t),C(s,t),"faces"in t){var d=t.faces;for(_(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),u=0;u<6;++u)_("object"==typeof d[u]&&!!d[u],"invalid input for cube map face"),T(l[u],s),W(l[u],d[u])}else for(u=0;u<6;++u)W(l[u],t);else _.raise("invalid arguments to cube map");else{var p=0|t||1;for(u=0;u<6;++u)q(l[u],p,p)}for(T(s,l[0]),i.npotTextureCube||_(J(s.width)&&J(s.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?s.mipmask=(l[0].width<<1)-1:s.mipmask=l[0].mipmask,_.textureCube(s,c,l,i),s.internalformat=l[0].internalformat,h.width=l[0].width,h.height=l[0].height,wt(s),u=0;u<6;++u)H(l[u],34069+u);for(Z(c,34067),xt(),f.profile&&(s.stats.size=_t(s.internalformat,s.type,h.width,h.height,c.genMipmaps,!0)),h.format=b[s.internalformat],h.type=w[s.type],h.mag=x[c.magFilter],h.min=M[c.minFilter],h.wrapS=A[c.wrapS],h.wrapT=A[c.wrapT],u=0;u<6;++u)$(l[u]);return h}return h(t,n,r,o,a,c),h.subimage=function(t,n,e,r,i){_(!!n,"must specify image data"),_("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|e,a=0|r,u=0|i,f=U();return T(f,s),f.width=0,f.height=0,D(f,n),f.width=f.width||(s.width>>u)-o,f.height=f.height||(s.height>>u)-a,_(s.type===f.type&&s.format===f.format&&s.internalformat===f.internalformat,"incompatible format for texture.subimage"),_(o>=0&&a>=0&&o+f.width<=s.width&&a+f.height<=s.height,"texture.subimage write out of bounds"),_(s.mipmask&1<<u,"missing mipmap data"),_(f.data||f.element||f.needsCopy,"missing image data"),wt(s),R(f,34069+t,o,a,u),xt(),I(f),h},h.resize=function(t){var n=0|t;if(n!==s.width){h.width=s.width=n,h.height=s.height=n,wt(s);for(var r=0;r<6;++r)for(var i=0;s.mipmask>>i;++i)e.texImage2D(34069+r,i,s.format,n>>i,n>>i,0,s.format,s.type,null);return xt(),f.profile&&(s.stats.size=_t(s.internalformat,s.type,h.width,h.height,!1,!0)),h}},h._reglType="textureCube",h._texture=s,f.profile&&(h.stats=s.stats),h.destroy=function(){s.decRef()},h},clear:function(){for(var t=0;t<ct;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),st[t]=null;F(it).forEach(Mt),u.cubeCount=0,u.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<ct;++t){var n=st[t];n&&(n.bindCount=0,n.unit=-1,st[t]=null)}F(it).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!=(t.mipmask&1<<n))if(3553===t.target)e.texImage2D(3553,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(34069+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);Z(t.texInfo,t.target)}))}}}lt[32854]=2,lt[32855]=2,lt[36194]=2,lt[34041]=4,lt[33776]=.5,lt[33777]=.5,lt[33778]=1,lt[33779]=1,lt[35986]=.5,lt[35987]=1,lt[34798]=1,lt[35840]=.5,lt[35841]=.25,lt[35842]=.5,lt[35843]=.25,lt[36196]=.5;var xt=[];function Mt(t,n,e){return xt[t]*n*e}xt[32854]=2,xt[32855]=2,xt[36194]=2,xt[33189]=2,xt[36168]=1,xt[34041]=4,xt[35907]=4,xt[34836]=16,xt[34842]=8,xt[34843]=6;var At=[6407,6408],kt=[];kt[6408]=4,kt[6407]=3;var St=[];St[5121]=1,St[5126]=4,St[36193]=2;var Tt=[32854,32855,36194,35907,34842,34843,34836],Ct={};function Et(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function jt(n,e,r,i,o,a,u){function f(f){var c;null===e.next?(_(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=5121):(_(null!==e.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=e.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(_(5121===c||5126===c,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===c&&_(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):_(5121===c,"Reading from a framebuffer is only allowed for the type 'uint8'"));var s=0,l=0,h=i.framebufferWidth,d=i.framebufferHeight,p=null;t(f)?p=f:f&&(_.type(f,"object","invalid arguments to regl.read()"),s=0|f.x,l=0|f.y,_(s>=0&&s<i.framebufferWidth,"invalid x offset for regl.read"),_(l>=0&&l<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(f.width||i.framebufferWidth-s),d=0|(f.height||i.framebufferHeight-l),p=f.data||null),p&&(5121===c?_(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===c&&_(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),_(h>0&&h+s<=i.framebufferWidth,"invalid width for read pixels"),_(d>0&&d+l<=i.framebufferHeight,"invalid height for read pixels"),r();var v=h*d*4;return p||(5121===c?p=new Uint8Array(v):5126===c&&(p=p||new Float32Array(v))),_.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),_(p.byteLength>=v,"data buffer for regl.read() too small"),n.pixelStorei(3333,4),n.readPixels(s,l,h,d,6408,c,p),p}return function(t){return t&&"framebuffer"in t?function(t){var n;return e.setFBO({framebuffer:t.framebuffer},(function(){n=f(t)})),n}(t):f(t)}}function Dt(t){return Array.prototype.slice.call(t)}function Ot(t){return Dt(t).join("")}Ct[36053]="complete",Ct[36054]="incomplete attachment",Ct[36057]="incomplete dimensions",Ct[36055]="incomplete, missing attachment",Ct[36061]="unsupported";var Rt="xyzw".split(""),Lt="profile",zt="framebuffer",Ft="vert",Pt="frag",Nt="elements",Ut="primitive",It="count",Bt="offset",qt="instances",Wt=zt+"Width",Ht=zt+"Height",Yt=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],Vt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$t=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Gt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Zt={frag:35632,vert:35633},Qt={cw:2304,ccw:2305};function Kt(n){return Array.isArray(n)||t(n)||z(n)}function Jt(t){return t.sort((function(t,n){return"viewport"===t?-1:"viewport"===n?1:t<n?-1:1}))}function tn(t,n,e,r){this.thisDep=t,this.contextDep=n,this.propDep=e,this.append=r}function nn(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function en(t){return new tn(!1,!1,!1,t)}function rn(t,n){var e=t.type;if(0===e){var r=t.data.length;return new tn(!0,r>=1,r>=2,n)}if(4===e){var i=t.data;return new tn(i.thisDep,i.contextDep,i.propDep,n)}return new tn(3===e,2===e,1===e,n)}var on=new tn(!1,!1,!1,(function(){}));function an(t,e,r,i,o,a,u,f,c,s,l,h,d,p,v){var m=s.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=32775,g.max=32776);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,w={dirty:!0,profile:v.profile},x={},M=[],A={},S={};function T(t){return t.replace(".","_")}function C(t,n,e){var r=T(t);M.push(t),x[r]=w[r]=!!e,A[r]=n}function E(t,n,e){var r=T(t);M.push(t),Array.isArray(e)?(w[r]=e.slice(),x[r]=e.slice()):w[r]=x[r]=e,S[r]=n}C("dither",3024),C("blend.enable",3042),E("blend.color","blendColor",[0,0,0,0]),E("blend.equation","blendEquationSeparate",[32774,32774]),E("blend.func","blendFuncSeparate",[1,0,1,0]),C("depth.enable",2929,!0),E("depth.func","depthFunc",513),E("depth.range","depthRange",[0,1]),E("depth.mask","depthMask",!0),E("colorMask","colorMask",[!0,!0,!0,!0]),C("cull.enable",2884),E("cull.face","cullFace",1029),E("frontFace","frontFace",2305),E("lineWidth","lineWidth",1),C("polygonOffset.enable",32823),E("polygonOffset.offset","polygonOffset",[0,0]),C("sample.alpha",32926),C("sample.enable",32928),E("sample.coverage","sampleCoverage",[1,!1]),C("stencil.enable",2960),E("stencil.mask","stencilMask",-1),E("stencil.func","stencilFunc",[519,0,-1]),E("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),E("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),C("scissor.enable",3089),E("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),E("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var j={gl:t,context:d,strings:e,next:x,current:w,draw:h,elements:a,buffer:o,shader:l,attributes:s.state,uniforms:c,framebuffer:f,extensions:r,timer:p,isBufferArgs:Kt},O={primTypes:G,compareFuncs:Gt,blendFuncs:Vt,blendEquations:g,stencilOps:Xt,glTypes:I,orientationType:Qt};_.optional((function(){j.isArrayLike=K})),b&&(O.backBuffer=[1029],O.drawBuffer=D(i.maxDrawbuffers,(function(t){return 0===t?[0]:D(t,(function(t){return 36064+t}))})));var R=0;function L(){var t=function(){var t=0,e=[],r=[];function i(){var e=[],r=[];return n((function(){e.push.apply(e,Dt(arguments))}),{def:function(){var n="v"+t++;return r.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,Dt(arguments)),e.push(";")),n},toString:function(){return Ot([r.length>0?"var "+r.join(",")+";":"",Ot(e)])}})}function o(){var t=i(),e=i(),r=t.toString,o=e.toString;function a(n,r){e(n,r,"=",t.def(n,r),";")}return n((function(){t.apply(t,Dt(arguments))}),{def:t.def,entry:t,exit:e,save:a,set:function(n,e,r){a(n,e),t(n,e,"=",r,";")},toString:function(){return r()+o()}})}var a=i(),u={};return{global:a,link:function(n){for(var i=0;i<r.length;++i)if(r[i]===n)return e[i];var o="g"+t++;return e.push(o),r.push(n),o},block:i,proc:function(t,e){var r=[];function i(){var t="a"+r.length;return r.push(t),t}e=e||0;for(var a=0;a<e;++a)i();var f=o(),c=f.toString;return u[t]=n(f,{arg:i,toString:function(){return Ot(["function(",r.join(),"){",c(),"}"])}})},scope:o,cond:function(){var t=Ot(arguments),e=o(),r=o(),i=e.toString,a=r.toString;return n(e,{then:function(){return e.apply(e,Dt(arguments)),this},else:function(){return r.apply(r,Dt(arguments)),this},toString:function(){var n=a();return n&&(n="else{"+n+"}"),Ot(["if(",t,"){",i(),"}",n])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(u).forEach((function(n){t.push('"',n,'":',u[n].toString(),",")})),t.push("}");var n=Ot(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,e.concat(n)).apply(null,r)}}}(),r=t.link,i=t.global;t.id=R++,t.batchId="0";var o=r(j),a=t.shared={props:"a0"};Object.keys(j).forEach((function(t){a[t]=i.def(o,".",t)})),_.optional((function(){t.CHECK=r(_),t.commandStr=_.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,n,e){t("if(!(",n,"))",this.CHECK,".commandRaise(",r(e),",",this.command,");")},O.invalidBlendCombinations=$t}));var u=t.next={},f=t.current={};Object.keys(S).forEach((function(t){Array.isArray(w[t])&&(u[t]=i.def(a.next,".",t),f[t]=i.def(a.current,".",t))}));var c=t.constants={};Object.keys(O).forEach((function(t){c[t]=i.def(JSON.stringify(O[t]))})),t.invoke=function(n,e){switch(e.type){case 0:var i=["this",a.context,a.props,t.batchId];return n.def(r(e.data),".call(",i.slice(0,Math.max(e.data.length+1,4)),")");case 1:return n.def(a.props,e.data);case 2:return n.def(a.context,e.data);case 3:return n.def("this",e.data);case 4:return e.data.append(t,n),e.data.ref}},t.attribCache={};var l={};return t.scopeAttrib=function(t){var n=e.id(t);if(n in l)return l[n];var i=s.scope[n];return i||(i=s.scope[n]=new m),l[n]=r(i)},t}function z(t,n,r,u,c){var s=t.static,h=t.dynamic;_.optional((function(){var t=[zt,Ft,Pt,Nt,Ut,Bt,It,qt,Lt].concat(M);function n(n){Object.keys(n).forEach((function(n){_.command(t.indexOf(n)>=0,'unknown parameter "'+n+'"',c.commandStr)}))}n(s),n(h)}));var d=function(t,n){var e=t.static,r=t.dynamic;if(zt in e){var i=e[zt];return i?(i=f.getFramebuffer(i),_.command(i,"invalid framebuffer object"),en((function(t,n){var e=t.link(i),r=t.shared;n.set(r.framebuffer,".next",e);var o=r.context;return n.set(o,"."+Wt,e+".width"),n.set(o,"."+Ht,e+".height"),e}))):en((function(t,n){var e=t.shared;n.set(e.framebuffer,".next","null");var r=e.context;return n.set(r,"."+Wt,r+".drawingBufferWidth"),n.set(r,"."+Ht,r+".drawingBufferHeight"),"null"}))}if(zt in r){var o=r[zt];return rn(o,(function(t,n){var e=t.invoke(n,o),r=t.shared,i=r.framebuffer,a=n.def(i,".getFramebuffer(",e,")");_.optional((function(){t.assert(n,"!"+e+"||"+a,"invalid framebuffer object")})),n.set(i,".next",a);var u=r.context;return n.set(u,"."+Wt,a+"?"+a+".width:"+u+".drawingBufferWidth"),n.set(u,"."+Ht,a+"?"+a+".height:"+u+".drawingBufferHeight"),a}))}return null}(t),p=function(t,n,e){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];_.commandType(o,"object","invalid "+t,e.commandStr);var a,u,f=!0,c=0|o.x,s=0|o.y;return"width"in o?(a=0|o.width,_.command(a>=0,"invalid "+t,e.commandStr)):f=!1,"height"in o?(u=0|o.height,_.command(u>=0,"invalid "+t,e.commandStr)):f=!1,new tn(!f&&n&&n.thisDep,!f&&n&&n.contextDep,!f&&n&&n.propDep,(function(t,n){var e=t.shared.context,r=a;"width"in o||(r=n.def(e,".",Wt,"-",c));var i=u;return"height"in o||(i=n.def(e,".",Ht,"-",s)),[c,s,r,i]}))}if(t in i){var l=i[t],h=rn(l,(function(n,e){var r=n.invoke(e,l);_.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=n.shared.context,o=e.def(r,".x|0"),a=e.def(r,".y|0"),u=e.def('"width" in ',r,"?",r,".width|0:","(",i,".",Wt,"-",o,")"),f=e.def('"height" in ',r,"?",r,".height|0:","(",i,".",Ht,"-",a,")");return _.optional((function(){n.assert(e,u+">=0&&"+f+">=0","invalid "+t)})),[o,a,u,f]}));return n&&(h.thisDep=h.thisDep||n.thisDep,h.contextDep=h.contextDep||n.contextDep,h.propDep=h.propDep||n.propDep),h}return n?new tn(n.thisDep,n.contextDep,n.propDep,(function(t,n){var e=t.shared.context;return[0,0,n.def(e,".",Wt),n.def(e,".",Ht)]})):null}var a=o("viewport");if(a){var u=a;a=new tn(a.thisDep,a.contextDep,a.propDep,(function(t,n){var e=u.append(t,n),r=t.shared.context;return n.set(r,".viewportWidth",e[2]),n.set(r,".viewportHeight",e[3]),e}))}return{viewport:a,scissor_box:o("scissor.box")}}(t,d,c),v=function(t,n){var e=t.static,r=t.dynamic,i=function(){if(Nt in e){var t=e[Nt];Kt(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),_.command(t,"invalid elements",n.commandStr));var i=en((function(n,e){if(t){var r=n.link(t);return n.ELEMENTS=r,r}return n.ELEMENTS=null,null}));return i.value=t,i}if(Nt in r){var o=r[Nt];return rn(o,(function(t,n){var e=t.shared,r=e.isBufferArgs,i=e.elements,a=t.invoke(n,o),u=n.def("null"),f=n.def(r,"(",a,")"),c=t.cond(f).then(u,"=",i,".createStream(",a,");").else(u,"=",i,".getElements(",a,");");return _.optional((function(){t.assert(c.else,"!"+a+"||"+u,"invalid elements")})),n.entry(c),n.exit(t.cond(f).then(i,".destroyStream(",u,");")),t.ELEMENTS=u,u}))}return null}();function o(t,o){if(t in e){var a=0|e[t];return _.command(!o||a>=0,"invalid "+t,n.commandStr),en((function(t,n){return o&&(t.OFFSET=a),a}))}if(t in r){var u=r[t];return rn(u,(function(n,e){var r=n.invoke(e,u);return o&&(n.OFFSET=r,_.optional((function(){n.assert(e,r+">=0","invalid "+t)}))),r}))}return o&&i?en((function(t,n){return t.OFFSET="0",0})):null}var u=o(Bt,!0);return{elements:i,primitive:function(){if(Ut in e){var t=e[Ut];return _.commandParameter(t,G,"invalid primitve",n.commandStr),en((function(n,e){return G[t]}))}if(Ut in r){var o=r[Ut];return rn(o,(function(t,n){var e=t.constants.primTypes,r=t.invoke(n,o);return _.optional((function(){t.assert(n,r+" in "+e,"invalid primitive, must be one of "+Object.keys(G))})),n.def(e,"[",r,"]")}))}return i?nn(i)?i.value?en((function(t,n){return n.def(t.ELEMENTS,".primType")})):en((function(){return 4})):new tn(i.thisDep,i.contextDep,i.propDep,(function(t,n){var e=t.ELEMENTS;return n.def(e,"?",e,".primType:",4)})):null}(),count:function(){if(It in e){var t=0|e[It];return _.command("number"==typeof t&&t>=0,"invalid vertex count",n.commandStr),en((function(){return t}))}if(It in r){var o=r[It];return rn(o,(function(t,n){var e=t.invoke(n,o);return _.optional((function(){t.assert(n,"typeof "+e+'==="number"&&'+e+">=0&&"+e+"===("+e+"|0)","invalid vertex count")})),e}))}if(i){if(nn(i)){if(i)return u?new tn(u.thisDep,u.contextDep,u.propDep,(function(t,n){var e=n.def(t.ELEMENTS,".vertCount-",t.OFFSET);return _.optional((function(){t.assert(n,e+">=0","invalid vertex offset/element buffer too small")})),e})):en((function(t,n){return n.def(t.ELEMENTS,".vertCount")}));var a=en((function(){return-1}));return _.optional((function(){a.MISSING=!0})),a}var f=new tn(i.thisDep||u.thisDep,i.contextDep||u.contextDep,i.propDep||u.propDep,(function(t,n){var e=t.ELEMENTS;return t.OFFSET?n.def(e,"?",e,".vertCount-",t.OFFSET,":-1"):n.def(e,"?",e,".vertCount:-1")}));return _.optional((function(){f.DYNAMIC=!0})),f}return null}(),instances:o(qt,!1),offset:u}}(t,c),b=function(t,n){var e=t.static,r=t.dynamic,o={};return M.forEach((function(t){var a=T(t);function u(n,i){if(t in e){var u=n(e[t]);o[a]=en((function(){return u}))}else if(t in r){var f=r[t];o[a]=rn(f,(function(t,n){return i(t,n,t.invoke(n,f))}))}}switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return u((function(e){return _.commandType(e,"boolean",t,n.commandStr),e}),(function(n,e,r){return _.optional((function(){n.assert(e,"typeof "+r+'==="boolean"',"invalid flag "+t,n.commandStr)})),r}));case"depth.func":return u((function(e){return _.commandParameter(e,Gt,"invalid "+t,n.commandStr),Gt[e]}),(function(n,e,r){var i=n.constants.compareFuncs;return _.optional((function(){n.assert(e,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(Gt))})),e.def(i,"[",r,"]")}));case"depth.range":return u((function(t){return _.command(K(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",n.commandStr),t}),(function(t,n,e){return _.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===2&&typeof "+e+'[0]==="number"&&typeof '+e+'[1]==="number"&&'+e+"[0]<="+e+"[1]","depth range must be a 2d array")})),[n.def("+",e,"[0]"),n.def("+",e,"[1]")]}));case"blend.func":return u((function(t){_.commandType(t,"object","blend.func",n.commandStr);var e="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return _.commandParameter(e,Vt,a+".srcRGB",n.commandStr),_.commandParameter(r,Vt,a+".srcAlpha",n.commandStr),_.commandParameter(i,Vt,a+".dstRGB",n.commandStr),_.commandParameter(o,Vt,a+".dstAlpha",n.commandStr),_.command(-1===$t.indexOf(e+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+e+", "+i+")",n.commandStr),[Vt[e],Vt[i],Vt[r],Vt[o]]}),(function(n,e,r){var i=n.constants.blendFuncs;function o(o,a){var u=e.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return _.optional((function(){n.assert(e,u+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys(Vt))})),u}_.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),u=o("dst","RGB");_.optional((function(){var t=n.constants.invalidBlendCombinations;n.assert(e,t+".indexOf("+a+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var f=e.def(i,"[",a,"]"),c=e.def(i,"[",o("src","Alpha"),"]");return[f,e.def(i,"[",u,"]"),c,e.def(i,"[",o("dst","Alpha"),"]")]}));case"blend.equation":return u((function(e){return"string"==typeof e?(_.commandParameter(e,g,"invalid "+t,n.commandStr),[g[e],g[e]]):"object"==typeof e?(_.commandParameter(e.rgb,g,t+".rgb",n.commandStr),_.commandParameter(e.alpha,g,t+".alpha",n.commandStr),[g[e.rgb],g[e.alpha]]):void _.commandRaise("invalid blend.equation",n.commandStr)}),(function(n,e,r){var i=n.constants.blendEquations,o=e.def(),a=e.def(),u=n.cond("typeof ",r,'==="string"');return _.optional((function(){function e(t,e,r){n.assert(t,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(g))}e(u.then,t,r),n.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+t),e(u.else,t+".rgb",r+".rgb"),e(u.else,t+".alpha",r+".alpha")})),u.then(o,"=",a,"=",i,"[",r,"];"),u.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),e(u),[o,a]}));case"blend.color":return u((function(t){return _.command(K(t)&&4===t.length,"blend.color must be a 4d array",n.commandStr),D(4,(function(n){return+t[n]}))}),(function(t,n,e){return _.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===4","blend.color must be a 4d array")})),D(4,(function(t){return n.def("+",e,"[",t,"]")}))}));case"stencil.mask":return u((function(t){return _.commandType(t,"number",a,n.commandStr),0|t}),(function(t,n,e){return _.optional((function(){t.assert(n,"typeof "+e+'==="number"',"invalid stencil.mask")})),n.def(e,"|0")}));case"stencil.func":return u((function(e){_.commandType(e,"object",a,n.commandStr);var r=e.cmp||"keep",i=e.ref||0,o="mask"in e?e.mask:-1;return _.commandParameter(r,Gt,t+".cmp",n.commandStr),_.commandType(i,"number",t+".ref",n.commandStr),_.commandType(o,"number",t+".mask",n.commandStr),[Gt[r],i,o]}),(function(t,n,e){var r=t.constants.compareFuncs;return _.optional((function(){function i(){t.assert(n,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(e+"&&typeof ",e,'==="object"'),i('!("cmp" in ',e,")||(",e,".cmp in ",r,")")})),[n.def('"cmp" in ',e,"?",r,"[",e,".cmp]",":",7680),n.def(e,".ref|0"),n.def('"mask" in ',e,"?",e,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return u((function(e){_.commandType(e,"object",a,n.commandStr);var r=e.fail||"keep",i=e.zfail||"keep",o=e.zpass||"keep";return _.commandParameter(r,Xt,t+".fail",n.commandStr),_.commandParameter(i,Xt,t+".zfail",n.commandStr),_.commandParameter(o,Xt,t+".zpass",n.commandStr),["stencil.opBack"===t?1029:1028,Xt[r],Xt[i],Xt[o]]}),(function(n,e,r){var i=n.constants.stencilOps;function o(o){return _.optional((function(){n.assert(e,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(Xt))})),e.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",7680)}return _.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)})),["stencil.opBack"===t?1029:1028,o("fail"),o("zfail"),o("zpass")]}));case"polygonOffset.offset":return u((function(t){_.commandType(t,"object",a,n.commandStr);var e=0|t.factor,r=0|t.units;return _.commandType(e,"number",a+".factor",n.commandStr),_.commandType(r,"number",a+".units",n.commandStr),[e,r]}),(function(n,e,r){return _.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[e.def(r,".factor|0"),e.def(r,".units|0")]}));case"cull.face":return u((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),_.command(!!e,a,n.commandStr),e}),(function(t,n,e){return _.optional((function(){t.assert(n,e+'==="front"||'+e+'==="back"',"invalid cull.face")})),n.def(e,'==="front"?',1028,":",1029)}));case"lineWidth":return u((function(t){return _.command("number"==typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],n.commandStr),t}),(function(t,n,e){return _.optional((function(){t.assert(n,"typeof "+e+'==="number"&&'+e+">="+i.lineWidthDims[0]+"&&"+e+"<="+i.lineWidthDims[1],"invalid line width")})),e}));case"frontFace":return u((function(t){return _.commandParameter(t,Qt,a,n.commandStr),Qt[t]}),(function(t,n,e){return _.optional((function(){t.assert(n,e+'==="cw"||'+e+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),n.def(e+'==="cw"?2304:2305')}));case"colorMask":return u((function(t){return _.command(K(t)&&4===t.length,"color.mask must be length 4 array",n.commandStr),t.map((function(t){return!!t}))}),(function(t,n,e){return _.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===4","invalid color.mask")})),D(4,(function(t){return"!!"+e+"["+t+"]"}))}));case"sample.coverage":return u((function(t){_.command("object"==typeof t&&t,a,n.commandStr);var e="value"in t?t.value:1,r=!!t.invert;return _.command("number"==typeof e&&e>=0&&e<=1,"sample.coverage.value must be a number between 0 and 1",n.commandStr),[e,r]}),(function(t,n,e){return _.optional((function(){t.assert(n,e+"&&typeof "+e+'==="object"',"invalid sample.coverage")})),[n.def('"value" in ',e,"?+",e,".value:1"),n.def("!!",e,".invert")]}))}})),o}(t,c),w=function(t){var n=t.static,r=t.dynamic;function i(t){if(t in n){var i=e.id(n[t]);_.optional((function(){l.shader(Zt[t],i,_.guessCommand())}));var o=en((function(){return i}));return o.id=i,o}if(t in r){var a=r[t];return rn(a,(function(n,e){var r=n.invoke(e,a),i=e.def(n.shared.strings,".id(",r,")");return _.optional((function(){e(n.shared.shader,".shader(",Zt[t],",",i,",",n.command,");")})),i}))}return null}var o,a=i(Pt),u=i(Ft),f=null;return nn(a)&&nn(u)?(f=l.program(u.id,a.id),o=en((function(t,n){return t.link(f)}))):o=new tn(a&&a.thisDep||u&&u.thisDep,a&&a.contextDep||u&&u.contextDep,a&&a.propDep||u&&u.propDep,(function(t,n){var e,r=t.shared.shader;e=a?a.append(t,n):n.def(r,".",Pt);var i=r+".program("+(u?u.append(t,n):n.def(r,".",Ft))+","+e;return _.optional((function(){i+=","+t.command})),n.def(i+")")})),{frag:a,vert:u,progVar:o,program:f}}(t);function x(t){var n=p[t];n&&(b[t]=n)}x("viewport"),x(T("scissor.box"));var A=Object.keys(b).length>0,k={framebuffer:d,draw:v,shader:w,state:b,dirty:A};return k.profile=function(t){var n,e=t.static,r=t.dynamic;if(Lt in e){var i=!!e[Lt];(n=en((function(t,n){return i}))).enable=i}else if(Lt in r){var o=r[Lt];n=rn(o,(function(t,n){return t.invoke(n,o)}))}return n}(t),k.uniforms=function(t,n){var e=t.static,r=t.dynamic,i={};return Object.keys(e).forEach((function(t){var r,o=e[t];if("number"==typeof o||"boolean"==typeof o)r=en((function(){return o}));else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=en((function(t){return t.link(o)})):"framebuffer"===a||"framebufferCube"===a?(_.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',n.commandStr),r=en((function(t){return t.link(o.color[0])}))):_.commandRaise('invalid data for uniform "'+t+'"',n.commandStr)}else K(o)?r=en((function(n){return n.global.def("[",D(o.length,(function(e){return _.command("number"==typeof o[e]||"boolean"==typeof o[e],"invalid uniform "+t,n.commandStr),o[e]})),"]")})):_.commandRaise('invalid or missing data for uniform "'+t+'"',n.commandStr);r.value=o,i[t]=r})),Object.keys(r).forEach((function(t){var n=r[t];i[t]=rn(n,(function(t,e){return t.invoke(e,n)}))})),i}(r,c),k.attributes=function(t,n){var r=t.static,i=t.dynamic,a={};return Object.keys(r).forEach((function(t){var i=r[t],u=e.id(t),f=new m;if(Kt(i))f.state=1,f.buffer=o.getBuffer(o.create(i,34962,!1,!0)),f.type=0;else{var c=o.getBuffer(i);if(c)f.state=1,f.buffer=c,f.type=0;else if(_.command("object"==typeof i&&i,"invalid data for attribute "+t,n.commandStr),"constant"in i){var s=i.constant;f.buffer="null",f.state=2,"number"==typeof s?f.x=s:(_.command(K(s)&&s.length>0&&s.length<=4,"invalid constant for attribute "+t,n.commandStr),Rt.forEach((function(t,n){n<s.length&&(f[t]=s[n])})))}else{c=Kt(i.buffer)?o.getBuffer(o.create(i.buffer,34962,!1,!0)):o.getBuffer(i.buffer),_.command(!!c,'missing buffer for attribute "'+t+'"',n.commandStr);var l=0|i.offset;_.command(l>=0,'invalid offset for attribute "'+t+'"',n.commandStr);var h=0|i.stride;_.command(h>=0&&h<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',n.commandStr);var d=0|i.size;_.command(!("size"in i)||d>0&&d<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',n.commandStr);var p=!!i.normalized,v=0;"type"in i&&(_.commandParameter(i.type,I,"invalid type for attribute "+t,n.commandStr),v=I[i.type]);var g=0|i.divisor;"divisor"in i&&(_.command(0===g||y,'cannot specify divisor for attribute "'+t+'", instancing not supported',n.commandStr),_.command(g>=0,'invalid divisor for attribute "'+t+'"',n.commandStr)),_.optional((function(){var e=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){_.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",e)}))})),f.buffer=c,f.state=1,f.size=d,f.normalized=p,f.type=v||c.dtype,f.offset=l,f.stride=h,f.divisor=g}}a[t]=en((function(t,n){var e=t.attribCache;if(u in e)return e[u];var r={isStream:!1};return Object.keys(f).forEach((function(t){r[t]=f[t]})),f.buffer&&(r.buffer=t.link(f.buffer),r.type=r.type||r.buffer+".dtype"),e[u]=r,r}))})),Object.keys(i).forEach((function(t){var n=i[t];a[t]=rn(n,(function(e,r){var i=e.invoke(r,n),o=e.shared,a=e.constants,u=o.isBufferArgs,f=o.buffer;_.optional((function(){e.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+u+"("+i+")||"+f+".getBuffer("+i+")||"+f+".getBuffer("+i+".buffer)||"+u+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')}));var c={isStream:r.def(!1)},s=new m;s.state=1,Object.keys(s).forEach((function(t){c[t]=r.def(""+s[t])}));var l=c.buffer,h=c.type;function d(t){r(c[t],"=",i,".",t,"|0;")}return r("if(",u,"(",i,")){",c.isStream,"=true;",l,"=",f,".createStream(",34962,",",i,");",h,"=",l,".dtype;","}else{",l,"=",f,".getBuffer(",i,");","if(",l,"){",h,"=",l,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",2,";","if(typeof "+i+'.constant === "number"){',c[Rt[0]],"=",i,".constant;",Rt.slice(1).map((function(t){return c[t]})).join("="),"=0;","}else{",Rt.map((function(t,n){return c[t]+"="+i+".constant.length>"+n+"?"+i+".constant["+n+"]:0;"})).join(""),"}}else{","if(",u,"(",i,".buffer)){",l,"=",f,".createStream(",34962,",",i,".buffer);","}else{",l,"=",f,".getBuffer(",i,".buffer);","}",h,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",l,".dtype;",c.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",c.isStream,"){",f,".destroyStream(",l,");","}"),c}))})),a}(n,c),k.context=function(t){var n=t.static,e=t.dynamic,r={};return Object.keys(n).forEach((function(t){var e=n[t];r[t]=en((function(t,n){return"number"==typeof e||"boolean"==typeof e?""+e:t.link(e)}))})),Object.keys(e).forEach((function(t){var n=e[t];r[t]=rn(n,(function(t,e){return t.invoke(e,n)}))})),r}(u),k}function F(t,n,e){var r=t.shared.context,i=t.scope();Object.keys(e).forEach((function(o){n.save(r,"."+o);var a=e[o];i(r,".",o,"=",a.append(t,n),";")})),n(i)}function P(t,n,e,r){var i,o=t.shared,a=o.gl,u=o.framebuffer;b&&(i=n.def(o.extensions,".webgl_draw_buffers"));var f,c=t.constants,s=c.drawBuffer,l=c.backBuffer;f=e?e.append(t,n):n.def(u,".next"),r||n("if(",f,"!==",u,".cur){"),n("if(",f,"){",a,".bindFramebuffer(",36160,",",f,".framebuffer);"),b&&n(i,".drawBuffersWEBGL(",s,"[",f,".colorAttachments.length]);"),n("}else{",a,".bindFramebuffer(",36160,",null);"),b&&n(i,".drawBuffersWEBGL(",l,");"),n("}",u,".cur=",f,";"),r||n("}")}function N(t,n,e){var r=t.shared,i=r.gl,o=t.current,a=t.next,u=r.current,f=r.next,c=t.cond(u,".dirty");M.forEach((function(n){var r,s,l=T(n);if(!(l in e.state))if(l in a){r=a[l],s=o[l];var h=D(w[l].length,(function(t){return c.def(r,"[",t,"]")}));c(t.cond(h.map((function(t,n){return t+"!=="+s+"["+n+"]"})).join("||")).then(i,".",S[l],"(",h,");",h.map((function(t,n){return s+"["+n+"]="+t})).join(";"),";"))}else{r=c.def(f,".",l);var d=t.cond(r,"!==",u,".",l);c(d),l in A?d(t.cond(r).then(i,".enable(",A[l],");").else(i,".disable(",A[l],");"),u,".",l,"=",r,";"):d(i,".",S[l],"(",r,");",u,".",l,"=",r,";")}})),0===Object.keys(e.state).length&&c(u,".dirty=false;"),n(c)}function U(t,n,e,r){var i=t.shared,o=t.current,a=i.current,u=i.gl;Jt(Object.keys(e)).forEach((function(i){var f=e[i];if(!r||r(f)){var c=f.append(t,n);if(A[i]){var s=A[i];nn(f)?n(u,c?".enable(":".disable(",s,");"):n(t.cond(c).then(u,".enable(",s,");").else(u,".disable(",s,");")),n(a,".",i,"=",c,";")}else if(K(c)){var l=o[i];n(u,".",S[i],"(",c,");",c.map((function(t,n){return l+"["+n+"]="+t})).join(";"),";")}else n(u,".",S[i],"(",c,");",a,".",i,"=",c,";")}}))}function B(t,n){y&&(t.instancing=n.def(t.shared.extensions,".angle_instanced_arrays"))}function q(t,n,e,r,i){var o,a,u,f=t.shared,c=t.stats,s=f.current,l=f.timer,h=e.profile;function d(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function v(t){t(o=n.def(),"=",d(),";"),"string"==typeof i?t(c,".count+=",i,";"):t(c,".count++;"),p&&(r?t(a=n.def(),"=",l,".getNumPendingQueries();"):t(l,".beginQuery(",c,");"))}function m(t){t(c,".cpuTime+=",d(),"-",o,";"),p&&(r?t(l,".pushScopeStats(",a,",",l,".getNumPendingQueries(),",c,");"):t(l,".endQuery();"))}function g(t){var e=n.def(s,".profile");n(s,".profile=",t,";"),n.exit(s,".profile=",e,";")}if(h){if(nn(h))return void(h.enable?(v(n),m(n.exit),g("true")):g("false"));g(u=h.append(t,n))}else u=n.def(s,".profile");var y=t.block();v(y),n("if(",u,"){",y,"}");var b=t.block();m(b),n.exit("if(",u,"){",b,"}")}function W(t,n,e,r,i){var o=t.shared;r.forEach((function(r){var a,u=r.name,f=e.attributes[u];if(f){if(!i(f))return;a=f.append(t,n)}else{if(!i(on))return;var c=t.scopeAttrib(u);_.optional((function(){t.assert(n,c+".state","missing attribute "+u)})),a={},Object.keys(new m).forEach((function(t){a[t]=n.def(c,".",t)}))}!function(e,r,i){var a=o.gl,u=n.def(e,".location"),f=n.def(o.attributes,"[",u,"]"),c=i.state,s=i.buffer,l=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];function d(){n("if(!",f,".buffer){",a,".enableVertexAttribArray(",u,");}");var e,o=i.type;if(e=i.size?n.def(i.size,"||",r):r,n("if(",f,".type!==",o,"||",f,".size!==",e,"||",h.map((function(t){return f+"."+t+"!=="+i[t]})).join("||"),"){",a,".bindBuffer(",34962,",",s,".buffer);",a,".vertexAttribPointer(",[u,e,o,i.normalized,i.stride,i.offset],");",f,".type=",o,";",f,".size=",e,";",h.map((function(t){return f+"."+t+"="+i[t]+";"})).join(""),"}"),y){var c=i.divisor;n("if(",f,".divisor!==",c,"){",t.instancing,".vertexAttribDivisorANGLE(",[u,c],");",f,".divisor=",c,";}")}}function p(){n("if(",f,".buffer){",a,".disableVertexAttribArray(",u,");",f,".buffer=null;","}if(",Rt.map((function(t,n){return f+"."+t+"!=="+l[n]})).join("||"),"){",a,".vertexAttrib4f(",u,",",l,");",Rt.map((function(t,n){return f+"."+t+"="+l[n]+";"})).join(""),"}")}1===c?d():2===c?p():(n("if(",c,"===",1,"){"),d(),n("}else{"),p(),n("}"))}(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function H(t,n,r,i,o){for(var a,u=t.shared,f=u.gl,c=0;c<i.length;++c){var s,l=i[c],h=l.name,d=l.info.type,p=r.uniforms[h],v=t.link(l)+".location";if(p){if(!o(p))continue;if(nn(p)){var m=p.value;if(_.command(null!=m,'missing uniform "'+h+'"',t.commandStr),35678===d||35680===d){_.command("function"==typeof m&&(35678===d&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||35680===d&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+h,t.commandStr);var g=t.link(m._texture||m.color[0]._texture);n(f,".uniform1i(",v,",",g+".bind());"),n.exit(g,".unbind();")}else if(35674===d||35675===d||35676===d){_.optional((function(){_.command(K(m),"invalid matrix for uniform "+h,t.commandStr),_.command(35674===d&&4===m.length||35675===d&&9===m.length||35676===d&&16===m.length,"invalid length for matrix uniform "+h,t.commandStr)}));var y=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),b=2;35675===d?b=3:35676===d&&(b=4),n(f,".uniformMatrix",b,"fv(",v,",false,",y,");")}else{switch(d){case 5126:_.commandType(m,"number","uniform "+h,t.commandStr),a="1f";break;case 35664:_.command(K(m)&&2===m.length,"uniform "+h,t.commandStr),a="2f";break;case 35665:_.command(K(m)&&3===m.length,"uniform "+h,t.commandStr),a="3f";break;case 35666:_.command(K(m)&&4===m.length,"uniform "+h,t.commandStr),a="4f";break;case 35670:_.commandType(m,"boolean","uniform "+h,t.commandStr),a="1i";break;case 5124:_.commandType(m,"number","uniform "+h,t.commandStr),a="1i";break;case 35671:case 35667:_.command(K(m)&&2===m.length,"uniform "+h,t.commandStr),a="2i";break;case 35672:case 35668:_.command(K(m)&&3===m.length,"uniform "+h,t.commandStr),a="3i";break;case 35673:case 35669:_.command(K(m)&&4===m.length,"uniform "+h,t.commandStr),a="4i"}n(f,".uniform",a,"(",v,",",K(m)?Array.prototype.slice.call(m):m,");")}continue}s=p.append(t,n)}else{if(!o(on))continue;s=n.def(u.uniforms,"[",e.id(h),"]")}35678===d?n("if(",s,"&&",s,'._reglType==="framebuffer"){',s,"=",s,".color[0];","}"):35680===d&&n("if(",s,"&&",s,'._reglType==="framebufferCube"){',s,"=",s,".color[0];","}"),_.optional((function(){function e(e,r){t.assert(n,e,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){e("typeof "+s+'==="'+t+'"',"invalid type, expected "+t)}function i(n,r){e(u.isArrayLike+"("+s+")&&"+s+".length==="+n,"invalid vector, should have length "+n,t.commandStr)}function o(n){e("typeof "+s+'==="function"&&'+s+'._reglType==="texture'+(3553===n?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(d){case 5124:r("number");break;case 35667:i(2);break;case 35668:i(3);break;case 35669:i(4);break;case 5126:r("number");break;case 35664:i(2);break;case 35665:i(3);break;case 35666:i(4);break;case 35670:r("boolean");break;case 35671:i(2);break;case 35672:i(3);break;case 35673:case 35674:i(4);break;case 35675:i(9);break;case 35676:i(16);break;case 35678:o(3553);break;case 35680:o(34067)}}));var w=1;switch(d){case 35678:case 35680:var x=n.def(s,"._texture");n(f,".uniform1i(",v,",",x,".bind());"),n.exit(x,".unbind();");continue;case 5124:case 35670:a="1i";break;case 35667:case 35671:a="2i",w=2;break;case 35668:case 35672:a="3i",w=3;break;case 35669:case 35673:a="4i",w=4;break;case 5126:a="1f";break;case 35664:a="2f",w=2;break;case 35665:a="3f",w=3;break;case 35666:a="4f",w=4;break;case 35674:a="Matrix2fv";break;case 35675:a="Matrix3fv";break;case 35676:a="Matrix4fv"}if(n(f,".uniform",a,"(",v,","),"M"===a.charAt(0)){var M=Math.pow(d-35674+2,2),A=t.global.def("new Float32Array(",M,")");n("false,(Array.isArray(",s,")||",s," instanceof Float32Array)?",s,":(",D(M,(function(t){return A+"["+t+"]="+s+"["+t+"]"})),",",A,")")}else n(w>1?D(w,(function(t){return s+"["+t+"]"})):s);n(");")}}function Y(t,n,e,r){var i=t.shared,o=i.gl,a=i.draw,u=r.draw,f=function(){var i,f=u.elements,c=n;return f?((f.contextDep&&r.contextDynamic||f.propDep)&&(c=e),i=f.append(t,c)):i=c.def(a,".",Nt),i&&c("if("+i+")"+o+".bindBuffer(34963,"+i+".buffer.buffer);"),i}();function c(i){var o=u[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,e):o.append(t,n):n.def(a,".",i)}var s,l,h=c(Ut),d=c(Bt),p=function(){var i,o=u.count,f=n;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(f=e),i=o.append(t,f),_.optional((function(){o.MISSING&&t.assert(n,"false","missing vertex count"),o.DYNAMIC&&t.assert(f,i+">=0","missing vertex count")}))):(i=f.def(a,".",It),_.optional((function(){t.assert(f,i+">=0","missing vertex count")}))),i}();if("number"==typeof p){if(0===p)return}else e("if(",p,"){"),e.exit("}");y&&(s=c(qt),l=t.instancing);var v=f+".type",m=u.elements&&nn(u.elements);function g(){function t(){e(l,".drawElementsInstancedANGLE(",[h,p,v,d+"<<(("+v+"-5121)>>1)",s],");")}function n(){e(l,".drawArraysInstancedANGLE(",[h,d,p,s],");")}f?m?t():(e("if(",f,"){"),t(),e("}else{"),n(),e("}")):n()}function b(){function t(){e(o+".drawElements("+[h,p,v,d+"<<(("+v+"-5121)>>1)"]+");")}function n(){e(o+".drawArrays("+[h,d,p]+");")}f?m?t():(e("if(",f,"){"),t(),e("}else{"),n(),e("}")):n()}y&&("number"!=typeof s||s>=0)?"string"==typeof s?(e("if(",s,">0){"),g(),e("}else if(",s,"<0){"),b(),e("}")):g():b()}function V(t,n,e,r,i){var o=L(),a=o.proc("body",i);return _.optional((function(){o.commandStr=n.commandStr,o.command=o.link(n.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,e,r),o.compile().body}function $(t,n,e,r){B(t,n),W(t,n,e,r.attributes,(function(){return!0})),H(t,n,e,r.uniforms,(function(){return!0})),Y(t,n,n,e)}function X(t,n,e,r){function i(){return!0}t.batchId="a1",B(t,n),W(t,n,e,r.attributes,i),H(t,n,e,r.uniforms,i),Y(t,n,n,e)}function Z(t,n,e,r){B(t,n);var i=e.contextDep,o=n.def(),a=n.def();t.shared.props=a,t.batchId=o;var u=t.scope(),f=t.scope();function c(t){return t.contextDep&&i||t.propDep}function s(t){return!c(t)}if(n(u.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",f,"}",u.exit),e.needsContext&&F(t,f,e.context),e.needsFramebuffer&&P(t,f,e.framebuffer),U(t,f,e.state,c),e.profile&&c(e.profile)&&q(t,f,e,!1,!0),r)W(t,u,e,r.attributes,s),W(t,f,e,r.attributes,c),H(t,u,e,r.uniforms,s),H(t,f,e,r.uniforms,c),Y(t,u,f,e);else{var l=t.global.def("{}"),h=e.shader.progVar.append(t,f),d=f.def(h,".id"),p=f.def(l,"[",d,"]");f(t.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",l,"[",d,"]=",t.link((function(n){return V(X,t,e,n,2)})),"(",h,");}",p,".call(this,a0[",o,"],",o,");")}}function Q(t,n,e){var r=n.static[e];if(r&&function(t){if("object"==typeof t&&!K(t)){for(var n=Object.keys(t),e=0;e<n.length;++e)if(k.isDynamic(t[n[e]]))return!0;return!1}}(r)){var i=t.global,o=Object.keys(r),a=!1,u=!1,f=!1,c=t.global.def("{}");o.forEach((function(n){var e=r[n];if(k.isDynamic(e)){"function"==typeof e&&(e=r[n]=k.unbox(e));var o=rn(e,null);a=a||o.thisDep,f=f||o.propDep,u=u||o.contextDep}else{switch(i(c,".",n,"="),typeof e){case"number":i(e);break;case"string":i('"',e,'"');break;case"object":Array.isArray(e)&&i("[",e.join(),"]");break;default:i(t.link(e))}i(";")}})),n.dynamic[e]=new k.DynamicVariable(4,{thisDep:a,contextDep:u,propDep:f,ref:c,append:function(t,n){o.forEach((function(e){var i=r[e];if(k.isDynamic(i)){var o=t.invoke(n,i);n(c,".",e,"=",o,";")}}))}}),delete n.static[e]}}return{next:x,current:w,procs:function(){var t=L(),n=t.proc("poll"),e=t.proc("refresh"),r=t.block();n(r),e(r);var o,a=t.shared,u=a.gl,f=a.next,c=a.current;r(c,".dirty=false;"),P(t,n),P(t,e,null,!0),y&&(o=t.link(y));for(var s=0;s<i.maxAttributes;++s){var l=e.def(a.attributes,"[",s,"]"),h=t.cond(l,".buffer");h.then(u,".enableVertexAttribArray(",s,");",u,".bindBuffer(",34962,",",l,".buffer.buffer);",u,".vertexAttribPointer(",s,",",l,".size,",l,".type,",l,".normalized,",l,".stride,",l,".offset);").else(u,".disableVertexAttribArray(",s,");",u,".vertexAttrib4f(",s,",",l,".x,",l,".y,",l,".z,",l,".w);",l,".buffer=null;"),e(h),y&&e(o,".vertexAttribDivisorANGLE(",s,",",l,".divisor);")}return Object.keys(A).forEach((function(i){var o=A[i],a=r.def(f,".",i),s=t.block();s("if(",a,"){",u,".enable(",o,")}else{",u,".disable(",o,")}",c,".",i,"=",a,";"),e(s),n("if(",a,"!==",c,".",i,"){",s,"}")})),Object.keys(S).forEach((function(i){var o,a,s=S[i],l=w[i],h=t.block();if(h(u,".",s,"("),K(l)){var d=l.length;o=t.global.def(f,".",i),a=t.global.def(c,".",i),h(D(d,(function(t){return o+"["+t+"]"})),");",D(d,(function(t){return a+"["+t+"]="+o+"["+t+"];"})).join("")),n("if(",D(d,(function(t){return o+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",h,"}")}else o=r.def(f,".",i),a=r.def(c,".",i),h(o,");",c,".",i,"=",o,";"),n("if(",o,"!==",a,"){",h,"}");e(h)})),t.compile()}(),compile:function(t,n,r,i,o){var a=L();a.stats=a.link(o),Object.keys(n.static).forEach((function(t){Q(a,n,t)})),Yt.forEach((function(n){Q(a,t,n)}));var u=z(t,n,r,i,a);return function(t,n){var e=t.proc("draw",1);B(t,e),F(t,e,n.context),P(t,e,n.framebuffer),N(t,e,n),U(t,e,n.state),q(t,e,n,!1,!0);var r=n.shader.progVar.append(t,e);if(e(t.shared.gl,".useProgram(",r,".program);"),n.shader.program)$(t,e,n,n.shader.program);else{var i=t.global.def("{}"),o=e.def(r,".id"),a=e.def(i,"[",o,"]");e(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(e){return V($,t,n,e,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(n.state).length>0&&e(t.shared.current,".dirty=true;")}(a,u),function(t,n){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function a(e){var o=n.shader[e];o&&r.set(i.shader,"."+e,o.append(t,r))}F(t,r,n.context),n.framebuffer&&n.framebuffer.append(t,r),Jt(Object.keys(n.state)).forEach((function(e){var o=n.state[e].append(t,r);K(o)?o.forEach((function(n,i){r.set(t.next[e],"["+i+"]",n)})):r.set(i.next,"."+e,o)})),q(t,r,n,!0,!0),[Nt,Bt,It,qt,Ut].forEach((function(e){var o=n.draw[e];o&&r.set(i.draw,"."+e,""+o.append(t,r))})),Object.keys(n.uniforms).forEach((function(o){r.set(i.uniforms,"["+e.id(o)+"]",n.uniforms[o].append(t,r))})),Object.keys(n.attributes).forEach((function(e){var i=n.attributes[e].append(t,r),o=t.scopeAttrib(e);Object.keys(new m).forEach((function(t){r.set(o,"."+t,i[t])}))})),a(Ft),a(Pt),Object.keys(n.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(a,u),function(t,n){var e=t.proc("batch",2);t.batchId="0",B(t,e);var r=!1,i=!0;Object.keys(n.context).forEach((function(t){r=r||n.context[t].propDep})),r||(F(t,e,n.context),i=!1);var o=n.framebuffer,a=!1;function u(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||P(t,e,o)):P(t,e,null),n.state.viewport&&n.state.viewport.propDep&&(r=!0),N(t,e,n),U(t,e,n.state,(function(t){return!u(t)})),n.profile&&u(n.profile)||q(t,e,n,!1,"a1"),n.contextDep=r,n.needsContext=i,n.needsFramebuffer=a;var f=n.shader.progVar;if(f.contextDep&&r||f.propDep)Z(t,e,n,null);else{var c=f.append(t,e);if(e(t.shared.gl,".useProgram(",c,".program);"),n.shader.program)Z(t,e,n,n.shader.program);else{var s=t.global.def("{}"),l=e.def(c,".id"),h=e.def(s,"[",l,"]");e(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",s,"[",l,"]=",t.link((function(e){return V(Z,t,n,e,2)})),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(n.state).length>0&&e(t.shared.current,".dirty=true;")}(a,u),a.compile()}}}var un=function(t,n){if(!n.ext_disjoint_timer_query)return null;var e=[];function r(t){e.push(t)}var i=[];function o(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function u(t){a.push(t)}var f=[];function c(t,n,e){var r=a.pop()||new o;r.startQueryIndex=t,r.endQueryIndex=n,r.sum=0,r.stats=e,f.push(r)}var s=[],l=[];return{beginQuery:function(t){var r=e.pop()||n.ext_disjoint_timer_query.createQueryEXT();n.ext_disjoint_timer_query.beginQueryEXT(35007,r),i.push(r),c(i.length-1,i.length,t)},endQuery:function(){n.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:c,update:function(){var t,e,o=i.length;if(0!==o){l.length=Math.max(l.length,o+1),s.length=Math.max(s.length,o+1),s[0]=0,l[0]=0;var a=0;for(t=0,e=0;e<i.length;++e){var c=i[e];n.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(a+=n.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):i[t++]=c,s[e+1]=a,l[e+1]=t}for(i.length=t,t=0,e=0;e<f.length;++e){var h=f[e],d=h.startQueryIndex,p=h.endQueryIndex;h.sum+=s[p]-s[d];var v=l[d],m=l[p];m===v?(h.stats.gpuTime+=h.sum/1e6,u(h)):(h.startQueryIndex=v,h.endQueryIndex=m,f[t++]=h)}f.length=t}},getNumPendingQueries:function(){return i.length},clear:function(){e.push.apply(e,i);for(var t=0;t<e.length;t++)n.ext_disjoint_timer_query.deleteQueryEXT(e[t]);i.length=0,e.length=0},restore:function(){i.length=0,e.length=0}}};function fn(t,n){for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1}return function(e){var r=j(e);if(!r)return null;var i=r.gl,o=i.getContextAttributes(),a=i.isContextLost(),u=function(t,n){var e={};function r(n){_.type(n,"string","extension name must be string");var r,i=n.toLowerCase();try{r=e[i]=t.getExtension(i)}catch(t){}return!!r}for(var i=0;i<n.extensions.length;++i){var o=n.extensions[i];if(!r(o))return n.onDestroy(),n.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return n.optionalExtensions.forEach(r),{extensions:e,restore:function(){Object.keys(e).forEach((function(t){if(e[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}(i,r);if(!u)return null;var f,c,s=(f={"":0},c=[""],{id:function(t){var n=f[t];return n||(n=f[t]=c.length,c.push(t),n)},str:function(t){return c[t]}}),l={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},h=u.extensions,d=un(0,h),p=T(),v=i.drawingBufferWidth,m=i.drawingBufferHeight,g={tick:0,time:0,viewportWidth:v,viewportHeight:m,framebufferWidth:v,framebufferHeight:m,drawingBufferWidth:v,drawingBufferHeight:m,pixelRatio:r.pixelRatio},y=function(t,n){var e=1;n.ext_texture_filter_anisotropic&&(e=t.getParameter(34047));var r=1,i=1;n.webgl_draw_buffers&&(r=t.getParameter(34852),i=t.getParameter(36063));var o=!!n.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=t.createFramebuffer();if(t.bindFramebuffer(36160,u),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var f=L.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,f),t.getError()?o=!1:(t.deleteFramebuffer(u),t.deleteTexture(a),o=1===f[0]),L.freeType(f)}}var c=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var s=t.createTexture(),l=L.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,s),t.texImage2D(34069,0,6408,3,3,0,6408,5121,l),L.freeType(l),t.bindTexture(34067,null),t.deleteTexture(s),c=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(n).filter((function(t){return!!n[t]})),maxAnisotropic:e,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:c}}(i,h),b=function(t,n,e,r){for(var i=e.maxAttributes,o=new Array(i),a=0;a<i;++a)o[a]=new Et;return{Record:Et,scope:{},state:o}}(0,0,y),w=function(n,e,r,i){var o=0,a={};function u(t){this.id=o++,this.buffer=n.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){n.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){l(this)};var f=[];function c(t,e,r){t.byteLength=e.byteLength,n.bufferData(t.type,e,r)}function s(n,e,r,i,o,a){var u,f;if(n.usage=r,Array.isArray(e)){if(n.dtype=i||5126,e.length>0)if(Array.isArray(e[0])){u=W(e);for(var s=1,l=1;l<u.length;++l)s*=u[l];n.dimension=s,c(n,f=q(e,u,n.dtype),r),a?n.persistentData=f:L.freeType(f)}else if("number"==typeof e[0]){n.dimension=o;var h=L.allocType(n.dtype,e.length);V(h,e),c(n,h,r),a?n.persistentData=h:L.freeType(h)}else t(e[0])?(n.dimension=e[0].length,n.dtype=i||Y(e[0])||5126,c(n,f=q(e,[e.length,e[0].length],n.dtype),r),a?n.persistentData=f:L.freeType(f)):_.raise("invalid buffer data")}else if(t(e))n.dtype=i||Y(e),n.dimension=o,c(n,e,r),a&&(n.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(z(e)){u=e.shape;var d=e.stride,p=e.offset,v=0,m=0,g=0,y=0;1===u.length?(v=u[0],m=1,g=d[0],y=0):2===u.length?(v=u[0],m=u[1],g=d[0],y=d[1]):_.raise("invalid shape"),n.dtype=i||Y(e.data)||5126,n.dimension=m;var b=L.allocType(n.dtype,v*m);$(b,e.data,v,m,g,y,p),c(n,b,r),a?n.persistentData=b:L.freeType(b)}else e instanceof ArrayBuffer?(n.dtype=5121,n.dimension=o,c(n,e,r),a&&(n.persistentData=new Uint8Array(new Uint8Array(e)))):_.raise("invalid buffer data")}function l(t){e.bufferCount--;for(var r=0;r<i.state.length;++r){var o=i.state[r];o.buffer===t&&(n.disableVertexAttribArray(r),o.buffer=null)}var u=t.buffer;_(u,"buffer must not be deleted already"),n.deleteBuffer(u),t.buffer=null,delete a[t.id]}return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(n){t+=a[n].stats.size})),t}),{create:function(i,o,f,c){e.bufferCount++;var h=new u(o);function d(e){var i=35044,o=null,a=0,u=0,f=1;return Array.isArray(e)||t(e)||z(e)||e instanceof ArrayBuffer?o=e:"number"==typeof e?a=0|e:e&&(_.type(e,"object","buffer arguments must be an object, a number or an array"),"data"in e&&(_(null===o||Array.isArray(o)||t(o)||z(o),"invalid data for buffer"),o=e.data),"usage"in e&&(_.parameter(e.usage,B,"invalid buffer usage"),i=B[e.usage]),"type"in e&&(_.parameter(e.type,I,"invalid buffer type"),u=I[e.type]),"dimension"in e&&(_.type(e.dimension,"number","invalid dimension"),f=0|e.dimension),"length"in e&&(_.nni(a,"buffer length must be a nonnegative integer"),a=0|e.length)),h.bind(),o?s(h,o,i,u,f,c):(a&&n.bufferData(h.type,a,i),h.dtype=u||5121,h.usage=i,h.dimension=f,h.byteLength=a),r.profile&&(h.stats.size=h.byteLength*H[h.dtype]),d}function p(t,e){_(e+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+e+" to a buffer of size "+h.byteLength),n.bufferSubData(h.type,e,t)}return a[h.id]=h,f||d(i),d._reglType="buffer",d._buffer=h,d.subdata=function(n,e){var r,i=0|(e||0);if(h.bind(),t(n)||n instanceof ArrayBuffer)p(n,i);else if(Array.isArray(n)){if(n.length>0)if("number"==typeof n[0]){var o=L.allocType(h.dtype,n.length);V(o,n),p(o,i),L.freeType(o)}else if(Array.isArray(n[0])||t(n[0])){r=W(n);var a=q(n,r,h.dtype);p(a,i),L.freeType(a)}else _.raise("invalid buffer data")}else if(z(n)){r=n.shape;var u=n.stride,f=0,c=0,s=0,l=0;1===r.length?(f=r[0],c=1,s=u[0],l=0):2===r.length?(f=r[0],c=r[1],s=u[0],l=u[1]):_.raise("invalid shape");var v=Array.isArray(n.data)?h.dtype:Y(n.data),m=L.allocType(v,f*c);$(m,n.data,f,c,s,l,n.offset),p(m,i),L.freeType(m)}else _.raise("invalid data for buffer subdata");return d},r.profile&&(d.stats=h.stats),d.destroy=function(){l(h)},d},createStream:function(t,n){var e=f.pop();return e||(e=new u(t)),e.bind(),s(e,n,35040,0,1,!1),e},destroyStream:function(t){f.push(t)},clear:function(){F(a).forEach(l),f.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof u?t._buffer:null},restore:function(){F(a).forEach((function(t){t.buffer=n.createBuffer(),n.bindBuffer(t.type,t.buffer),n.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:s}}(i,l,r,b),x=function(n,e,r,i){var o={},a=0,u={uint8:5121,uint16:5123};function f(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=4,this.vertCount=0,this.type=0}e.oes_element_index_uint&&(u.uint32=5125),f.prototype.bind=function(){this.buffer.bind()};var c=[];function s(i,o,a,u,f,c,s){if(i.buffer.bind(),o){var l=s;s||t(o)&&(!z(o)||t(o.data))||(l=e.oes_element_index_uint?5125:5123),r._initBuffer(i.buffer,o,a,l,3)}else n.bufferData(34963,c,a),i.buffer.dtype=h||5121,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;var h=s;if(!s){switch(i.buffer.dtype){case 5121:case 5120:h=5121;break;case 5123:case 5122:h=5123;break;case 5125:case 5124:h=5125;break;default:_.raise("unsupported type for element array")}i.buffer.dtype=h}i.type=h,_(5125!==h||!!e.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=f;d<0&&(d=i.buffer.byteLength,5123===h?d>>=1:5125===h&&(d>>=2)),i.vertCount=d;var p=u;if(u<0){p=4;var v=i.buffer.dimension;1===v&&(p=0),2===v&&(p=1),3===v&&(p=4)}i.primType=p}function l(t){i.elementsCount--,_(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(n,e){var o=r.create(null,34963,!0),a=new f(o._buffer);function c(n){if(n)if("number"==typeof n)o(n),a.primType=4,a.vertCount=0|n,a.type=5121;else{var e=null,r=35044,i=-1,f=-1,l=0,h=0;Array.isArray(n)||t(n)||z(n)?e=n:(_.type(n,"object","invalid arguments for elements"),"data"in n&&(e=n.data,_(Array.isArray(e)||t(e)||z(e),"invalid data for element buffer")),"usage"in n&&(_.parameter(n.usage,B,"invalid element buffer usage"),r=B[n.usage]),"primitive"in n&&(_.parameter(n.primitive,G,"invalid element buffer primitive"),i=G[n.primitive]),"count"in n&&(_("number"==typeof n.count&&n.count>=0,"invalid vertex count for elements"),f=0|n.count),"type"in n&&(_.parameter(n.type,u,"invalid buffer type"),h=u[n.type]),"length"in n?l=0|n.length:(l=f,5123===h||5122===h?l*=2:5125!==h&&5124!==h||(l*=4))),s(a,e,r,i,f,l,h)}else o(),a.primType=4,a.vertCount=0,a.type=5121;return c}return i.elementsCount++,c(n),c._reglType="elements",c._elements=a,c.subdata=function(t,n){return o.subdata(t,n),c},c.destroy=function(){l(a)},c},createStream:function(t){var n=c.pop();return n||(n=new f(r.create(null,34963,!0,!1)._buffer)),s(n,t,35040,-1,-1,0,0),n},destroyStream:function(t){c.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof f?t._elements:null},clear:function(){F(o).forEach(l)}}}(i,h,w,l),M=function(t,n,e,r){var i={},o={};function a(t,n,e,r){this.name=t,this.id=n,this.location=e,this.info=r}function u(t,n){for(var e=0;e<t.length;++e)if(t[e].id===n.id)return void(t[e].location=n.location);t.push(n)}function f(e,r,a){var u=35632===e?i:o,f=u[r];if(!f){var c=n.str(r);f=t.createShader(e),t.shaderSource(f,c),t.compileShader(f),_.shaderError(t,f,c,e,a),u[r]=f}return f}var c={},s=[],l=0;function h(t,n){this.id=l++,this.fragId=t,this.vertId=n,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function d(e,i){var o,c,s=f(35632,e.fragId),l=f(35633,e.vertId),h=e.program=t.createProgram();t.attachShader(h,s),t.attachShader(h,l),t.linkProgram(h),_.linkError(t,h,n.str(e.fragId),n.str(e.vertId),i);var d=t.getProgramParameter(h,35718);r.profile&&(e.stats.uniformsCount=d);var p=e.uniforms;for(o=0;o<d;++o)if(c=t.getActiveUniform(h,o))if(c.size>1)for(var v=0;v<c.size;++v){var m=c.name.replace("[0]","["+v+"]");u(p,new a(m,n.id(m),t.getUniformLocation(h,m),c))}else u(p,new a(c.name,n.id(c.name),t.getUniformLocation(h,c.name),c));var g=t.getProgramParameter(h,35721);r.profile&&(e.stats.attributesCount=g);var y=e.attributes;for(o=0;o<g;++o)(c=t.getActiveAttrib(h,o))&&u(y,new a(c.name,n.id(c.name),t.getAttribLocation(h,c.name),c))}return r.profile&&(e.getMaxUniformsCount=function(){var t=0;return s.forEach((function(n){n.stats.uniformsCount>t&&(t=n.stats.uniformsCount)})),t},e.getMaxAttributesCount=function(){var t=0;return s.forEach((function(n){n.stats.attributesCount>t&&(t=n.stats.attributesCount)})),t}),{clear:function(){var n=t.deleteShader.bind(t);F(i).forEach(n),i={},F(o).forEach(n),o={},s.forEach((function(n){t.deleteProgram(n.program)})),s.length=0,c={},e.shaderCount=0},program:function(t,n,r){_.command(t>=0,"missing vertex shader",r),_.command(n>=0,"missing fragment shader",r);var i=c[n];i||(i=c[n]={});var o=i[t];return o||(o=new h(n,t),e.shaderCount++,d(o,r),i[t]=o,s.push(o)),o},restore:function(){i={},o={};for(var t=0;t<s.length;++t)d(s[t])},shader:f,frag:-1,vert:-1}}(i,s,l,r),A=wt(i,h,y,(function(){D.procs.poll()}),g,l,r),C=function(t,n,e,r,i){var o={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};n.ext_srgb&&(o.srgba=35907),n.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),n.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach((function(t){var n=o[t];a[n]=t}));var u=0,f={};function c(t){this.id=u++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function s(n){var e=n.renderbuffer;_(e,"must not double destroy renderbuffer"),t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(e),n.renderbuffer=null,n.refCount=0,delete f[n.id],r.renderbufferCount--}return c.prototype.decRef=function(){--this.refCount<=0&&s(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(f).forEach((function(n){t+=f[n].stats.size})),t}),{create:function(n,u){var s=new c(t.createRenderbuffer());function l(n,r){var u=0,f=0,c=32854;if("object"==typeof n&&n){var h=n;if("shape"in h){var d=h.shape;_(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),u=0|d[0],f=0|d[1]}else"radius"in h&&(u=f=0|h.radius),"width"in h&&(u=0|h.width),"height"in h&&(f=0|h.height);"format"in h&&(_.parameter(h.format,o,"invalid renderbuffer format"),c=o[h.format])}else"number"==typeof n?(u=0|n,f="number"==typeof r?0|r:u):n?_.raise("invalid arguments to renderbuffer constructor"):u=f=1;if(_(u>0&&f>0&&u<=e.maxRenderbufferSize&&f<=e.maxRenderbufferSize,"invalid renderbuffer size"),u!==s.width||f!==s.height||c!==s.format)return l.width=s.width=u,l.height=s.height=f,s.format=c,t.bindRenderbuffer(36161,s.renderbuffer),t.renderbufferStorage(36161,c,u,f),_(0===t.getError(),"invalid render buffer format"),i.profile&&(s.stats.size=Mt(s.format,s.width,s.height)),l.format=a[s.format],l}return f[s.id]=s,r.renderbufferCount++,l(n,u),l.resize=function(n,r){var o=0|n,a=0|r||o;return o===s.width&&a===s.height?l:(_(o>0&&a>0&&o<=e.maxRenderbufferSize&&a<=e.maxRenderbufferSize,"invalid renderbuffer size"),l.width=s.width=o,l.height=s.height=a,t.bindRenderbuffer(36161,s.renderbuffer),t.renderbufferStorage(36161,s.format,o,a),_(0===t.getError(),"invalid render buffer format"),i.profile&&(s.stats.size=Mt(s.format,s.width,s.height)),l)},l._reglType="renderbuffer",l._renderbuffer=s,i.profile&&(l.stats=s.stats),l.destroy=function(){s.decRef()},l},clear:function(){F(f).forEach(s)},restore:function(){F(f).forEach((function(n){n.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,n.renderbuffer),t.renderbufferStorage(36161,n.format,n.width,n.height)})),t.bindRenderbuffer(36161,null)}}}(i,h,y,l,r),E=function(t,e,r,i,o,a){var u={cur:null,next:null,dirty:!1,setFBO:null},f=["rgba"],c=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&c.push("srgba"),e.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&c.push("rgba32f");var s=["uint8"];function l(t,n,e){this.target=t,this.texture=n,this.renderbuffer=e;var r=0,i=0;n?(r=n.width,i=n.height):e&&(r=e.width,i=e.height),this.width=r,this.height=i}function h(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function d(t,n,e){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);_(i===n&&o===e,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;_(a.width===n&&a.height===e,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(n,e){e&&(e.texture?t.framebufferTexture2D(36160,n,e.target,e.texture._texture.texture,0):t.framebufferRenderbuffer(36160,n,36161,e.renderbuffer._renderbuffer.renderbuffer))}function v(t){var n=3553,e=null,r=null,i=t;"object"==typeof t&&(i=t.data,"target"in t&&(n=0|t.target)),_.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(e=i,_(3553===n)):"textureCube"===o?(e=i,_(n>=34069&&n<34075,"invalid cube map target")):"renderbuffer"===o?(r=i,n=36161):_.raise("invalid regl object for attachment"),new l(n,e,r)}function m(t,n,e,r,a){if(e){var u=i.create2D({width:t,height:n,format:r,type:a});return u._texture.refCount=0,new l(3553,u,null)}var f=o.create({width:t,height:n,format:r});return f._renderbuffer.refCount=0,new l(36161,null,f)}function g(t){return t&&(t.texture||t.renderbuffer)}function y(t,n,e){t&&(t.texture?t.texture.resize(n,e):t.renderbuffer&&t.renderbuffer.resize(n,e),t.width=n,t.height=e)}e.oes_texture_half_float&&s.push("half float","float16"),e.oes_texture_float&&s.push("float","float32");var b=0,w={};function x(){this.id=b++,w[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function M(t){t.colorAttachments.forEach(h),h(t.depthAttachment),h(t.stencilAttachment),h(t.depthStencilAttachment)}function A(n){var e=n.framebuffer;_(e,"must not double destroy framebuffer"),t.deleteFramebuffer(e),n.framebuffer=null,a.framebufferCount--,delete w[n.id]}function k(n){var e;t.bindFramebuffer(36160,n.framebuffer);var i=n.colorAttachments;for(e=0;e<i.length;++e)p(36064+e,i[e]);for(e=i.length;e<r.maxColorAttachments;++e)t.framebufferTexture2D(36160,36064+e,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),p(36096,n.depthAttachment),p(36128,n.stencilAttachment),p(33306,n.depthStencilAttachment);var o=t.checkFramebufferStatus(36160);t.isContextLost()||36053===o||_.raise("framebuffer configuration not supported, status = "+Ct[o]),t.bindFramebuffer(36160,u.next?u.next.framebuffer:null),u.cur=u.next,t.getError()}function S(t,i){var o=new x;function l(t,n){var i;_(u.next!==o,"can not update framebuffer which is currently in use");var a=0,h=0,p=!0,y=!0,b=null,w=!0,x="rgba",A="uint8",S=1,T=null,C=null,E=null,j=!1;if("number"==typeof t)a=0|t,h=0|n||a;else if(t){_.type(t,"object","invalid arguments for framebuffer");var D=t;if("shape"in D){var O=D.shape;_(Array.isArray(O)&&O.length>=2,"invalid shape for framebuffer"),a=O[0],h=O[1]}else"radius"in D&&(a=h=D.radius),"width"in D&&(a=D.width),"height"in D&&(h=D.height);("color"in D||"colors"in D)&&(b=D.color||D.colors,Array.isArray(b)&&_(1===b.length||e.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in D&&(S=0|D.colorCount,_(S>0,"invalid color buffer count")),"colorTexture"in D&&(w=!!D.colorTexture,x="rgba4"),"colorType"in D&&(A=D.colorType,w?(_(e.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),_(e.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(_(e.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==A&&"float32"!==A||(_(e.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),_.oneOf(A,s,"invalid color type")),"colorFormat"in D&&(x=D.colorFormat,f.indexOf(x)>=0?w=!0:c.indexOf(x)>=0?w=!1:w?_.oneOf(D.colorFormat,f,"invalid color format for texture"):_.oneOf(D.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in D||"depthStencilTexture"in D)&&(j=!(!D.depthTexture&&!D.depthStencilTexture),_(!j||e.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in D&&("boolean"==typeof D.depth?p=D.depth:(T=D.depth,y=!1)),"stencil"in D&&("boolean"==typeof D.stencil?y=D.stencil:(C=D.stencil,p=!1)),"depthStencil"in D&&("boolean"==typeof D.depthStencil?p=y=D.depthStencil:(E=D.depthStencil,p=!1,y=!1))}else a=h=1;var R=null,L=null,z=null,F=null;if(Array.isArray(b))R=b.map(v);else if(b)R=[v(b)];else for(R=new Array(S),i=0;i<S;++i)R[i]=m(a,h,w,x,A);_(e.webgl_draw_buffers||R.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),_(R.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||R[0].width,h=h||R[0].height,T?L=v(T):p&&!y&&(L=m(a,h,j,"depth","uint32")),C?z=v(C):y&&!p&&(z=m(a,h,!1,"stencil","uint8")),E?F=v(E):!T&&!C&&y&&p&&(F=m(a,h,j,"depth stencil","depth stencil")),_(!!T+!!C+!!E<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var P=null;for(i=0;i<R.length;++i)if(d(R[i],a,h),_(!R[i]||R[i].texture&&At.indexOf(R[i].texture._texture.format)>=0||R[i].renderbuffer&&Tt.indexOf(R[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),R[i]&&R[i].texture){var N=kt[R[i].texture._texture.format]*St[R[i].texture._texture.type];null===P?P=N:_(P===N,"all color attachments much have the same number of bits per pixel.")}return d(L,a,h),_(!L||L.texture&&6402===L.texture._texture.format||L.renderbuffer&&33189===L.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),d(z,a,h),_(!z||z.renderbuffer&&36168===z.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),d(F,a,h),_(!F||F.texture&&34041===F.texture._texture.format||F.renderbuffer&&34041===F.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),M(o),o.width=a,o.height=h,o.colorAttachments=R,o.depthAttachment=L,o.stencilAttachment=z,o.depthStencilAttachment=F,l.color=R.map(g),l.depth=g(L),l.stencil=g(z),l.depthStencil=g(F),l.width=o.width,l.height=o.height,k(o),l}return a.framebufferCount++,l(t,i),n(l,{resize:function(t,n){_(u.next!==o,"can not resize a framebuffer which is currently in use");var e=Math.max(0|t,1),r=Math.max(0|n||e,1);if(e===o.width&&r===o.height)return l;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],e,r);return y(o.depthAttachment,e,r),y(o.stencilAttachment,e,r),y(o.depthStencilAttachment,e,r),o.width=l.width=e,o.height=l.height=r,k(o),l},_reglType:"framebuffer",_framebuffer:o,destroy:function(){A(o),M(o)},use:function(t){u.setFBO({framebuffer:l},t)}})}return n(u,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var n=t._framebuffer;if(n instanceof x)return n}return null},create:S,createCube:function(t){var o=Array(6);function a(t){var r;_(o.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var c,l={color:null},h=0,d=null,p="rgba",v="uint8",m=1;if("number"==typeof t)h=0|t;else if(t){_.type(t,"object","invalid arguments for framebuffer");var g=t;if("shape"in g){var y=g.shape;_(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),_(y[0]===y[1],"cube framebuffer must be square"),h=y[0]}else"radius"in g&&(h=0|g.radius),"width"in g?(h=0|g.width,"height"in g&&_(g.height===h,"must be square")):"height"in g&&(h=0|g.height);("color"in g||"colors"in g)&&(d=g.color||g.colors,Array.isArray(d)&&_(1===d.length||e.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in g&&(m=0|g.colorCount,_(m>0,"invalid color buffer count")),"colorType"in g&&(_.oneOf(g.colorType,s,"invalid color type"),v=g.colorType),"colorFormat"in g&&(p=g.colorFormat,_.oneOf(g.colorFormat,f,"invalid color format for texture"))),"depth"in g&&(l.depth=g.depth),"stencil"in g&&(l.stencil=g.stencil),"depthStencil"in g&&(l.depthStencil=g.depthStencil)}else h=1;if(d)if(Array.isArray(d))for(c=[],r=0;r<d.length;++r)c[r]=d[r];else c=[d];else{c=Array(m);var b={radius:h,format:p,type:v};for(r=0;r<m;++r)c[r]=i.createCube(b)}for(l.color=Array(c.length),r=0;r<c.length;++r){var w=c[r];_("function"==typeof w&&"textureCube"===w._reglType,"invalid cube map"),h=h||w.width,_(w.width===h&&w.height===h,"invalid cube map shape"),l.color[r]={target:34069,data:c[r]}}for(r=0;r<6;++r){for(var x=0;x<c.length;++x)l.color[x].target=34069+r;r>0&&(l.depth=o[0].depth,l.stencil=o[0].stencil,l.depthStencil=o[0].depthStencil),o[r]?o[r](l):o[r]=S(l)}return n(a,{width:h,height:h,color:c})}return a(t),n(a,{faces:o,resize:function(t){var n,e=0|t;if(_(e>0&&e<=r.maxCubeMapSize,"invalid radius for cube fbo"),e===a.width)return a;var i=a.color;for(n=0;n<i.length;++n)i[n].resize(e);for(n=0;n<6;++n)o[n].resize(e);return a.width=a.height=e,a},_reglType:"framebufferCube",destroy:function(){o.forEach((function(t){t.destroy()}))}})},clear:function(){F(w).forEach(A)},restore:function(){u.cur=null,u.next=null,u.dirty=!0,F(w).forEach((function(n){n.framebuffer=t.createFramebuffer(),k(n)}))}})}(i,h,y,A,C,l),D=an(i,s,h,y,w,x,0,E,{},b,M,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,d,r),O=jt(i,E,D.procs.poll,g,o,h,y),R=D.next,P=i.canvas,N=[],U=[],X=[],Z=[r.onDestroy],Q=null;function K(){if(0===N.length)return d&&d.update(),void(Q=null);Q=S.next(K),ft();for(var t=N.length-1;t>=0;--t){var n=N[t];n&&n(g,null,0)}i.flush(),d&&d.update()}function J(){!Q&&N.length>0&&(Q=S.next(K))}function tt(){Q&&(S.cancel(K),Q=null)}function nt(t){t.preventDefault(),a=!0,tt(),U.forEach((function(t){t()}))}function et(t){i.getError(),a=!1,u.restore(),M.restore(),w.restore(),A.restore(),C.restore(),E.restore(),d&&d.restore(),D.procs.refresh(),J(),X.forEach((function(t){t()}))}function rt(t){function e(t){var n={},e={};return Object.keys(t).forEach((function(r){var i=t[r];k.isDynamic(i)?e[r]=k.unbox(i,r):n[r]=i})),{dynamic:e,static:n}}_(!!t,"invalid args to regl({...})"),_.type(t,"object","invalid args to regl({...})");var r=e(t.context||{}),i=e(t.uniforms||{}),o=e(t.attributes||{}),u=e(function(t){var e=n({},t);function r(t){if(t in e){var n=e[t];delete e[t],Object.keys(n).forEach((function(r){e[t+"."+r]=n[r]}))}}return delete e.uniforms,delete e.attributes,delete e.context,"stencil"in e&&e.stencil.op&&(e.stencil.opBack=e.stencil.opFront=e.stencil.op,delete e.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),e}(t)),f={gpuTime:0,cpuTime:0,count:0},c=D.compile(u,o,i,r,f),s=c.draw,l=c.batch,h=c.scope,d=[];return n((function(t,n){var e;if(a&&_.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof n){if("number"==typeof t){for(e=0;e<t;++e)h.call(this,null,n,e);return}if(Array.isArray(t)){for(e=0;e<t.length;++e)h.call(this,t[e],n,e);return}return h.call(this,t,n,0)}if("number"==typeof t){if(t>0)return l.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return s.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:f})}P&&(P.addEventListener("webglcontextlost",nt,!1),P.addEventListener("webglcontextrestored",et,!1));var it=E.setFBO=rt({framebuffer:k.define.call(null,1,"framebuffer")});function ot(t,n){var e=0;D.procs.poll();var r=n.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),e|=16384),"depth"in n&&(i.clearDepth(+n.depth),e|=256),"stencil"in n&&(i.clearStencil(0|n.stencil),e|=1024),_(!!e,"called regl.clear with no buffer specified"),i.clear(e)}function at(t){return _.type(t,"function","regl.frame() callback must be a function"),N.push(t),J(),{cancel:function(){var n=fn(N,t);_(n>=0,"cannot cancel a frame twice"),N[n]=function t(){var n=fn(N,t);N[n]=N[N.length-1],N.length-=1,N.length<=0&&tt()}}}}function ut(){var t=R.viewport,n=R.scissor_box;t[0]=t[1]=n[0]=n[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=t[2]=n[2]=i.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=t[3]=n[3]=i.drawingBufferHeight}function ft(){g.tick+=1,g.time=st(),ut(),D.procs.poll()}function ct(){ut(),D.procs.refresh(),d&&d.update()}function st(){return(T()-p)/1e3}ct();var lt=n(rt,{clear:function(t){if(_("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)it(n({framebuffer:t.framebuffer.faces[e]},t),ot);else it(t,ot);else ot(0,t)},prop:k.define.bind(null,1),context:k.define.bind(null,2),this:k.define.bind(null,3),draw:rt({}),buffer:function(t){return w.create(t,34962,!1,!1)},elements:function(t){return x.create(t,!1)},texture:A.create2D,cube:A.createCube,renderbuffer:C.create,framebuffer:E.create,framebufferCube:E.createCube,attributes:o,frame:at,on:function(t,n){var e;switch(_.type(n,"function","listener callback must be a function"),t){case"frame":return at(n);case"lost":e=U;break;case"restore":e=X;break;case"destroy":e=Z;break;default:_.raise("invalid event, must be one of frame,lost,restore,destroy")}return e.push(n),{cancel:function(){for(var t=0;t<e.length;++t)if(e[t]===n)return e[t]=e[e.length-1],void e.pop()}}},limits:y,hasExtension:function(t){return y.extensions.indexOf(t.toLowerCase())>=0},read:O,destroy:function(){N.length=0,tt(),P&&(P.removeEventListener("webglcontextlost",nt),P.removeEventListener("webglcontextrestored",et)),M.clear(),E.clear(),C.clear(),A.clear(),x.clear(),w.clear(),d&&d.clear(),Z.forEach((function(t){t()}))},_gl:i,_refresh:ct,poll:function(){ft(),d&&d.update()},now:st,stats:l});return r.onDone(null,lt),lt}}()},84:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},85:function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},86:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"create",(function(){return s})),e.d(r,"clone",(function(){return l})),e.d(r,"copy",(function(){return h})),e.d(r,"fromValues",(function(){return d})),e.d(r,"set",(function(){return p})),e.d(r,"identity",(function(){return v})),e.d(r,"transpose",(function(){return m})),e.d(r,"invert",(function(){return g})),e.d(r,"adjoint",(function(){return y})),e.d(r,"determinant",(function(){return b})),e.d(r,"multiply",(function(){return w})),e.d(r,"translate",(function(){return x})),e.d(r,"scale",(function(){return M})),e.d(r,"rotate",(function(){return A})),e.d(r,"rotateX",(function(){return k})),e.d(r,"rotateY",(function(){return S})),e.d(r,"rotateZ",(function(){return T})),e.d(r,"fromTranslation",(function(){return C})),e.d(r,"fromScaling",(function(){return E})),e.d(r,"fromRotation",(function(){return j})),e.d(r,"fromXRotation",(function(){return D})),e.d(r,"fromYRotation",(function(){return O})),e.d(r,"fromZRotation",(function(){return R})),e.d(r,"fromRotationTranslation",(function(){return L})),e.d(r,"fromQuat2",(function(){return z})),e.d(r,"getTranslation",(function(){return F})),e.d(r,"getScaling",(function(){return P})),e.d(r,"getRotation",(function(){return N})),e.d(r,"fromRotationTranslationScale",(function(){return U})),e.d(r,"fromRotationTranslationScaleOrigin",(function(){return I})),e.d(r,"fromQuat",(function(){return B})),e.d(r,"frustum",(function(){return q})),e.d(r,"perspective",(function(){return W})),e.d(r,"perspectiveFromFieldOfView",(function(){return H})),e.d(r,"ortho",(function(){return Y})),e.d(r,"lookAt",(function(){return V})),e.d(r,"targetTo",(function(){return $})),e.d(r,"str",(function(){return G})),e.d(r,"frob",(function(){return X})),e.d(r,"add",(function(){return Z})),e.d(r,"subtract",(function(){return Q})),e.d(r,"multiplyScalar",(function(){return K})),e.d(r,"multiplyScalarAndAdd",(function(){return J})),e.d(r,"exactEquals",(function(){return tt})),e.d(r,"equals",(function(){return nt})),e.d(r,"mul",(function(){return et})),e.d(r,"sub",(function(){return rt}));var i={};e.r(i),e.d(i,"create",(function(){return it})),e.d(i,"clone",(function(){return ot})),e.d(i,"fromValues",(function(){return at})),e.d(i,"copy",(function(){return ut})),e.d(i,"set",(function(){return ft})),e.d(i,"add",(function(){return ct})),e.d(i,"subtract",(function(){return st})),e.d(i,"multiply",(function(){return lt})),e.d(i,"divide",(function(){return ht})),e.d(i,"ceil",(function(){return dt})),e.d(i,"floor",(function(){return pt})),e.d(i,"min",(function(){return vt})),e.d(i,"max",(function(){return mt})),e.d(i,"round",(function(){return gt})),e.d(i,"scale",(function(){return yt})),e.d(i,"scaleAndAdd",(function(){return bt})),e.d(i,"distance",(function(){return _t})),e.d(i,"squaredDistance",(function(){return wt})),e.d(i,"length",(function(){return xt})),e.d(i,"squaredLength",(function(){return Mt})),e.d(i,"negate",(function(){return At})),e.d(i,"inverse",(function(){return kt})),e.d(i,"normalize",(function(){return St})),e.d(i,"dot",(function(){return Tt})),e.d(i,"cross",(function(){return Ct})),e.d(i,"lerp",(function(){return Et})),e.d(i,"random",(function(){return jt})),e.d(i,"transformMat4",(function(){return Dt})),e.d(i,"transformQuat",(function(){return Ot})),e.d(i,"zero",(function(){return Rt})),e.d(i,"str",(function(){return Lt})),e.d(i,"exactEquals",(function(){return zt})),e.d(i,"equals",(function(){return Ft})),e.d(i,"sub",(function(){return Nt})),e.d(i,"mul",(function(){return Ut})),e.d(i,"div",(function(){return It})),e.d(i,"dist",(function(){return Bt})),e.d(i,"sqrDist",(function(){return qt})),e.d(i,"len",(function(){return Wt})),e.d(i,"sqrLen",(function(){return Ht})),e.d(i,"forEach",(function(){return Yt}));var o={};e.r(o),e.d(o,"create",(function(){return Zt})),e.d(o,"clone",(function(){return Qt})),e.d(o,"fromValues",(function(){return Kt})),e.d(o,"copy",(function(){return Jt})),e.d(o,"set",(function(){return tn})),e.d(o,"add",(function(){return nn})),e.d(o,"subtract",(function(){return en})),e.d(o,"multiply",(function(){return rn})),e.d(o,"divide",(function(){return on})),e.d(o,"ceil",(function(){return an})),e.d(o,"floor",(function(){return un})),e.d(o,"min",(function(){return fn})),e.d(o,"max",(function(){return cn})),e.d(o,"round",(function(){return sn})),e.d(o,"scale",(function(){return ln})),e.d(o,"scaleAndAdd",(function(){return hn})),e.d(o,"distance",(function(){return dn})),e.d(o,"squaredDistance",(function(){return pn})),e.d(o,"length",(function(){return vn})),e.d(o,"squaredLength",(function(){return mn})),e.d(o,"negate",(function(){return gn})),e.d(o,"inverse",(function(){return yn})),e.d(o,"normalize",(function(){return bn})),e.d(o,"dot",(function(){return _n})),e.d(o,"cross",(function(){return wn})),e.d(o,"lerp",(function(){return xn})),e.d(o,"random",(function(){return Mn})),e.d(o,"transformMat2",(function(){return An})),e.d(o,"transformMat2d",(function(){return kn})),e.d(o,"transformMat3",(function(){return Sn})),e.d(o,"transformMat4",(function(){return Tn})),e.d(o,"rotate",(function(){return Cn})),e.d(o,"angle",(function(){return En})),e.d(o,"zero",(function(){return jn})),e.d(o,"str",(function(){return Dn})),e.d(o,"exactEquals",(function(){return On})),e.d(o,"equals",(function(){return Rn})),e.d(o,"len",(function(){return Ln})),e.d(o,"sub",(function(){return zn})),e.d(o,"mul",(function(){return Fn})),e.d(o,"div",(function(){return Pn})),e.d(o,"dist",(function(){return Nn})),e.d(o,"sqrDist",(function(){return Un})),e.d(o,"sqrLen",(function(){return In})),e.d(o,"forEach",(function(){return Bn}));var a={};e.r(a),e.d(a,"create",(function(){return Jn})),e.d(a,"clone",(function(){return te})),e.d(a,"copy",(function(){return ne})),e.d(a,"fromValues",(function(){return ee})),e.d(a,"set",(function(){return re})),e.d(a,"identity",(function(){return ie})),e.d(a,"transpose",(function(){return oe})),e.d(a,"invert",(function(){return ae})),e.d(a,"adjoint",(function(){return ue})),e.d(a,"determinant",(function(){return fe})),e.d(a,"multiply",(function(){return ce})),e.d(a,"translate",(function(){return se})),e.d(a,"scale",(function(){return le})),e.d(a,"rotate",(function(){return he})),e.d(a,"rotateX",(function(){return de})),e.d(a,"rotateY",(function(){return pe})),e.d(a,"rotateZ",(function(){return ve})),e.d(a,"fromTranslation",(function(){return me})),e.d(a,"fromScaling",(function(){return ge})),e.d(a,"fromRotation",(function(){return ye})),e.d(a,"fromXRotation",(function(){return be})),e.d(a,"fromYRotation",(function(){return _e})),e.d(a,"fromZRotation",(function(){return we})),e.d(a,"fromRotationTranslation",(function(){return xe})),e.d(a,"fromQuat2",(function(){return Me})),e.d(a,"getTranslation",(function(){return Ae})),e.d(a,"getScaling",(function(){return ke})),e.d(a,"getRotation",(function(){return Se})),e.d(a,"fromRotationTranslationScale",(function(){return Te})),e.d(a,"fromRotationTranslationScaleOrigin",(function(){return Ce})),e.d(a,"fromQuat",(function(){return Ee})),e.d(a,"frustum",(function(){return je})),e.d(a,"perspective",(function(){return De})),e.d(a,"perspectiveFromFieldOfView",(function(){return Oe})),e.d(a,"ortho",(function(){return Re})),e.d(a,"lookAt",(function(){return Le})),e.d(a,"targetTo",(function(){return ze})),e.d(a,"str",(function(){return Fe})),e.d(a,"frob",(function(){return Pe})),e.d(a,"add",(function(){return Ne})),e.d(a,"subtract",(function(){return Ue})),e.d(a,"multiplyScalar",(function(){return Ie})),e.d(a,"multiplyScalarAndAdd",(function(){return Be})),e.d(a,"exactEquals",(function(){return qe})),e.d(a,"equals",(function(){return We})),e.d(a,"mul",(function(){return He})),e.d(a,"sub",(function(){return Ye}));var u={};e.r(u),e.d(u,"create",(function(){return Ve})),e.d(u,"clone",(function(){return $e})),e.d(u,"fromValues",(function(){return Ge})),e.d(u,"copy",(function(){return Xe})),e.d(u,"set",(function(){return Ze})),e.d(u,"add",(function(){return Qe})),e.d(u,"subtract",(function(){return Ke})),e.d(u,"multiply",(function(){return Je})),e.d(u,"divide",(function(){return tr})),e.d(u,"ceil",(function(){return nr})),e.d(u,"floor",(function(){return er})),e.d(u,"min",(function(){return rr})),e.d(u,"max",(function(){return ir})),e.d(u,"round",(function(){return or})),e.d(u,"scale",(function(){return ar})),e.d(u,"scaleAndAdd",(function(){return ur})),e.d(u,"distance",(function(){return fr})),e.d(u,"squaredDistance",(function(){return cr})),e.d(u,"length",(function(){return sr})),e.d(u,"squaredLength",(function(){return lr})),e.d(u,"negate",(function(){return hr})),e.d(u,"inverse",(function(){return dr})),e.d(u,"normalize",(function(){return pr})),e.d(u,"dot",(function(){return vr})),e.d(u,"lerp",(function(){return mr})),e.d(u,"random",(function(){return gr})),e.d(u,"transformMat4",(function(){return yr})),e.d(u,"transformQuat",(function(){return br})),e.d(u,"str",(function(){return _r})),e.d(u,"exactEquals",(function(){return wr})),e.d(u,"equals",(function(){return xr})),e.d(u,"sub",(function(){return Mr})),e.d(u,"mul",(function(){return Ar})),e.d(u,"div",(function(){return kr})),e.d(u,"dist",(function(){return Sr})),e.d(u,"sqrDist",(function(){return Tr})),e.d(u,"len",(function(){return Cr})),e.d(u,"sqrLen",(function(){return Er})),e.d(u,"forEach",(function(){return jr}));var f="undefined"!=typeof Float32Array?Float32Array:Array,c=Math.random;Math.PI;function s(){var t=new f(16);return f!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function l(t){var n=new f(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function h(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function d(t,n,e,r,i,o,a,u,c,s,l,h,d,p,v,m){var g=new f(16);return g[0]=t,g[1]=n,g[2]=e,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=u,g[8]=c,g[9]=s,g[10]=l,g[11]=h,g[12]=d,g[13]=p,g[14]=v,g[15]=m,g}function p(t,n,e,r,i,o,a,u,f,c,s,l,h,d,p,v,m){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=f,t[8]=c,t[9]=s,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function v(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function m(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function g(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15],y=e*u-r*a,b=e*f-i*a,_=e*c-o*a,w=r*f-i*u,x=r*c-o*u,M=i*c-o*f,A=s*v-l*p,k=s*m-h*p,S=s*g-d*p,T=l*m-h*v,C=l*g-d*v,E=h*g-d*m,j=y*E-b*C+_*T+w*S-x*k+M*A;return j?(j=1/j,t[0]=(u*E-f*C+c*T)*j,t[1]=(i*C-r*E-o*T)*j,t[2]=(v*M-m*x+g*w)*j,t[3]=(h*x-l*M-d*w)*j,t[4]=(f*S-a*E-c*k)*j,t[5]=(e*E-i*S+o*k)*j,t[6]=(m*_-p*M-g*b)*j,t[7]=(s*M-h*_+d*b)*j,t[8]=(a*C-u*S+c*A)*j,t[9]=(r*S-e*C-o*A)*j,t[10]=(p*x-v*_+g*y)*j,t[11]=(l*_-s*x-d*y)*j,t[12]=(u*k-a*T-f*A)*j,t[13]=(e*T-r*k+i*A)*j,t[14]=(v*b-p*w-m*y)*j,t[15]=(s*w-l*b+h*y)*j,t):null}function y(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15];return t[0]=u*(h*g-d*m)-l*(f*g-c*m)+v*(f*d-c*h),t[1]=-(r*(h*g-d*m)-l*(i*g-o*m)+v*(i*d-o*h)),t[2]=r*(f*g-c*m)-u*(i*g-o*m)+v*(i*c-o*f),t[3]=-(r*(f*d-c*h)-u*(i*d-o*h)+l*(i*c-o*f)),t[4]=-(a*(h*g-d*m)-s*(f*g-c*m)+p*(f*d-c*h)),t[5]=e*(h*g-d*m)-s*(i*g-o*m)+p*(i*d-o*h),t[6]=-(e*(f*g-c*m)-a*(i*g-o*m)+p*(i*c-o*f)),t[7]=e*(f*d-c*h)-a*(i*d-o*h)+s*(i*c-o*f),t[8]=a*(l*g-d*v)-s*(u*g-c*v)+p*(u*d-c*l),t[9]=-(e*(l*g-d*v)-s*(r*g-o*v)+p*(r*d-o*l)),t[10]=e*(u*g-c*v)-a*(r*g-o*v)+p*(r*c-o*u),t[11]=-(e*(u*d-c*l)-a*(r*d-o*l)+s*(r*c-o*u)),t[12]=-(a*(l*m-h*v)-s*(u*m-f*v)+p*(u*h-f*l)),t[13]=e*(l*m-h*v)-s*(r*m-i*v)+p*(r*h-i*l),t[14]=-(e*(u*m-f*v)-a*(r*m-i*v)+p*(r*f-i*u)),t[15]=e*(u*h-f*l)-a*(r*h-i*l)+s*(r*f-i*u),t}function b(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],f=t[7],c=t[8],s=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15];return(n*a-e*o)*(l*m-h*v)-(n*u-r*o)*(s*m-h*p)+(n*f-i*o)*(s*v-l*p)+(e*u-r*a)*(c*m-h*d)-(e*f-i*a)*(c*v-l*d)+(r*f-i*u)*(c*p-s*d)}function w(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15],b=e[0],_=e[1],w=e[2],x=e[3];return t[0]=b*r+_*u+w*l+x*v,t[1]=b*i+_*f+w*h+x*m,t[2]=b*o+_*c+w*d+x*g,t[3]=b*a+_*s+w*p+x*y,b=e[4],_=e[5],w=e[6],x=e[7],t[4]=b*r+_*u+w*l+x*v,t[5]=b*i+_*f+w*h+x*m,t[6]=b*o+_*c+w*d+x*g,t[7]=b*a+_*s+w*p+x*y,b=e[8],_=e[9],w=e[10],x=e[11],t[8]=b*r+_*u+w*l+x*v,t[9]=b*i+_*f+w*h+x*m,t[10]=b*o+_*c+w*d+x*g,t[11]=b*a+_*s+w*p+x*y,b=e[12],_=e[13],w=e[14],x=e[15],t[12]=b*r+_*u+w*l+x*v,t[13]=b*i+_*f+w*h+x*m,t[14]=b*o+_*c+w*d+x*g,t[15]=b*a+_*s+w*p+x*y,t}function x(t,n,e){var r,i,o,a,u,f,c,s,l,h,d,p,v=e[0],m=e[1],g=e[2];return n===t?(t[12]=n[0]*v+n[4]*m+n[8]*g+n[12],t[13]=n[1]*v+n[5]*m+n[9]*g+n[13],t[14]=n[2]*v+n[6]*m+n[10]*g+n[14],t[15]=n[3]*v+n[7]*m+n[11]*g+n[15]):(r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=n[9],d=n[10],p=n[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=f,t[6]=c,t[7]=s,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+u*m+l*g+n[12],t[13]=i*v+f*m+h*g+n[13],t[14]=o*v+c*m+d*g+n[14],t[15]=a*v+s*m+p*g+n[15]),t}function M(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function A(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p,v,m,g,y,b,_,w,x,M,A,k,S,T,C=r[0],E=r[1],j=r[2],D=Math.hypot(C,E,j);return D<1e-6?null:(C*=D=1/D,E*=D,j*=D,i=Math.sin(e),a=1-(o=Math.cos(e)),u=n[0],f=n[1],c=n[2],s=n[3],l=n[4],h=n[5],d=n[6],p=n[7],v=n[8],m=n[9],g=n[10],y=n[11],b=C*C*a+o,_=E*C*a+j*i,w=j*C*a-E*i,x=C*E*a-j*i,M=E*E*a+o,A=j*E*a+C*i,k=C*j*a+E*i,S=E*j*a-C*i,T=j*j*a+o,t[0]=u*b+l*_+v*w,t[1]=f*b+h*_+m*w,t[2]=c*b+d*_+g*w,t[3]=s*b+p*_+y*w,t[4]=u*x+l*M+v*A,t[5]=f*x+h*M+m*A,t[6]=c*x+d*M+g*A,t[7]=s*x+p*M+y*A,t[8]=u*k+l*S+v*T,t[9]=f*k+h*S+m*T,t[10]=c*k+d*S+g*T,t[11]=s*k+p*S+y*T,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function k(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],u=n[6],f=n[7],c=n[8],s=n[9],l=n[10],h=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*r,t[5]=a*i+s*r,t[6]=u*i+l*r,t[7]=f*i+h*r,t[8]=c*i-o*r,t[9]=s*i-a*r,t[10]=l*i-u*r,t[11]=h*i-f*r,t}function S(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],c=n[8],s=n[9],l=n[10],h=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*r,t[1]=a*i-s*r,t[2]=u*i-l*r,t[3]=f*i-h*r,t[8]=o*r+c*i,t[9]=a*r+s*i,t[10]=u*r+l*i,t[11]=f*r+h*i,t}function T(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],c=n[4],s=n[5],l=n[6],h=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*r,t[1]=a*i+s*r,t[2]=u*i+l*r,t[3]=f*i+h*r,t[4]=c*i-o*r,t[5]=s*i-a*r,t[6]=l*i-u*r,t[7]=h*i-f*r,t}function C(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function E(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function j(t,n,e){var r,i,o,a=e[0],u=e[1],f=e[2],c=Math.hypot(a,u,f);return c<1e-6?null:(a*=c=1/c,u*=c,f*=c,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+f*r,t[2]=f*a*o-u*r,t[3]=0,t[4]=a*u*o-f*r,t[5]=u*u*o+i,t[6]=f*u*o+a*r,t[7]=0,t[8]=a*f*o+u*r,t[9]=u*f*o-a*r,t[10]=f*f*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function D(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=r+r,f=i+i,c=o+o,s=r*u,l=r*f,h=r*c,d=i*f,p=i*c,v=o*c,m=a*u,g=a*f,y=a*c;return t[0]=1-(d+v),t[1]=l+y,t[2]=h-g,t[3]=0,t[4]=l-y,t[5]=1-(s+v),t[6]=p+m,t[7]=0,t[8]=h+g,t[9]=p-m,t[10]=1-(s+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function z(t,n){var e=new f(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],c=n[5],s=n[6],l=n[7],h=r*r+i*i+o*o+a*a;return h>0?(e[0]=2*(u*a+l*r+c*o-s*i)/h,e[1]=2*(c*a+l*i+s*r-u*o)/h,e[2]=2*(s*a+l*o+u*i-c*r)/h):(e[0]=2*(u*a+l*r+c*o-s*i),e[1]=2*(c*a+l*i+s*r-u*o),e[2]=2*(s*a+l*o+u*i-c*r)),L(t,n,e),t}function F(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function P(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],u=n[6],f=n[8],c=n[9],s=n[10];return t[0]=Math.hypot(e,r,i),t[1]=Math.hypot(o,a,u),t[2]=Math.hypot(f,c,s),t}function N(t,n){var e=new f(3);P(e,n);var r=1/e[0],i=1/e[1],o=1/e[2],a=n[0]*r,u=n[1]*i,c=n[2]*o,s=n[4]*r,l=n[5]*i,h=n[6]*o,d=n[8]*r,p=n[9]*i,v=n[10]*o,m=a+l+v,g=0;return m>0?(g=2*Math.sqrt(m+1),t[3]=.25*g,t[0]=(h-p)/g,t[1]=(d-c)/g,t[2]=(u-s)/g):a>l&&a>v?(g=2*Math.sqrt(1+a-l-v),t[3]=(h-p)/g,t[0]=.25*g,t[1]=(u+s)/g,t[2]=(d+c)/g):l>v?(g=2*Math.sqrt(1+l-a-v),t[3]=(d-c)/g,t[0]=(u+s)/g,t[1]=.25*g,t[2]=(h+p)/g):(g=2*Math.sqrt(1+v-a-l),t[3]=(u-s)/g,t[0]=(d+c)/g,t[1]=(h+p)/g,t[2]=.25*g),t}function U(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],f=i+i,c=o+o,s=a+a,l=i*f,h=i*c,d=i*s,p=o*c,v=o*s,m=a*s,g=u*f,y=u*c,b=u*s,_=r[0],w=r[1],x=r[2];return t[0]=(1-(p+m))*_,t[1]=(h+b)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(l+m))*w,t[6]=(v+g)*w,t[7]=0,t[8]=(d+y)*x,t[9]=(v-g)*x,t[10]=(1-(l+p))*x,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function I(t,n,e,r,i){var o=n[0],a=n[1],u=n[2],f=n[3],c=o+o,s=a+a,l=u+u,h=o*c,d=o*s,p=o*l,v=a*s,m=a*l,g=u*l,y=f*c,b=f*s,_=f*l,w=r[0],x=r[1],M=r[2],A=i[0],k=i[1],S=i[2],T=(1-(v+g))*w,C=(d+_)*w,E=(p-b)*w,j=(d-_)*x,D=(1-(h+g))*x,O=(m+y)*x,R=(p+b)*M,L=(m-y)*M,z=(1-(h+v))*M;return t[0]=T,t[1]=C,t[2]=E,t[3]=0,t[4]=j,t[5]=D,t[6]=O,t[7]=0,t[8]=R,t[9]=L,t[10]=z,t[11]=0,t[12]=e[0]+A-(T*A+j*k+R*S),t[13]=e[1]+k-(C*A+D*k+L*S),t[14]=e[2]+S-(E*A+O*k+z*S),t[15]=1,t}function B(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,f=i+i,c=e*a,s=r*a,l=r*u,h=i*a,d=i*u,p=i*f,v=o*a,m=o*u,g=o*f;return t[0]=1-l-p,t[1]=s+g,t[2]=h-m,t[3]=0,t[4]=s-g,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,n,e,r,i,o,a){var u=1/(e-n),f=1/(i-r),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*f,t[6]=0,t[7]=0,t[8]=(e+n)*u,t[9]=(i+r)*f,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function W(t,n,e,r,i){var o,a=1/Math.tan(n/2);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function H(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),f=2/(a+u),c=2/(i+o);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*f*.5,t[9]=(i-o)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function Y(t,n,e,r,i,o,a){var u=1/(n-e),f=1/(r-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*u,t[13]=(i+r)*f,t[14]=(a+o)*c,t[15]=1,t}function V(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p=n[0],m=n[1],g=n[2],y=r[0],b=r[1],_=r[2],w=e[0],x=e[1],M=e[2];return Math.abs(p-w)<1e-6&&Math.abs(m-x)<1e-6&&Math.abs(g-M)<1e-6?v(t):(s=p-w,l=m-x,h=g-M,i=b*(h*=d=1/Math.hypot(s,l,h))-_*(l*=d),o=_*(s*=d)-y*h,a=y*l-b*s,(d=Math.hypot(i,o,a))?(i*=d=1/d,o*=d,a*=d):(i=0,o=0,a=0),u=l*a-h*o,f=h*i-s*a,c=s*o-l*i,(d=Math.hypot(u,f,c))?(u*=d=1/d,f*=d,c*=d):(u=0,f=0,c=0),t[0]=i,t[1]=u,t[2]=s,t[3]=0,t[4]=o,t[5]=f,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*p+o*m+a*g),t[13]=-(u*p+f*m+c*g),t[14]=-(s*p+l*m+h*g),t[15]=1,t)}function $(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=r[0],f=r[1],c=r[2],s=i-e[0],l=o-e[1],h=a-e[2],d=s*s+l*l+h*h;d>0&&(s*=d=1/Math.sqrt(d),l*=d,h*=d);var p=f*h-c*l,v=c*s-u*h,m=u*l-f*s;return(d=p*p+v*v+m*m)>0&&(p*=d=1/Math.sqrt(d),v*=d,m*=d),t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-h*v,t[5]=h*p-s*m,t[6]=s*v-l*p,t[7]=0,t[8]=s,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function G(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function X(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Z(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function Q(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function K(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function J(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function tt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function nt(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=t[6],c=t[7],s=t[8],l=t[9],h=t[10],d=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=n[0],b=n[1],_=n[2],w=n[3],x=n[4],M=n[5],A=n[6],k=n[7],S=n[8],T=n[9],C=n[10],E=n[11],j=n[12],D=n[13],O=n[14],R=n[15];return Math.abs(e-y)<=1e-6*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(r-b)<=1e-6*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=1e-6*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=1e-6*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=1e-6*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-M)<=1e-6*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(f-A)<=1e-6*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(c-k)<=1e-6*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(s-S)<=1e-6*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-T)<=1e-6*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-C)<=1e-6*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(d-E)<=1e-6*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-j)<=1e-6*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(v-D)<=1e-6*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(m-O)<=1e-6*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(g-R)<=1e-6*Math.max(1,Math.abs(g),Math.abs(R))}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var et=w,rt=Q;function it(){var t=new f(4);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function ot(t){var n=new f(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function at(t,n,e,r){var i=new f(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function ut(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function ft(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function ct(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function st(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function lt(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function ht(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function dt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function pt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function vt(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function mt(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function gt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function yt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function bt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function _t(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.hypot(e,r,i,o)}function wt(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function xt(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.hypot(n,e,r,i)}function Mt(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function At(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function kt(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function St(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function Tt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Ct(t,n,e,r){var i=e[0]*r[1]-e[1]*r[0],o=e[0]*r[2]-e[2]*r[0],a=e[0]*r[3]-e[3]*r[0],u=e[1]*r[2]-e[2]*r[1],f=e[1]*r[3]-e[3]*r[1],c=e[2]*r[3]-e[3]*r[2],s=n[0],l=n[1],h=n[2],d=n[3];return t[0]=l*c-h*f+d*u,t[1]=-s*c+h*a-d*o,t[2]=s*f-l*a+d*i,t[3]=-s*u+l*o-h*i,t}function Et(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t[3]=u+r*(e[3]-u),t}function jt(t,n){var e,r,i,o,a,u;n=n||1;do{a=(e=2*c()-1)*e+(r=2*c()-1)*r}while(a>=1);do{u=(i=2*c()-1)*i+(o=2*c()-1)*o}while(u>=1);var f=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*r,t[2]=n*i*f,t[3]=n*o*f,t}function Dt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*a,t}function Ot(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],f=e[2],c=e[3],s=c*r+u*o-f*i,l=c*i+f*r-a*o,h=c*o+a*i-u*r,d=-a*r-u*i-f*o;return t[0]=s*c+d*-a+l*-f-h*-u,t[1]=l*c+d*-u+h*-a-s*-f,t[2]=h*c+d*-f+s*-u-l*-a,t[3]=n[3],t}function Rt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Lt(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function zt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function Ft(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],f=n[2],c=n[3];return Math.abs(e-a)<=1e-6*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=1e-6*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-f)<=1e-6*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-c)<=1e-6*Math.max(1,Math.abs(o),Math.abs(c))}var Pt,Nt=st,Ut=lt,It=ht,Bt=_t,qt=wt,Wt=xt,Ht=Mt,Yt=(Pt=it(),function(t,n,e,r,i,o){var a,u;for(n||(n=4),e||(e=0),u=r?Math.min(r*n+e,t.length):t.length,a=e;a<u;a+=n)Pt[0]=t[a],Pt[1]=t[a+1],Pt[2]=t[a+2],Pt[3]=t[a+3],i(Pt,Pt,o),t[a]=Pt[0],t[a+1]=Pt[1],t[a+2]=Pt[2],t[a+3]=Pt[3];return t});const Vt=[0,0,0,1];var $t=(t=[0,0],n=1,e=0)=>{const o=new Float32Array(16),a=new Float32Array(16),u=new Float32Array(16);let f=r.create();const c=()=>r.getScaling(o,f)[0],s=([t=0,n=0]=[],e=1,i=0)=>{f=r.create(),l([-t,-n]),d(i),h(1/e)},l=([t=0,n=0]=[])=>{o[0]=t,o[1]=n,o[2]=0;const e=r.fromTranslation(a,o);r.multiply(f,e,f)},h=(t,n)=>{if(t<=0)return;o[0]=t,o[1]=t,o[2]=1;const e=r.fromScaling(a,o),i=n?[...n,0]:Vt,c=r.fromTranslation(o,i);r.multiply(f,c,r.multiply(f,e,r.multiply(f,r.invert(u,c),f)))},d=t=>{const n=r.create();r.fromRotation(n,t,[0,0,1]),r.multiply(f,n,f)};return s(t,n,e),{get translation(){return r.getTranslation(o,f).slice(0,2)},get target(){return i.transformMat4(o,Vt,r.invert(u,f))},get scaling(){return c()},get distance(){return 1/c()},get rotation(){return Math.acos(f[0])},get view(){return f},lookAt:s,translate:l,pan:l,rotate:d,scale:h,zoom:h,reset:()=>{s(t,n,e)},set:t=>{!t||t.length<16||(f=t)}}},Gt="undefined"!=typeof Float32Array?Float32Array:Array,Xt=Math.random;Math.PI;function Zt(){var t=new Gt(2);return Gt!=Float32Array&&(t[0]=0,t[1]=0),t}function Qt(t){var n=new Gt(2);return n[0]=t[0],n[1]=t[1],n}function Kt(t,n){var e=new Gt(2);return e[0]=t,e[1]=n,e}function Jt(t,n){return t[0]=n[0],t[1]=n[1],t}function tn(t,n,e){return t[0]=n,t[1]=e,t}function nn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function en(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function rn(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function on(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function an(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function un(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function fn(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function cn(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function sn(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function ln(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function hn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function dn(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.hypot(e,r)}function pn(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function vn(t){var n=t[0],e=t[1];return Math.hypot(n,e)}function mn(t){var n=t[0],e=t[1];return n*n+e*e}function gn(t,n){return t[0]=-n[0],t[1]=-n[1],t}function yn(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function bn(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=n[0]*i,t[1]=n[1]*i,t}function _n(t,n){return t[0]*n[0]+t[1]*n[1]}function wn(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function xn(t,n,e,r){var i=n[0],o=n[1];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t}function Mn(t,n){n=n||1;var e=2*Xt()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function An(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i,t[1]=e[1]*r+e[3]*i,t}function kn(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t}function Sn(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[3]*i+e[6],t[1]=e[1]*r+e[4]*i+e[7],t}function Tn(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[4]*i+e[12],t[1]=e[1]*r+e[5]*i+e[13],t}function Cn(t,n,e,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sin(r),u=Math.cos(r);return t[0]=i*u-o*a+e[0],t[1]=i*a+o*u+e[1],t}function En(t,n){var e=t[0],r=t[1],i=n[0],o=n[1],a=e*e+r*r;a>0&&(a=1/Math.sqrt(a));var u=i*i+o*o;u>0&&(u=1/Math.sqrt(u));var f=(e*i+r*o)*a*u;return f>1?0:f<-1?Math.PI:Math.acos(f)}function jn(t){return t[0]=0,t[1]=0,t}function Dn(t){return"vec2("+t[0]+", "+t[1]+")"}function On(t,n){return t[0]===n[0]&&t[1]===n[1]}function Rn(t,n){var e=t[0],r=t[1],i=n[0],o=n[1];return Math.abs(e-i)<=1e-6*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var Ln=vn,zn=en,Fn=rn,Pn=on,Nn=dn,Un=pn,In=mn,Bn=function(){var t=Zt();return function(n,e,r,i,o,a){var u,f;for(e||(e=2),r||(r=0),f=i?Math.min(i*e+r,n.length):n.length,u=r;u<f;u+=e)t[0]=n[u],t[1]=n[u+1],o(t,t,a),n[u]=t[0],n[u+1]=t[1];return n}}();var qn=(t,{distance:n=1,target:e=[0,0],rotation:r=0,isNdc:i=!0,isFixed:a=!1,isPan:u=!0,panSpeed:f=1,isRotate:c=!0,rotateSpeed:s=1,isZoom:l=!0,zoomSpeed:h=1,onKeyDown:d=(()=>{}),onKeyUp:p=(()=>{}),onMouseDown:v=(()=>{}),onMouseUp:m=(()=>{}),onMouseMove:g=(()=>{}),onWheel:y=(()=>{})}={})=>{let b=$t(e,n,r),_=!1,w=0,x=0,M=0,A=0,k=!1,S=0,T=0,C=0,E=1,j=1,D=1,O=!1;const R=i?t=>t/E*2*D:t=>t,L=i?t=>t/j*2:t=>-t,z=i?t=>(t/E*2-1)*D:t=>t,F=i?t=>1-t/j*2:t=>t,P=()=>{const n=t.getBoundingClientRect();T=n.top,C=n.left,E=n.width,j=n.height,D=E/j},N=t=>{O=!1,p(t)},U=t=>{O=t.altKey,d(t)},I=t=>{k=!1,m(t)},B=t=>{k=1===t.buttons,v(t)},q=t=>{M=w,A=x,w=t.clientX-C,x=t.clientY-T,g(t)},W=t=>{t.preventDefault();const n=1===t.deltaMode?12:1;S+=n*(t.deltaY||0),y(t)};return window.addEventListener("keydown",U,{passive:!0}),window.addEventListener("keyup",N,{passive:!0}),t.addEventListener("mousedown",B,{passive:!0}),window.addEventListener("mouseup",I,{passive:!0}),window.addEventListener("mousemove",q,{passive:!0}),t.addEventListener("wheel",W,{passive:!1}),P(),b.config=({isFixed:t=null,isPan:n=null,isRotate:e=null,isZoom:r=null,panSpeed:i=null,rotateSpeed:o=null,zoomSpeed:d=null}={})=>{a=null!==t?t:a,u=null!==n?n:u,c=null!==e?e:c,l=null!==r?r:l,f=+i>0?i:f,s=+o>0?o:s,h=+d>0?d:h},b.dispose=()=>{b=void 0,window.removeEventListener("keydown",U),window.removeEventListener("keyup",N),t.removeEventListener("mousedown",B),window.removeEventListener("mouseup",I),window.removeEventListener("mousemove",q),t.removeEventListener("wheel",W)},b.refresh=P,b.tick=()=>{if(a)return!1;if(_=!1,u&&k&&!O&&(b.pan([R(f*(w-M)),L(f*(A-x))]),_=!0),l&&S){const t=h*Math.exp(S/j),n=z(w),e=F(x);b.scale(1/t,[n,e]),_=!0}if(c&&k&&O){const t=E/2,n=j/2,e=M-t,r=n-A,i=w-t,a=n-x,u=o.angle([e,r],[i,a]),f=e*a-i*r;b.rotate(s*u*Math.sign(f)),_=!0}return S=0,M=w,A=x,_},b};function Wn(t,n,e,r,i,o){if(i-r<=e)return;const a=r+i>>1;!function t(n,e,r,i,o,a){for(;o>i;){if(o-i>600){const u=o-i+1,f=r-i+1,c=Math.log(u),s=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*s*(u-s)/u)*(f-u/2<0?-1:1),h=Math.max(i,Math.floor(r-f*s/u+l)),d=Math.min(o,Math.floor(r+(u-f)*s/u+l));t(n,e,r,h,d,a)}const u=e[2*r+a];let f=i,c=o;for(Hn(n,e,i,r),e[2*o+a]>u&&Hn(n,e,i,o);f<c;){for(Hn(n,e,f,c),f++,c--;e[2*f+a]<u;)f++;for(;e[2*c+a]>u;)c--}e[2*i+a]===u?Hn(n,e,i,c):(c++,Hn(n,e,c,o)),c<=r&&(i=c+1),r<=c&&(o=c-1)}}(t,n,a,r,i,o%2),Wn(t,n,e,r,a-1,o+1),Wn(t,n,e,a+1,i,o+1)}function Hn(t,n,e,r){Yn(t,e,r),Yn(n,2*e,2*r),Yn(n,2*e+1,2*r+1)}function Yn(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Vn(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}const $n=t=>t[0],Gn=t=>t[1];class Xn{constructor(t,n=$n,e=Gn,r=64,i=Float64Array){this.nodeSize=r,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),u=this.coords=new i(2*t.length);for(let r=0;r<t.length;r++)a[r]=r,u[2*r]=n(t[r]),u[2*r+1]=e(t[r]);Wn(a,u,r,0,a.length-1,0)}range(t,n,e,r){return function(t,n,e,r,i,o,a){const u=[0,t.length-1,0],f=[];let c,s;for(;u.length;){const l=u.pop(),h=u.pop(),d=u.pop();if(h-d<=a){for(let a=d;a<=h;a++)c=n[2*a],s=n[2*a+1],c>=e&&c<=i&&s>=r&&s<=o&&f.push(t[a]);continue}const p=Math.floor((d+h)/2);c=n[2*p],s=n[2*p+1],c>=e&&c<=i&&s>=r&&s<=o&&f.push(t[p]);const v=(l+1)%2;(0===l?e<=c:r<=s)&&(u.push(d),u.push(p-1),u.push(v)),(0===l?i>=c:o>=s)&&(u.push(p+1),u.push(h),u.push(v))}return f}(this.ids,this.coords,t,n,e,r,this.nodeSize)}within(t,n,e){return function(t,n,e,r,i,o){const a=[0,t.length-1,0],u=[],f=i*i;for(;a.length;){const c=a.pop(),s=a.pop(),l=a.pop();if(s-l<=o){for(let i=l;i<=s;i++)Vn(n[2*i],n[2*i+1],e,r)<=f&&u.push(t[i]);continue}const h=Math.floor((l+s)/2),d=n[2*h],p=n[2*h+1];Vn(d,p,e,r)<=f&&u.push(t[h]);const v=(c+1)%2;(0===c?e-i<=d:r-i<=p)&&(a.push(l),a.push(h-1),a.push(v)),(0===c?e+i>=d:r+i>=p)&&(a.push(h+1),a.push(s),a.push(v))}return u}(this.ids,this.coords,t,n,e,this.nodeSize)}}var Zn=(t,n,e=window.requestAnimationFrame)=>{let r,i=!1;return(...o)=>{if(r=o,!i)return i=!0,e(()=>{const e=t(...r);i=!1,n&&n(e)})}},Qn="undefined"!=typeof Float32Array?Float32Array:Array,Kn=Math.random;Math.PI;function Jn(){var t=new Qn(16);return Qn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function te(t){var n=new Qn(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function ne(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function ee(t,n,e,r,i,o,a,u,f,c,s,l,h,d,p,v){var m=new Qn(16);return m[0]=t,m[1]=n,m[2]=e,m[3]=r,m[4]=i,m[5]=o,m[6]=a,m[7]=u,m[8]=f,m[9]=c,m[10]=s,m[11]=l,m[12]=h,m[13]=d,m[14]=p,m[15]=v,m}function re(t,n,e,r,i,o,a,u,f,c,s,l,h,d,p,v,m){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=f,t[8]=c,t[9]=s,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function ie(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function oe(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function ae(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15],y=e*u-r*a,b=e*f-i*a,_=e*c-o*a,w=r*f-i*u,x=r*c-o*u,M=i*c-o*f,A=s*v-l*p,k=s*m-h*p,S=s*g-d*p,T=l*m-h*v,C=l*g-d*v,E=h*g-d*m,j=y*E-b*C+_*T+w*S-x*k+M*A;return j?(j=1/j,t[0]=(u*E-f*C+c*T)*j,t[1]=(i*C-r*E-o*T)*j,t[2]=(v*M-m*x+g*w)*j,t[3]=(h*x-l*M-d*w)*j,t[4]=(f*S-a*E-c*k)*j,t[5]=(e*E-i*S+o*k)*j,t[6]=(m*_-p*M-g*b)*j,t[7]=(s*M-h*_+d*b)*j,t[8]=(a*C-u*S+c*A)*j,t[9]=(r*S-e*C-o*A)*j,t[10]=(p*x-v*_+g*y)*j,t[11]=(l*_-s*x-d*y)*j,t[12]=(u*k-a*T-f*A)*j,t[13]=(e*T-r*k+i*A)*j,t[14]=(v*b-p*w-m*y)*j,t[15]=(s*w-l*b+h*y)*j,t):null}function ue(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15];return t[0]=u*(h*g-d*m)-l*(f*g-c*m)+v*(f*d-c*h),t[1]=-(r*(h*g-d*m)-l*(i*g-o*m)+v*(i*d-o*h)),t[2]=r*(f*g-c*m)-u*(i*g-o*m)+v*(i*c-o*f),t[3]=-(r*(f*d-c*h)-u*(i*d-o*h)+l*(i*c-o*f)),t[4]=-(a*(h*g-d*m)-s*(f*g-c*m)+p*(f*d-c*h)),t[5]=e*(h*g-d*m)-s*(i*g-o*m)+p*(i*d-o*h),t[6]=-(e*(f*g-c*m)-a*(i*g-o*m)+p*(i*c-o*f)),t[7]=e*(f*d-c*h)-a*(i*d-o*h)+s*(i*c-o*f),t[8]=a*(l*g-d*v)-s*(u*g-c*v)+p*(u*d-c*l),t[9]=-(e*(l*g-d*v)-s*(r*g-o*v)+p*(r*d-o*l)),t[10]=e*(u*g-c*v)-a*(r*g-o*v)+p*(r*c-o*u),t[11]=-(e*(u*d-c*l)-a*(r*d-o*l)+s*(r*c-o*u)),t[12]=-(a*(l*m-h*v)-s*(u*m-f*v)+p*(u*h-f*l)),t[13]=e*(l*m-h*v)-s*(r*m-i*v)+p*(r*h-i*l),t[14]=-(e*(u*m-f*v)-a*(r*m-i*v)+p*(r*f-i*u)),t[15]=e*(u*h-f*l)-a*(r*h-i*l)+s*(r*f-i*u),t}function fe(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],f=t[7],c=t[8],s=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15];return(n*a-e*o)*(l*m-h*v)-(n*u-r*o)*(s*m-h*p)+(n*f-i*o)*(s*v-l*p)+(e*u-r*a)*(c*m-h*d)-(e*f-i*a)*(c*v-l*d)+(r*f-i*u)*(c*p-s*d)}function ce(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15],b=e[0],_=e[1],w=e[2],x=e[3];return t[0]=b*r+_*u+w*l+x*v,t[1]=b*i+_*f+w*h+x*m,t[2]=b*o+_*c+w*d+x*g,t[3]=b*a+_*s+w*p+x*y,b=e[4],_=e[5],w=e[6],x=e[7],t[4]=b*r+_*u+w*l+x*v,t[5]=b*i+_*f+w*h+x*m,t[6]=b*o+_*c+w*d+x*g,t[7]=b*a+_*s+w*p+x*y,b=e[8],_=e[9],w=e[10],x=e[11],t[8]=b*r+_*u+w*l+x*v,t[9]=b*i+_*f+w*h+x*m,t[10]=b*o+_*c+w*d+x*g,t[11]=b*a+_*s+w*p+x*y,b=e[12],_=e[13],w=e[14],x=e[15],t[12]=b*r+_*u+w*l+x*v,t[13]=b*i+_*f+w*h+x*m,t[14]=b*o+_*c+w*d+x*g,t[15]=b*a+_*s+w*p+x*y,t}function se(t,n,e){var r=e[0],i=e[1],o=e[2],a=void 0,u=void 0,f=void 0,c=void 0,s=void 0,l=void 0,h=void 0,d=void 0,p=void 0,v=void 0,m=void 0,g=void 0;return n===t?(t[12]=n[0]*r+n[4]*i+n[8]*o+n[12],t[13]=n[1]*r+n[5]*i+n[9]*o+n[13],t[14]=n[2]*r+n[6]*i+n[10]*o+n[14],t[15]=n[3]*r+n[7]*i+n[11]*o+n[15]):(a=n[0],u=n[1],f=n[2],c=n[3],s=n[4],l=n[5],h=n[6],d=n[7],p=n[8],v=n[9],m=n[10],g=n[11],t[0]=a,t[1]=u,t[2]=f,t[3]=c,t[4]=s,t[5]=l,t[6]=h,t[7]=d,t[8]=p,t[9]=v,t[10]=m,t[11]=g,t[12]=a*r+s*i+p*o+n[12],t[13]=u*r+l*i+v*o+n[13],t[14]=f*r+h*i+m*o+n[14],t[15]=c*r+d*i+g*o+n[15]),t}function le(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function he(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p,v,m,g,y,b,_,w,x,M,A,k,S,T,C=r[0],E=r[1],j=r[2],D=Math.sqrt(C*C+E*E+j*j);return D<1e-6?null:(C*=D=1/D,E*=D,j*=D,i=Math.sin(e),a=1-(o=Math.cos(e)),u=n[0],f=n[1],c=n[2],s=n[3],l=n[4],h=n[5],d=n[6],p=n[7],v=n[8],m=n[9],g=n[10],y=n[11],b=C*C*a+o,_=E*C*a+j*i,w=j*C*a-E*i,x=C*E*a-j*i,M=E*E*a+o,A=j*E*a+C*i,k=C*j*a+E*i,S=E*j*a-C*i,T=j*j*a+o,t[0]=u*b+l*_+v*w,t[1]=f*b+h*_+m*w,t[2]=c*b+d*_+g*w,t[3]=s*b+p*_+y*w,t[4]=u*x+l*M+v*A,t[5]=f*x+h*M+m*A,t[6]=c*x+d*M+g*A,t[7]=s*x+p*M+y*A,t[8]=u*k+l*S+v*T,t[9]=f*k+h*S+m*T,t[10]=c*k+d*S+g*T,t[11]=s*k+p*S+y*T,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function de(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],u=n[6],f=n[7],c=n[8],s=n[9],l=n[10],h=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*r,t[5]=a*i+s*r,t[6]=u*i+l*r,t[7]=f*i+h*r,t[8]=c*i-o*r,t[9]=s*i-a*r,t[10]=l*i-u*r,t[11]=h*i-f*r,t}function pe(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],c=n[8],s=n[9],l=n[10],h=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*r,t[1]=a*i-s*r,t[2]=u*i-l*r,t[3]=f*i-h*r,t[8]=o*r+c*i,t[9]=a*r+s*i,t[10]=u*r+l*i,t[11]=f*r+h*i,t}function ve(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],c=n[4],s=n[5],l=n[6],h=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*r,t[1]=a*i+s*r,t[2]=u*i+l*r,t[3]=f*i+h*r,t[4]=c*i-o*r,t[5]=s*i-a*r,t[6]=l*i-u*r,t[7]=h*i-f*r,t}function me(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,n,e){var r,i,o,a=e[0],u=e[1],f=e[2],c=Math.sqrt(a*a+u*u+f*f);return c<1e-6?null:(a*=c=1/c,u*=c,f*=c,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+f*r,t[2]=f*a*o-u*r,t[3]=0,t[4]=a*u*o-f*r,t[5]=u*u*o+i,t[6]=f*u*o+a*r,t[7]=0,t[8]=a*f*o+u*r,t[9]=u*f*o-a*r,t[10]=f*f*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function be(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function we(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xe(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=r+r,f=i+i,c=o+o,s=r*u,l=r*f,h=r*c,d=i*f,p=i*c,v=o*c,m=a*u,g=a*f,y=a*c;return t[0]=1-(d+v),t[1]=l+y,t[2]=h-g,t[3]=0,t[4]=l-y,t[5]=1-(s+v),t[6]=p+m,t[7]=0,t[8]=h+g,t[9]=p-m,t[10]=1-(s+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Me(t,n){var e=new Qn(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=r*r+i*i+o*o+a*a;return l>0?(e[0]=2*(u*a+s*r+f*o-c*i)/l,e[1]=2*(f*a+s*i+c*r-u*o)/l,e[2]=2*(c*a+s*o+u*i-f*r)/l):(e[0]=2*(u*a+s*r+f*o-c*i),e[1]=2*(f*a+s*i+c*r-u*o),e[2]=2*(c*a+s*o+u*i-f*r)),xe(t,n,e),t}function Ae(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function ke(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],u=n[6],f=n[8],c=n[9],s=n[10];return t[0]=Math.sqrt(e*e+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(f*f+c*c+s*s),t}function Se(t,n){var e=n[0]+n[5]+n[10],r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t}function Te(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],f=i+i,c=o+o,s=a+a,l=i*f,h=i*c,d=i*s,p=o*c,v=o*s,m=a*s,g=u*f,y=u*c,b=u*s,_=r[0],w=r[1],x=r[2];return t[0]=(1-(p+m))*_,t[1]=(h+b)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(l+m))*w,t[6]=(v+g)*w,t[7]=0,t[8]=(d+y)*x,t[9]=(v-g)*x,t[10]=(1-(l+p))*x,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Ce(t,n,e,r,i){var o=n[0],a=n[1],u=n[2],f=n[3],c=o+o,s=a+a,l=u+u,h=o*c,d=o*s,p=o*l,v=a*s,m=a*l,g=u*l,y=f*c,b=f*s,_=f*l,w=r[0],x=r[1],M=r[2],A=i[0],k=i[1],S=i[2],T=(1-(v+g))*w,C=(d+_)*w,E=(p-b)*w,j=(d-_)*x,D=(1-(h+g))*x,O=(m+y)*x,R=(p+b)*M,L=(m-y)*M,z=(1-(h+v))*M;return t[0]=T,t[1]=C,t[2]=E,t[3]=0,t[4]=j,t[5]=D,t[6]=O,t[7]=0,t[8]=R,t[9]=L,t[10]=z,t[11]=0,t[12]=e[0]+A-(T*A+j*k+R*S),t[13]=e[1]+k-(C*A+D*k+L*S),t[14]=e[2]+S-(E*A+O*k+z*S),t[15]=1,t}function Ee(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,f=i+i,c=e*a,s=r*a,l=r*u,h=i*a,d=i*u,p=i*f,v=o*a,m=o*u,g=o*f;return t[0]=1-l-p,t[1]=s+g,t[2]=h-m,t[3]=0,t[4]=s-g,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function je(t,n,e,r,i,o,a){var u=1/(e-n),f=1/(i-r),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*f,t[6]=0,t[7]=0,t[8]=(e+n)*u,t[9]=(i+r)*f,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function De(t,n,e,r,i){var o=1/Math.tan(n/2),a=void 0;return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function Oe(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),f=2/(a+u),c=2/(i+o);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*f*.5,t[9]=(i-o)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function Re(t,n,e,r,i,o,a){var u=1/(n-e),f=1/(r-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*u,t[13]=(i+r)*f,t[14]=(a+o)*c,t[15]=1,t}function Le(t,n,e,r){var i=void 0,o=void 0,a=void 0,u=void 0,f=void 0,c=void 0,s=void 0,l=void 0,h=void 0,d=void 0,p=n[0],v=n[1],m=n[2],g=r[0],y=r[1],b=r[2],_=e[0],w=e[1],x=e[2];return Math.abs(p-_)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(m-x)<1e-6?ie(t):(s=p-_,l=v-w,h=m-x,i=y*(h*=d=1/Math.sqrt(s*s+l*l+h*h))-b*(l*=d),o=b*(s*=d)-g*h,a=g*l-y*s,(d=Math.sqrt(i*i+o*o+a*a))?(i*=d=1/d,o*=d,a*=d):(i=0,o=0,a=0),u=l*a-h*o,f=h*i-s*a,c=s*o-l*i,(d=Math.sqrt(u*u+f*f+c*c))?(u*=d=1/d,f*=d,c*=d):(u=0,f=0,c=0),t[0]=i,t[1]=u,t[2]=s,t[3]=0,t[4]=o,t[5]=f,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*p+o*v+a*m),t[13]=-(u*p+f*v+c*m),t[14]=-(s*p+l*v+h*m),t[15]=1,t)}function ze(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=r[0],f=r[1],c=r[2],s=i-e[0],l=o-e[1],h=a-e[2],d=s*s+l*l+h*h;d>0&&(s*=d=1/Math.sqrt(d),l*=d,h*=d);var p=f*h-c*l,v=c*s-u*h,m=u*l-f*s;return(d=p*p+v*v+m*m)>0&&(p*=d=1/Math.sqrt(d),v*=d,m*=d),t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-h*v,t[5]=h*p-s*m,t[6]=s*v-l*p,t[7]=0,t[8]=s,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Fe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Pe(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Ne(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function Ue(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function Ie(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function Be(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function qe(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function We(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=t[6],c=t[7],s=t[8],l=t[9],h=t[10],d=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=n[0],b=n[1],_=n[2],w=n[3],x=n[4],M=n[5],A=n[6],k=n[7],S=n[8],T=n[9],C=n[10],E=n[11],j=n[12],D=n[13],O=n[14],R=n[15];return Math.abs(e-y)<=1e-6*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(r-b)<=1e-6*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=1e-6*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=1e-6*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=1e-6*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-M)<=1e-6*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(f-A)<=1e-6*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(c-k)<=1e-6*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(s-S)<=1e-6*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-T)<=1e-6*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-C)<=1e-6*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(d-E)<=1e-6*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-j)<=1e-6*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(v-D)<=1e-6*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(m-O)<=1e-6*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(g-R)<=1e-6*Math.max(1,Math.abs(g),Math.abs(R))}var He=ce,Ye=Ue;function Ve(){var t=new Qn(4);return Qn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function $e(t){var n=new Qn(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function Ge(t,n,e,r){var i=new Qn(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function Xe(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function Ze(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function Qe(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function Ke(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function Je(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function tr(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function nr(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function er(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function rr(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function ir(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function or(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function ar(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function ur(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function fr(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)}function cr(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function sr(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)}function lr(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function hr(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function dr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function pr(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}function vr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function mr(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t[3]=u+r*(e[3]-u),t}function gr(t,n){var e,r,i,o,a,u;n=n||1;do{a=(e=2*Kn()-1)*e+(r=2*Kn()-1)*r}while(a>=1);do{u=(i=2*Kn()-1)*i+(o=2*Kn()-1)*o}while(u>=1);var f=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*r,t[2]=n*i*f,t[3]=n*o*f,t}function yr(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*a,t}function br(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],f=e[2],c=e[3],s=c*r+u*o-f*i,l=c*i+f*r-a*o,h=c*o+a*i-u*r,d=-a*r-u*i-f*o;return t[0]=s*c+d*-a+l*-f-h*-u,t[1]=l*c+d*-u+h*-a-s*-f,t[2]=h*c+d*-f+s*-u-l*-a,t[3]=n[3],t}function _r(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function wr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function xr(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],f=n[2],c=n[3];return Math.abs(e-a)<=1e-6*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=1e-6*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-f)<=1e-6*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-c)<=1e-6*Math.max(1,Math.abs(o),Math.abs(c))}var Mr=Ke,Ar=Je,kr=tr,Sr=fr,Tr=cr,Cr=sr,Er=lr,jr=function(){var t=Ve();return function(n,e,r,i,o,a){var u=void 0,f=void 0;for(e||(e=4),r||(r=0),f=i?Math.min(i*e+r,n.length):n.length,u=r;u<f;u+=e)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],t[3]=n[u+3],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2],n[u+3]=t[3];return n}}(),Dr=e(1),Or=e.n(Dr),Rr="\nprecision mediump float;\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}",Lr="\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\nuniform float aspectRatio;\n\nuniform float width;\nuniform int miter;\n\nattribute vec3 prevPosition;\nattribute vec3 currPosition;\nattribute vec3 nextPosition;\nattribute float offsetScale;\n\nvoid main() {\n  vec2 aspectVec = vec2(aspectRatio, 1.0);\n  mat4 projViewModel = projection * view * model;\n  vec4 prevProjected = projViewModel * vec4(prevPosition, 1.0);\n  vec4 currProjected = projViewModel * vec4(currPosition, 1.0);\n  vec4 nextProjected = projViewModel * vec4(nextPosition, 1.0);\n\n  // get 2D screen space with W divide and aspect correction\n  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;\n  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;\n  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n  // starting point uses (next - current)\n  vec2 dir = vec2(0.0);\n  if (currScreen == prevScreen) {\n    dir = normalize(nextScreen - currScreen);\n  }\n  // ending point uses (current - previous)\n  else if (currScreen == nextScreen) {\n    dir = normalize(currScreen - prevScreen);\n  }\n  // somewhere in middle, needs a join\n  else {\n    // get directions from (C - B) and (B - A)\n    vec2 dirA = normalize((currScreen - prevScreen));\n    if (miter == 1) {\n      vec2 dirB = normalize((nextScreen - currScreen));\n      // now compute the miter join normal and length\n      vec2 tangent = normalize(dirA + dirB);\n      vec2 perp = vec2(-dirA.y, dirA.x);\n      vec2 miter = vec2(-tangent.y, tangent.x);\n      dir = tangent;\n    } else {\n      dir = dirA;\n    }\n  }\n\n  vec2 normal = vec2(-dir.y, dir.x) * width;\n  normal.x /= aspectRatio;\n  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);\n  gl_Position = currProjected + offset;\n}",zr=Array.prototype,Fr=zr.push,Pr=zr.unshift,Nr=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ur=Float32Array.BYTES_PER_ELEMENT,Ir=function(t,n){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0;r<t-1;r++){var i=n+2*r,o=i+1,a=i+2,u=i+3;e.push(i,o,a,a,o,u)}return e},Br=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],i=new Array(2*n),o=0,a=t.length/n;o<a;o++){for(var u=o*n,f=0;f<n;f++){var c=t[u+f];i[f]=c,i[f+n]=c*e}Fr.apply(r,i)}return r},qr=function(t,n,e){for(var r=new Array(e),i=n*e,o=0;o<e;o++)r[o]=t[i+o];return Fr.apply(t,r),t},Wr=function(t,n,e){for(var r=new Array(e),i=n*e,o=0;o<e;o++)r[o]=t[i+o];return Pr.apply(t,r),t},Hr=function(t,n,e){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=[],o=new Array(e).fill(r),a=0,u=t.length/n;a<u;a++){for(var f=a*n,c=0;c<n;c++)o[c]=t[f+c];Fr.apply(i,o)}return i},Yr=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.projection,r=void 0===e?Nr:e,i=n.model,o=void 0===i?Nr:i,a=n.view,u=void 0===a?Nr:a,f=n.points,c=void 0===f?[]:f,s=n.widths,l=void 0===s?[]:s,h=n.color,d=void 0===h?[.8,.5,0,1]:h,p=n.width,v=void 0===p?1:p,m=n.miter,g=void 0===m?1:m,y=n.is2d,b=void 0!==y&&y,_=n.zPos2d,w=void 0===_?0:_;if(t){var x,M,A,k,S,T,C,E,j,D,O,R=b?2:3,L=function(){C=t.buffer(),E=t.buffer(),j={prevPosition:{buffer:function(){return C},offset:0,stride:3*Ur},currPosition:{buffer:function(){return C},offset:3*Ur*2,stride:3*Ur},nextPosition:{buffer:function(){return C},offset:3*Ur*4,stride:3*Ur},offsetScale:function(){return E}},D=t.elements(),O=t({attributes:j,depth:{enable:!b},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projection:function(t,n){return t.projection||n.projection},model:function(t,n){return t.model||n.model},view:function(t,n){return t.view||n.view},aspectRatio:function(t){return t.viewportWidth/t.viewportHeight},color:function(){return d},width:function(t){var n=t.viewportWidth;return v/n*window.devicePixelRatio},miter:g},elements:function(){return D},vert:Lr,frag:Rr})},z=function(){c.length%R>0&&console.warn("The length of points (".concat(x,") does not match the dimensions (").concat(R,"). Incomplete points are ignored.")),A=c.slice(0,x*R),b&&(A=Hr(A,2,3,w)),l.length!==x&&(l=new Array(x).fill(1)),qr(A,x-1,3),Wr(A,0,3),k=new Float32Array(Br(A,3)),S=Br(l,1,-1),T=Ir(x,0),C({usage:"dynamic",type:"float",length:3*M*2*Ur,data:k}),E({usage:"dynamic",type:"float",length:1*x*2*Ur,data:S}),D({primitive:"triangles",usage:"dynamic",type:"uint16",data:T})},F=function(){P(),L()},P=function(){c=null,A=null,k=null,S=null,T=null,C.destroy(),E.destroy(),D.destroy()},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.projection,e=t.model,i=t.view;n&&(r=n),e&&(o=e),i&&(u=i),c&&c.length>1&&O({projection:r,model:o,view:u})},U=function(){return c},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;c=t,R=(b=e)?2:3,x=Math.floor(c.length/R),M=x+2,n.length===x&&(l=n),c&&c.length>1?z():F()},B=function(){return{color:d,miter:g,width:v}},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,e=t.miter,r=t.width;n&&(d=n),e&&(g=e),+r>0&&(v=r)},W=function(){return{points:C,widths:E}},H=function(){return{points:k,widths:S}};return L(),c&&c.length>1&&I(c),{clear:F,destroy:P,draw:N,getPoints:U,setPoints:I,getData:H,getBuffer:W,getStyle:B,setStyle:q}}console.error("Regl instance is undefined.")};var Vr=function(t,n,e,r,i){if(window.attr=n,!n.edges)return function(){};var o=10;return o>t.limits.lineWidthDims[1]&&(o=t.limits.lineWidthDims[1]),t({frag:"\n      precision mediump float;\n      varying vec3 v_color;\n      varying vec3 wow;\n      uniform float opacity;\n\n\n      void main() {\n\n      gl_FragColor = vec4(v_color, .5);\n      //gl_FragColor = vec4(1,1,1, 1);\n      }",vert:"\n      varying vec3 v_color;\n\n      precision mediump float;\n      attribute vec2 position;\n      attribute vec3 color;\n\n      uniform mat4 projection, view;\n      uniform mat4 model;\n\n      uniform float scale;\n      uniform vec2 offset;\n      uniform float tick;\n      uniform float phase;\n\n      uniform float freq;\n      attribute float dates;\n\n      varying vec3 wow;\n      uniform vec2 selection;\n\n      void main() {\n        vec2 p  = position;\n\n        // if (selection.x < dates && dates < selection.y )\n        // wow = vec3(0);\n        // else wow = vec3(1);\n        v_color = color;\n\n        // translate\n        p += offset;\n        gl_Position = projection * view * model * vec4(p, 0, 1);\n      }",blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"src alpha",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:function(){return n.edges},color:{buffer:function(){return n.edgeColors},offset:0}},uniforms:{scale:1,offset:[0,0],phase:0,freq:.01,opacity:.5,selection:function(){return window.getAdnan?window.getAdnan():[1,1]},view:i,projection:r,model:e},lineWidth:o,count:function(){return console.log("butt")||n.position.length/1},primitive:"lines",offset:1})},$r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Gr=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return $r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var Xr=Gr($r),Zr=Xr.right,Qr=(Xr.left,Zr);var Kr=Array.prototype,Jr=(Kr.slice,Kr.map,Math.sqrt(50)),ti=Math.sqrt(10),ni=Math.sqrt(2),ei=function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=ri(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function ri(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Jr?10:o>=ti?5:o>=ni?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Jr?10:o>=ti?5:o>=ni?2:1)}function ii(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Jr?i*=10:o>=ti?i*=5:o>=ni&&(i*=2),n<t?-i:i}Array.prototype.slice;var oi={value:function(){}};function ai(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ui(r)}function ui(t){this._=t}function fi(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function ci(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function si(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=oi,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}ui.prototype=ai.prototype={constructor:ui,on:function(t,n){var e,r=this._,i=fi(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=si(r[e],t.name,n);else if(null==n)for(e in r)r[e]=si(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=ci(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ui(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var li=ai;function hi(){}var di=function(t){return null==t?hi:function(){return this.querySelector(t)}};function pi(){return[]}var vi=function(t){return null==t?pi:function(){return this.querySelectorAll(t)}},mi=function(t){return function(){return this.matches(t)}},gi=function(t){return new Array(t.length)};function yi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}yi.prototype={constructor:yi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bi(t,n,e,r,i,o){for(var a,u=0,f=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new yi(t,o[u]);for(;u<f;++u)(a=n[u])&&(i[u]=a)}function _i(t,n,e,r,i,o,a){var u,f,c,s={},l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(f=n[u])&&(d[u]=c="$"+a.call(f,f.__data__,u,n),c in s?i[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c="$"+a.call(t,o[u],u,o)])?(r[u]=f,f.__data__=o[u],s[c]=null):e[u]=new yi(t,o[u]);for(u=0;u<l;++u)(f=n[u])&&s[d[u]]===f&&(i[u]=f)}function wi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var xi="http://www.w3.org/1999/xhtml",Mi={svg:"http://www.w3.org/2000/svg",xhtml:xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ai=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Mi.hasOwnProperty(n)?{space:Mi[n],local:t}:t};function ki(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ti(t,n){return function(){this.setAttribute(t,n)}}function Ci(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ei(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function ji(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Di=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Oi(t){return function(){this.style.removeProperty(t)}}function Ri(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Li(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function zi(t,n){return t.style.getPropertyValue(n)||Di(t).getComputedStyle(t,null).getPropertyValue(n)}function Fi(t){return function(){delete this[t]}}function Pi(t,n){return function(){this[t]=n}}function Ni(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Ui(t){return t.trim().split(/^|\s+/)}function Ii(t){return t.classList||new Bi(t)}function Bi(t){this._node=t,this._names=Ui(t.getAttribute("class")||"")}function qi(t,n){for(var e=Ii(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Wi(t,n){for(var e=Ii(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Hi(t){return function(){qi(this,t)}}function Yi(t){return function(){Wi(this,t)}}function Vi(t,n){return function(){(n.apply(this,arguments)?qi:Wi)(this,t)}}Bi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $i(){this.textContent=""}function Gi(t){return function(){this.textContent=t}}function Xi(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Zi(){this.innerHTML=""}function Qi(t){return function(){this.innerHTML=t}}function Ki(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Ji(){this.nextSibling&&this.parentNode.appendChild(this)}function to(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function no(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xi&&n.documentElement.namespaceURI===xi?n.createElement(t):n.createElementNS(e,t)}}function eo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ro=function(t){var n=Ai(t);return(n.local?eo:no)(n)};function io(){return null}function oo(){var t=this.parentNode;t&&t.removeChild(this)}function ao(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function uo(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var fo={},co=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(fo={mouseenter:"mouseover",mouseleave:"mouseout"}));function so(t,n,e){return t=lo(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function lo(t,n,e){return function(r){var i=co;co=r;try{t.call(this,this.__data__,n,e)}finally{co=i}}}function ho(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function po(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function vo(t,n,e){var r=fo.hasOwnProperty(t.type)?so:lo;return function(i,o,a){var u,f=this.__on,c=r(n,o,a);if(f)for(var s=0,l=f.length;s<l;++s)if((u=f[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},f?f.push(u):this.__on=[u]}}function mo(t,n,e){var r=Di(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function go(t,n){return function(){return mo(this,t,n)}}function yo(t,n){return function(){return mo(this,t,n.apply(this,arguments))}}var bo=[null];function _o(t,n){this._groups=t,this._parents=n}function wo(){return new _o([[document.documentElement]],bo)}_o.prototype=wo.prototype={constructor:_o,select:function(t){"function"!=typeof t&&(t=di(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],f=u.length,c=r[i]=new Array(f),s=0;s<f;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),c[s]=a);return new _o(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=vi(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],f=u.length,c=0;c<f;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new _o(r,i)},filter:function(t){"function"!=typeof t&&(t=mi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new _o(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var e=n?_i:bi,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),f=new Array(o),c=0;c<o;++c){var s=r[c],l=i[c],h=l.length,d=t.call(s,s&&s.__data__,c,r),p=d.length,v=u[c]=new Array(p),m=a[c]=new Array(p);e(s,l,v,m,f[c]=new Array(h),d,n);for(var g,y,b=0,_=0;b<p;++b)if(g=v[b]){for(b>=_&&(_=b+1);!(y=m[_])&&++_<p;);g._next=y||null}}return(a=new _o(a,r))._enter=u,a._exit=f,a},enter:function(){return new _o(this._enter||this._groups.map(gi),this._parents)},exit:function(){return new _o(this._exit||this._groups.map(gi),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new _o(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=wi);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],f=u.length,c=i[o]=new Array(f),s=0;s<f;++s)(a=u[s])&&(c[s]=a);c.sort(n)}return new _o(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Ai(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Si:ki:"function"==typeof n?e.local?ji:Ei:e.local?Ci:Ti)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Oi:"function"==typeof n?Li:Ri)(t,n,null==e?"":e)):zi(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Fi:"function"==typeof n?Ni:Pi)(t,n)):this.node()[t]},classed:function(t,n){var e=Ui(t+"");if(arguments.length<2){for(var r=Ii(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Vi:n?Hi:Yi)(e,n))},text:function(t){return arguments.length?this.each(null==t?$i:("function"==typeof t?Xi:Gi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zi:("function"==typeof t?Ki:Qi)(t)):this.node().innerHTML},raise:function(){return this.each(Ji)},lower:function(){return this.each(to)},append:function(t){var n="function"==typeof t?t:ro(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:ro(t),r=null==n?io:"function"==typeof n?n:di(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(oo)},clone:function(t){return this.select(t?uo:ao)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=ho(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?vo:po,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var f,c=0,s=u.length;c<s;++c)for(r=0,f=u[c];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?yo:go)(t,n))}};var xo=wo,Mo=function(t){return"string"==typeof t?new _o([[document.querySelector(t)]],[document.documentElement]):new _o([[t]],bo)};var Ao=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function ko(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function So(){}var To="\\s*([+-]?\\d+)\\s*",Co="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jo=/^#([0-9a-f]{3,8})$/,Do=new RegExp("^rgb\\("+[To,To,To]+"\\)$"),Oo=new RegExp("^rgb\\("+[Eo,Eo,Eo]+"\\)$"),Ro=new RegExp("^rgba\\("+[To,To,To,Co]+"\\)$"),Lo=new RegExp("^rgba\\("+[Eo,Eo,Eo,Co]+"\\)$"),zo=new RegExp("^hsl\\("+[Co,Eo,Eo]+"\\)$"),Fo=new RegExp("^hsla\\("+[Co,Eo,Eo,Co]+"\\)$"),Po={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function No(){return this.rgb().formatHex()}function Uo(){return this.rgb().formatRgb()}function Io(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=jo.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Bo(n):3===e?new Yo(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new Yo(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new Yo(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Do.exec(t))?new Yo(n[1],n[2],n[3],1):(n=Oo.exec(t))?new Yo(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ro.exec(t))?qo(n[1],n[2],n[3],n[4]):(n=Lo.exec(t))?qo(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=zo.exec(t))?Xo(n[1],n[2]/100,n[3]/100,1):(n=Fo.exec(t))?Xo(n[1],n[2]/100,n[3]/100,n[4]):Po.hasOwnProperty(t)?Bo(Po[t]):"transparent"===t?new Yo(NaN,NaN,NaN,0):null}function Bo(t){return new Yo(t>>16&255,t>>8&255,255&t,1)}function qo(t,n,e,r){return r<=0&&(t=n=e=NaN),new Yo(t,n,e,r)}function Wo(t){return t instanceof So||(t=Io(t)),t?new Yo((t=t.rgb()).r,t.g,t.b,t.opacity):new Yo}function Ho(t,n,e,r){return 1===arguments.length?Wo(t):new Yo(t,n,e,null==r?1:r)}function Yo(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Vo(){return"#"+Go(this.r)+Go(this.g)+Go(this.b)}function $o(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Go(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Xo(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Qo(t,n,e,r)}function Zo(t){if(t instanceof Qo)return new Qo(t.h,t.s,t.l,t.opacity);if(t instanceof So||(t=Io(t)),!t)return new Qo;if(t instanceof Qo)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new Qo(a,u,f,t.opacity)}function Qo(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ko(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Jo(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}Ao(So,Io,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:No,formatHex:No,formatHsl:function(){return Zo(this).formatHsl()},formatRgb:Uo,toString:Uo}),Ao(Yo,Ho,ko(So,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Yo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vo,formatHex:Vo,formatRgb:$o,toString:$o})),Ao(Qo,(function(t,n,e,r){return 1===arguments.length?Zo(t):new Qo(t,n,e,null==r?1:r)}),ko(So,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Yo(Ko(t>=240?t-240:t+120,i,r),Ko(t,i,r),Ko(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ta=function(t){return function(){return t}};function na(t,n){return function(e){return t+e*n}}function ea(t){return 1==(t=+t)?ra:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ta(isNaN(n)?e:n)}}function ra(t,n){var e=n-t;return e?na(t,e):ta(isNaN(t)?n:t)}var ia=function t(n){var e=ea(n);function r(t,n){var r=e((t=Ho(t)).r,(n=Ho(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ra(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function oa(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Ho(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var aa=oa((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return Jo((e-r/n)*n,a,i,o,u)}})),ua=(oa((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return Jo((e-r/n)*n,i,o,a,u)}})),function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}});function fa(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ca(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=ya(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}var sa=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},la=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},ha=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ya(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pa=new RegExp(da.source,"g");var va,ma,ga=function(t,n){var e,r,i,o=da.lastIndex=pa.lastIndex=0,a=-1,u=[],f=[];for(t+="",n+="";(e=da.exec(t))&&(r=pa.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:la(e,r)})),o=pa.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)u[(e=f[r]).i]=e.x(t);return u.join("")})},ya=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?ta(n):("number"===r?la:"string"===r?(e=Io(n))?(n=e,ia):ga:n instanceof Io?ia:n instanceof Date?sa:fa(n)?ua:Array.isArray(n)?ca:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ha:la)(t,n)},ba=0,_a=0,wa=0,xa=0,Ma=0,Aa=0,ka="object"==typeof performance&&performance.now?performance:Date,Sa="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ta(){return Ma||(Sa(Ca),Ma=ka.now()+Aa)}function Ca(){Ma=0}function Ea(){this._call=this._time=this._next=null}function ja(t,n,e){var r=new Ea;return r.restart(t,n,e),r}function Da(){Ma=(xa=ka.now())+Aa,ba=_a=0;try{!function(){Ta(),++ba;for(var t,n=va;n;)(t=Ma-n._time)>=0&&n._call.call(null,t),n=n._next;--ba}()}finally{ba=0,function(){var t,n,e=va,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:va=n);ma=t,Ra(r)}(),Ma=0}}function Oa(){var t=ka.now(),n=t-xa;n>1e3&&(Aa-=n,xa=t)}function Ra(t){ba||(_a&&(_a=clearTimeout(_a)),t-Ma>24?(t<1/0&&(_a=setTimeout(Da,t-ka.now()-Aa)),wa&&(wa=clearInterval(wa))):(wa||(xa=ka.now(),wa=setInterval(Oa,1e3)),ba=1,Sa(Da)))}Ea.prototype=ja.prototype={constructor:Ea,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ta():+e)+(null==n?0:+n),this._next||ma===this||(ma?ma._next=this:va=this,ma=this),this._call=t,this._time=e,Ra()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ra())}};var La=function(t,n,e){var r=new Ea;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},za=li("start","end","cancel","interrupt"),Fa=[],Pa=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(f){var c,s,l,h;if(1!==e.state)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return La(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(La((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(f))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),c=0,s=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ja((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:za,tween:Fa,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Na(t,n){var e=Ia(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Ua(t,n){var e=Ia(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Ia(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Ba,qa,Wa,Ha,Ya=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},Va=180/Math.PI,$a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ga=function(t,n,e,r,i,o){var a,u,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,f/=u),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Va,skewX:Math.atan(f)*Va,scaleX:a,scaleY:u}};function Xa(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],f=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var f=a.push("translate(",null,n,null,e);u.push({i:f-4,x:la(t,i)},{i:f-2,x:la(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,f),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:la(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,f),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:la(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,f),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:la(t,e)},{i:u-2,x:la(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,f),o=a=null,function(t){for(var n,e=-1,r=f.length;++e<r;)u[(n=f[e]).i]=n.x(t);return u.join("")}}}var Za=Xa((function(t){return"none"===t?$a:(Ba||(Ba=document.createElement("DIV"),qa=document.documentElement,Wa=document.defaultView),Ba.style.transform=t,t=Wa.getComputedStyle(qa.appendChild(Ba),null).getPropertyValue("transform"),qa.removeChild(Ba),t=t.slice(7,-1).split(","),Ga(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Qa=Xa((function(t){return null==t?$a:(Ha||(Ha=document.createElementNS("http://www.w3.org/2000/svg","g")),Ha.setAttribute("transform",t),(t=Ha.transform.baseVal.consolidate())?(t=t.matrix,Ga(t.a,t.b,t.c,t.d,t.e,t.f)):$a)}),", ",")",")");function Ka(t,n){var e,r;return function(){var i=Ua(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ja(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ua(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},f=0,c=i.length;f<c;++f)if(i[f].name===n){i[f]=u;break}f===c&&i.push(u)}o.tween=i}}function tu(t,n,e){var r=t._id;return t.each((function(){var t=Ua(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Ia(t,r).value[n]}}var nu=function(t,n){var e;return("number"==typeof n?la:n instanceof Io?ia:(e=Io(n))?(n=e,ia):ga)(t,n)};function eu(t){return function(){this.removeAttribute(t)}}function ru(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iu(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function ou(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function au(t,n,e){var r,i,o;return function(){var a,u,f=e(this);if(null!=f)return(a=this.getAttribute(t))===(u=f+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,f));this.removeAttribute(t)}}function uu(t,n,e){var r,i,o;return function(){var a,u,f=e(this);if(null!=f)return(a=this.getAttributeNS(t.space,t.local))===(u=f+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,f));this.removeAttributeNS(t.space,t.local)}}function fu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function cu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function su(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&cu(t,i)),e}return i._value=n,i}function lu(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&fu(t,i)),e}return i._value=n,i}function hu(t,n){return function(){Na(this,t).delay=+n.apply(this,arguments)}}function du(t,n){return n=+n,function(){Na(this,t).delay=n}}function pu(t,n){return function(){Ua(this,t).duration=+n.apply(this,arguments)}}function vu(t,n){return n=+n,function(){Ua(this,t).duration=n}}function mu(t,n){if("function"!=typeof n)throw new Error;return function(){Ua(this,t).ease=n}}function gu(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Na:Ua;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var yu=xo.prototype.constructor;function bu(t){return function(){this.style.removeProperty(t)}}function _u(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function wu(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&_u(t,o,e)),r}return o._value=n,o}function xu(t){return function(n){this.textContent=t.call(this,n)}}function Mu(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&xu(r)),n}return r._value=t,r}var Au=0;function ku(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Su(){return++Au}var Tu=xo.prototype;ku.prototype=function(t){return xo().transition(t)}.prototype={constructor:ku,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=di(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,f,c=r[a],s=c.length,l=o[a]=new Array(s),h=0;h<s;++h)(u=c[h])&&(f=t.call(u,u.__data__,h,c))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f,Pa(l[h],n,e,h,l,Ia(u,e)));return new ku(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=vi(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var f,c=r[u],s=c.length,l=0;l<s;++l)if(f=c[l]){for(var h,d=t.call(f,f.__data__,l,c),p=Ia(f,e),v=0,m=d.length;v<m;++v)(h=d[v])&&Pa(h,n,e,v,d,p);o.push(d),a.push(f)}return new ku(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=mi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new ku(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new ku(a,this._parents,this._name,this._id)},selection:function(){return new yu(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Su(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)if(a=u[c]){var s=Ia(a,n);Pa(a,t,e,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new ku(r,this._parents,t,e)},call:Tu.call,nodes:Tu.nodes,node:Tu.node,size:Tu.size,empty:Tu.empty,each:Tu.each,on:function(t,n){var e=this._id;return arguments.length<2?Ia(this.node(),e).on.on(t):this.each(gu(e,t,n))},attr:function(t,n){var e=Ai(t),r="transform"===e?Qa:nu;return this.attrTween(t,"function"==typeof n?(e.local?uu:au)(e,r,tu(this,"attr."+t,n)):null==n?(e.local?ru:eu)(e):(e.local?ou:iu)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Ai(t);return this.tween(e,(r.local?su:lu)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Za:nu;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=zi(this,t),a=(this.style.removeProperty(t),zi(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,bu(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=zi(this,t),u=e(this),f=u+"";return null==u&&(this.style.removeProperty(t),f=u=zi(this,t)),a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,u))}}(t,r,tu(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var f=Ua(this,t),c=f.on,s=null==f.value[a]?o||(o=bu(n)):void 0;c===e&&i===s||(r=(e=c).copy()).on(u,i=s),f.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=zi(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,wu(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(tu(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Mu(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ia(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Ka:Ja)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?hu:du)(n,t)):Ia(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?pu:vu)(n,t)):Ia(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(mu(n,t)):Ia(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},f={value:function(){0==--i&&o()}};e.each((function(){var e=Ua(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(f)),e.on=n}))}))}};var Cu={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Eu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Cu.time=Ta(),Cu;return e}xo.prototype.interrupt=function(t){return this.each((function(){Ya(this,t)}))},xo.prototype.transition=function(t){var n,e;t instanceof ku?(n=t._id,t=t._name):(n=Su(),(e=Cu).time=Ta(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)(a=u[c])&&Pa(a,t,n,c,u,e||Eu(a,n));return new ku(r,this._parents,t,n)};function ju(t){return[+t[0],+t[1]]}function Du(t){return[ju(t[0]),ju(t[1])]}["w","e"].map(Ou),["n","s"].map(Ou),["n","w","e","s","nw","ne","sw","se"].map(Ou);function Ou(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Ru=Math.PI,Lu=2*Ru,zu=Lu-1e-6;function Fu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pu(){return new Fu}Fu.prototype=Pu.prototype={constructor:Fu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,f=r-n,c=o-t,s=a-n,l=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(s*u-f*c)>1e-6&&i){var h=e-o,d=r-a,p=u*u+f*f,v=h*h+d*d,m=Math.sqrt(p),g=Math.sqrt(l),y=i*Math.tan((Ru-Math.acos((p+l-v)/(2*m*g)))/2),b=y/g,_=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(n+b*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>c*d)+","+(this._x1=t+_*u)+","+(this._y1=n+_*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),f=t+a,c=n+u,s=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+c:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+f+","+c),e&&(l<0&&(l=l%Lu+Lu),l>zu?this._+="A"+e+","+e+",0,1,"+s+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+s+","+(this._x1=f)+","+(this._y1=c):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Ru)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function Nu(){}function Uu(t,n){var e=new Nu;if(t instanceof Nu)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}Nu.prototype=Uu.prototype={constructor:Nu,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Iu=Uu;function Bu(){}var qu=Iu.prototype;function Wu(t,n){var e=new Bu;if(t instanceof Bu)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Bu.prototype=Wu.prototype={constructor:Bu,has:qu.has,add:function(t){return this["$"+(t+="")]=t,this},remove:qu.remove,clear:qu.clear,values:qu.keys,size:qu.size,empty:qu.empty,each:qu.each};Array.prototype.slice;function Hu(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Yu&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var Yu=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var Vu={},$u={};function Gu(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Xu(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Zu(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Qu(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Zu(-n,6):n>9999?"+"+Zu(n,6):Zu(n,4))+"-"+Zu(t.getUTCMonth()+1,2)+"-"+Zu(t.getUTCDate(),2)+(o?"T"+Zu(e,2)+":"+Zu(r,2)+":"+Zu(i,2)+"."+Zu(o,3)+"Z":i?"T"+Zu(e,2)+":"+Zu(r,2)+":"+Zu(i,2)+"Z":r||e?"T"+Zu(e,2)+":"+Zu(r,2)+"Z":"")}var Ku=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,f=o<=0,c=!1;function s(){if(f)return $u;if(c)return c=!1,Vu;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?f=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return f=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=s())!==$u;){for(var l=[];r!==Vu&&r!==$u;)l.push(r),r=s();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Qu(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Gu(t);return function(r,i){return n(e(r),i,t)}}(t,n):Gu(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Xu(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Xu(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},Ju=Ku(","),tf=Ju.parse,nf=(Ju.parseRows,Ju.format,Ju.formatBody,Ju.formatRows,Ju.formatRow,Ju.formatValue,Ku("\t")),ef=nf.parse;nf.parseRows,nf.format,nf.formatBody,nf.formatRows,nf.formatRow,nf.formatValue;function rf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var of=function(t,n){return fetch(t,n).then(rf)};function af(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),of(n,e).then((function(n){return t(n,r)}))}}af(tf);var uf=af(ef);function ff(t){return function(n,e){return of(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}ff("application/xml"),ff("text/html"),ff("image/svg+xml");function cf(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,f,c,s,l,h,d=t._root,p={data:r},v=t._x0,m=t._y0,g=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(v+g)/2))?v=o:g=o,(s=e>=(a=(m+y)/2))?m=a:y=a,i=d,!(d=d[l=s<<1|c]))return i[l]=p,t;if(u=+t._x.call(null,d.data),f=+t._y.call(null,d.data),n===u&&e===f)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(v+g)/2))?v=o:g=o,(s=e>=(a=(m+y)/2))?m=a:y=a}while((l=s<<1|c)==(h=(f>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}var sf=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function lf(t){return t[0]}function hf(t){return t[1]}function df(t,n,e){var r=new pf(null==n?lf:n,null==e?hf:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function pf(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function vf(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var mf=df.prototype=pf.prototype;mf.copy=function(){var t,n,e=new pf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=vf(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=vf(n));return e},mf.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return cf(this.cover(n,e),n,e,t)},mf.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),f=1/0,c=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<f&&(f=r),r>s&&(s=r),i<c&&(c=i),i>l&&(l=i));if(f>s||c>l)return this;for(this.cover(f,c).cover(s,l),e=0;e<o;++e)cf(this,a[e],u[e],t[e]);return this},mf.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,f=i-e,c=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=c,c=a,f*=2,u){case 0:i=e+f,o=r+f;break;case 1:e=i-f,o=r+f;break;case 2:i=e+f,r=o-f;break;case 3:e=i-f,r=o-f}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},mf.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},mf.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},mf.find=function(t,n,e){var r,i,o,a,u,f,c,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new sf(v,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);f=p.pop();)if(!(!(v=f.node)||(i=f.x0)>h||(o=f.y0)>d||(a=f.x1)<s||(u=f.y1)<l))if(v.length){var m=(i+a)/2,g=(o+u)/2;p.push(new sf(v[3],m,g,a,u),new sf(v[2],i,g,m,u),new sf(v[1],m,o,a,g),new sf(v[0],i,o,m,g)),(c=(n>=g)<<1|t>=m)&&(f=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=f)}else{var y=t-+this._x.call(null,v.data),b=n-+this._y.call(null,v.data),_=y*y+b*b;if(_<e){var w=Math.sqrt(e=_);s=t-w,l=n-w,h=t+w,d=n+w,r=v.data}}return r},mf.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,f,c,s,l,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+m)/2))?p=u:m=u,(s=a>=(f=(v+g)/2))?v=f:g=f,n=d,!(d=d[l=s<<1|c]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},mf.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},mf.root=function(){return this._root},mf.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},mf.visit=function(t){var n,e,r,i,o,a,u=[],f=this._root;for(f&&u.push(new sf(f,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&f.length){var c=(r+o)/2,s=(i+a)/2;(e=f[3])&&u.push(new sf(e,c,s,o,a)),(e=f[2])&&u.push(new sf(e,r,s,c,a)),(e=f[1])&&u.push(new sf(e,c,i,o,s)),(e=f[0])&&u.push(new sf(e,r,i,c,s))}return this},mf.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new sf(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,f=n.x1,c=n.y1,s=(a+f)/2,l=(u+c)/2;(o=i[0])&&e.push(new sf(o,a,u,s,l)),(o=i[1])&&e.push(new sf(o,s,u,f,l)),(o=i[2])&&e.push(new sf(o,a,l,s,c)),(o=i[3])&&e.push(new sf(o,s,l,f,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},mf.x=function(t){return arguments.length?(this._x=t,this):this._x},mf.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var gf=function(){return Math.random()},yf=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(gf),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(gf)),bf=(function t(n){function e(){var t=yf.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(gf),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(gf));(function t(n){function e(t){var e=bf.source(n)(t);return function(){return e()/t}}return e.source=t,e})(gf),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(gf);function _f(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var wf=Array.prototype,xf=wf.map,Mf=wf.slice,Af={name:"implicit"};function kf(){var t=Iu(),n=[],e=[],r=Af;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Af)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Iu();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Mf.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return kf(n,e).unknown(r)},_f.apply(i,arguments),i}var Sf=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},Tf=function(t){return+t},Cf=[0,1];function Ef(t){return t}function jf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Df(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Of(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=jf(i,r),o=e(a,o)):(r=jf(r,i),o=e(o,a)),function(t){return o(r(t))}}function Rf(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=jf(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Qr(t,n,1,r)-1;return o[e](i[e](n))}}function Lf(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zf(){var t,n,e,r,i,o,a=Cf,u=Cf,f=ya,c=Ef;function s(){return r=Math.min(a.length,u.length)>2?Rf:Of,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,f)))(t(c(n)))}return l.invert=function(e){return c(n((o||(o=r(u,a.map(t),la)))(e)))},l.domain=function(t){return arguments.length?(a=xf.call(t,Tf),c===Ef||(c=Df(a)),s()):a.slice()},l.range=function(t){return arguments.length?(u=Mf.call(t),s()):u.slice()},l.rangeRound=function(t){return u=Mf.call(t),f=Sf,s()},l.clamp=function(t){return arguments.length?(c=t?Df(a):Ef,l):c!==Ef},l.interpolate=function(t){return arguments.length?(f=t,s()):f},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function Ff(t,n){return zf()(t,n)}var Pf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nf(t){if(!(n=Pf.exec(t)))throw new Error("invalid format: "+t);var n;return new Uf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Uf(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Nf.prototype=Uf.prototype,Uf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var If,Bf,qf,Wf,Hf=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Yf=function(t){return(t=Hf(Math.abs(t)))?t[1]:NaN},Vf=function(t,n){var e=Hf(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},$f={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Vf(100*t,n)},r:Vf,s:function(t,n){var e=Hf(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(If=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hf(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Gf=function(t){return t},Xf=Array.prototype.map,Zf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Bf=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Gf:(n=Xf.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(t.substring(i-=u,i+u)),!((f+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Gf:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Xf.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Nf(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,m=t.precision,g=t.trim,y=t.type;"n"===y?(v=!0,y="g"):$f[y]||(void 0===m&&(m=12),g=!0,y="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?o:/[%p]/.test(y)?f:"",w=$f[y],x=/[defgprs%]/.test(y);function M(t){var i,o,f,h=b,M=_;if("c"===y)M=w(t)+M,t="";else{var A=(t=+t)<0;if(t=isNaN(t)?s:w(Math.abs(t),m),g&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&(A=!1),h=(A?"("===l?l:c:"-"===l||"("===l?"":l)+h,M=("s"===y?Zf[8+If/3]:"")+M+(A&&"("===l?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(f=t.charCodeAt(i))||f>57){M=(46===f?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var k=h.length+t.length+M.length,S=k<p?new Array(p-k+1).join(n):"";switch(v&&d&&(t=r(S+t,S.length?p-M.length:1/0),S=""),e){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,k=S.length>>1)+h+t+M+S.slice(k);break;default:t=S+h+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Nf(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Yf(n)/3))),i=Math.pow(10,-r),o=Zf[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),qf=Bf.format,Wf=Bf.formatPrefix;var Qf=function(t,n,e,r){var i,o=ii(t,n,e);switch((r=Nf(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yf(n)/3)))-Yf(Math.abs(t)))}(o,a))||(r.precision=i),Wf(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Yf(n)-Yf(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Yf(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return qf(r)};function Kf(t){var n=t.domain;return t.ticks=function(t){var e=n();return ei(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Qf(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],f=i[a];return f<u&&(r=u,u=f,f=r,r=o,o=a,a=r),(r=ri(u,f,e))>0?r=ri(u=Math.floor(u/r)*r,f=Math.ceil(f/r)*r,e):r<0&&(r=ri(u=Math.ceil(u*r)/r,f=Math.floor(f*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(f/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(f*r)/r,n(i)),t},t}var Jf=new Date,tc=new Date;function nc(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return nc((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Jf.setTime(+n),tc.setTime(+r),t(Jf),t(tc),Math.floor(e(Jf,tc))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var ec=nc((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ec.every=function(t){return isFinite(t=Math.floor(t))&&t>0?nc((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var rc=ec,ic=(ec.range,nc((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));ic.range;function oc(t){return nc((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var ac=oc(0),uc=oc(1),fc=oc(2),cc=oc(3),sc=oc(4),lc=oc(5),hc=oc(6),dc=(ac.range,uc.range,fc.range,cc.range,sc.range,lc.range,hc.range,nc((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),pc=dc,vc=(dc.range,nc((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),mc=(vc.range,nc((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),gc=(mc.range,nc((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),yc=(gc.range,nc((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));yc.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?nc((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):yc:null};yc.range;function bc(t){return nc((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var _c=bc(0),wc=bc(1),xc=bc(2),Mc=bc(3),Ac=bc(4),kc=bc(5),Sc=bc(6),Tc=(_c.range,wc.range,xc.range,Mc.range,Ac.range,kc.range,Sc.range,nc((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Cc=Tc,Ec=(Tc.range,nc((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Ec.every=function(t){return isFinite(t=Math.floor(t))&&t>0?nc((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var jc=Ec;Ec.range;function Dc(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Oc(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rc(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Lc,zc={"-":"",_:" ",0:"0"},Fc=/^\s*\d+/,Pc=/^%/,Nc=/[\\^$*+?|[\]().{}]/g;function Uc(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ic(t){return t.replace(Nc,"\\$&")}function Bc(t){return new RegExp("^(?:"+t.map(Ic).join("|")+")","i")}function qc(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Wc(t,n,e){var r=Fc.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Hc(t,n,e){var r=Fc.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Yc(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Vc(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function $c(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Gc(t,n,e){var r=Fc.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Xc(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Zc(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Qc(t,n,e){var r=Fc.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Kc(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Jc(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ts(t,n,e){var r=Fc.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ns(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function es(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function rs(t,n,e){var r=Fc.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function is(t,n,e){var r=Fc.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function os(t,n,e){var r=Fc.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function as(t,n,e){var r=Pc.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function us(t,n,e){var r=Fc.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function fs(t,n,e){var r=Fc.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function cs(t,n){return Uc(t.getDate(),n,2)}function ss(t,n){return Uc(t.getHours(),n,2)}function ls(t,n){return Uc(t.getHours()%12||12,n,2)}function hs(t,n){return Uc(1+pc.count(rc(t),t),n,3)}function ds(t,n){return Uc(t.getMilliseconds(),n,3)}function ps(t,n){return ds(t,n)+"000"}function vs(t,n){return Uc(t.getMonth()+1,n,2)}function ms(t,n){return Uc(t.getMinutes(),n,2)}function gs(t,n){return Uc(t.getSeconds(),n,2)}function ys(t){var n=t.getDay();return 0===n?7:n}function bs(t,n){return Uc(ac.count(rc(t)-1,t),n,2)}function _s(t,n){var e=t.getDay();return t=e>=4||0===e?sc(t):sc.ceil(t),Uc(sc.count(rc(t),t)+(4===rc(t).getDay()),n,2)}function ws(t){return t.getDay()}function xs(t,n){return Uc(uc.count(rc(t)-1,t),n,2)}function Ms(t,n){return Uc(t.getFullYear()%100,n,2)}function As(t,n){return Uc(t.getFullYear()%1e4,n,4)}function ks(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Uc(n/60|0,"0",2)+Uc(n%60,"0",2)}function Ss(t,n){return Uc(t.getUTCDate(),n,2)}function Ts(t,n){return Uc(t.getUTCHours(),n,2)}function Cs(t,n){return Uc(t.getUTCHours()%12||12,n,2)}function Es(t,n){return Uc(1+Cc.count(jc(t),t),n,3)}function js(t,n){return Uc(t.getUTCMilliseconds(),n,3)}function Ds(t,n){return js(t,n)+"000"}function Os(t,n){return Uc(t.getUTCMonth()+1,n,2)}function Rs(t,n){return Uc(t.getUTCMinutes(),n,2)}function Ls(t,n){return Uc(t.getUTCSeconds(),n,2)}function zs(t){var n=t.getUTCDay();return 0===n?7:n}function Fs(t,n){return Uc(_c.count(jc(t)-1,t),n,2)}function Ps(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Ac(t):Ac.ceil(t),Uc(Ac.count(jc(t),t)+(4===jc(t).getUTCDay()),n,2)}function Ns(t){return t.getUTCDay()}function Us(t,n){return Uc(wc.count(jc(t)-1,t),n,2)}function Is(t,n){return Uc(t.getUTCFullYear()%100,n,2)}function Bs(t,n){return Uc(t.getUTCFullYear()%1e4,n,4)}function qs(){return"+0000"}function Ws(){return"%"}function Hs(t){return+t}function Ys(t){return Math.floor(+t/1e3)}!function(t){Lc=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,c=Bc(i),s=qc(i),l=Bc(o),h=qc(o),d=Bc(a),p=qc(a),v=Bc(u),m=qc(u),g=Bc(f),y=qc(f),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:cs,e:cs,f:ps,H:ss,I:ls,j:hs,L:ds,m:vs,M:ms,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Hs,s:Ys,S:gs,u:ys,U:bs,V:_s,w:ws,W:xs,x:null,X:null,y:Ms,Y:As,Z:ks,"%":Ws},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Ss,e:Ss,f:Ds,H:Ts,I:Cs,j:Es,L:js,m:Os,M:Rs,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Hs,s:Ys,S:Ls,u:zs,U:Fs,V:Ps,w:Ns,W:Us,x:null,X:null,y:Is,Y:Bs,Z:qs,"%":Ws},w={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:Jc,e:Jc,f:os,H:ns,I:ns,j:ts,L:is,m:Kc,M:es,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1},q:Qc,Q:us,s:fs,S:rs,u:Hc,U:Yc,V:Vc,w:Wc,W:$c,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:Xc,Y:Gc,Z:Zc,"%":as};function x(t,n){return function(e){var r,i,o,a=[],u=-1,f=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(f,u)),null!=(i=zc[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),f=u+1);return a.push(t.slice(f,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Rc(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!n||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Oc(Rc(o.y,0,1))).getUTCDay(),r=i>4||0===i?wc.ceil(r):wc(r),r=Cc.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Dc(Rc(o.y,0,1))).getDay(),r=i>4||0===i?uc.ceil(r):uc(r),r=pc.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Oc(Rc(o.y,0,1)).getUTCDay():Dc(Rc(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Oc(o)):Dc(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,f=e.length;a<u;){if(r>=f)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=w[i in zc?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return(b.x=x(e,b),b.X=x(r,b),b.c=x(n,b),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),{format:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}})}(t),Lc.format,Lc.parse,Lc.utcFormat,Lc.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vs=nc((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),$s=(Vs.range,nc((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),Gs=($s.range,nc((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})));Gs.range;var Xs=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},Zs=Xs("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Qs=function(t){return aa(t[t.length-1])},Ks=Qs(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Xs)),Js=Qs(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Xs));function tl(){this._=null}function nl(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function el(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function rl(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function il(t){for(;t.L;)t=t.L;return t}tl.prototype={constructor:tl,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=il(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(el(this,e),e=(t=e).U),e.C=!1,r.C=!0,rl(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(rl(this,e),e=(t=e).U),e.C=!1,r.C=!0,el(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?il(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,el(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,rl(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,el(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,rl(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,el(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,rl(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ol=tl;function al(t,n,e,r){var i=[null,null],o=jl.push(i)-1;return i.left=t,i.right=n,e&&fl(i,t,n,e),r&&fl(i,n,t,r),Cl[t.index].halfedges.push(o),Cl[n.index].halfedges.push(o),i}function ul(t,n,e){var r=[n,e];return r.left=t,r}function fl(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function cl(t,n,e,r,i){var o,a=t[0],u=t[1],f=a[0],c=a[1],s=0,l=1,h=u[0]-f,d=u[1]-c;if(o=n-f,h||!(o>0)){if(o/=h,h<0){if(o<s)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>s&&(s=o)}if(o=r-f,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>s&&(s=o)}else if(h>0){if(o<s)return;o<l&&(l=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<s)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>s&&(s=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>s&&(s=o)}else if(d>0){if(o<s)return;o<l&&(l=o)}return!(s>0||l<1)||(s>0&&(t[0]=[f+s*h,c+s*d]),l<1&&(t[1]=[f+l*h,c+l*d]),!0)}}}}}function sl(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,f=t[0],c=t.left,s=t.right,l=c[0],h=c[1],d=s[0],p=s[1],v=(l+d)/2,m=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(l>d){if(f){if(f[1]>=i)return}else f=[v,e];o=[v,i]}else{if(f){if(f[1]<e)return}else f=[v,i];o=[v,e]}}else if(u=m-(a=(l-d)/(p-h))*v,a<-1||a>1)if(l>d){if(f){if(f[1]>=i)return}else f=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(f){if(f[1]<e)return}else f=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(f){if(f[0]>=r)return}else f=[n,a*n+u];o=[r,a*r+u]}else{if(f){if(f[0]<n)return}else f=[r,a*r+u];o=[n,a*n+u]}return t[0]=f,t[1]=o,!0}function ll(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function hl(t,n){return n[+(n.left!==t.site)]}function dl(t,n){return n[+(n.left===t.site)]}var pl,vl=[];function ml(){nl(this),this.x=this.y=this.arc=this.site=this.cy=null}function gl(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],f=r[0]-a,c=r[1]-u,s=o[0]-a,l=o[1]-u,h=2*(f*l-c*s);if(!(h>=-Ol)){var d=f*f+c*c,p=s*s+l*l,v=(l*d-c*p)/h,m=(f*p-s*d)/h,g=vl.pop()||new ml;g.arc=t,g.site=i,g.x=v+a,g.y=(g.cy=m+u)+Math.sqrt(v*v+m*m),t.circle=g;for(var y=null,b=El._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}El.insert(y,g),y||(pl=g)}}}}function yl(t){var n=t.circle;n&&(n.P||(pl=n.N),El.remove(n),vl.push(n),nl(n),t.circle=null)}var bl=[];function _l(){nl(this),this.edge=this.site=this.circle=null}function wl(t){var n=bl.pop()||new _l;return n.site=t,n}function xl(t){yl(t),Tl.remove(t),bl.push(t),nl(t)}function Ml(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];xl(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<Dl&&Math.abs(r-f.circle.cy)<Dl;)o=f.P,u.unshift(f),xl(f),f=o;u.unshift(f),yl(f);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<Dl&&Math.abs(r-c.circle.cy)<Dl;)a=c.N,u.push(c),xl(c),c=a;u.push(c),yl(c);var s,l=u.length;for(s=1;s<l;++s)c=u[s],f=u[s-1],fl(c.edge,f.site,c.site,i);f=u[0],(c=u[l-1]).edge=al(f.site,c.site,null,i),gl(f),gl(c)}function Al(t){for(var n,e,r,i,o=t[0],a=t[1],u=Tl._;u;)if((r=kl(u,a)-o)>Dl)u=u.L;else{if(!((i=o-Sl(u,a))>Dl)){r>-Dl?(n=u.P,e=u):i>-Dl?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Cl[t.index]={site:t,halfedges:[]}}(t);var f=wl(t);if(Tl.insert(n,f),n||e){if(n===e)return yl(n),e=wl(n.site),Tl.insert(f,e),f.edge=e.edge=al(n.site,f.site),gl(n),void gl(e);if(e){yl(n),yl(e);var c=n.site,s=c[0],l=c[1],h=t[0]-s,d=t[1]-l,p=e.site,v=p[0]-s,m=p[1]-l,g=2*(h*m-d*v),y=h*h+d*d,b=v*v+m*m,_=[(m*y-d*b)/g+s,(h*b-v*y)/g+l];fl(e.edge,c,p,_),f.edge=al(c,t,null,_),e.edge=al(t,p,null,_),gl(n),gl(e)}else f.edge=al(n.site,f.site)}}function kl(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],f=e[1],c=f-n;if(!c)return u;var s=u-r,l=1/o-1/c,h=s/c;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*c)-f+c/2+i-o/2)))/l+r:(r+u)/2}function Sl(t,n){var e=t.N;if(e)return kl(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Tl,Cl,El,jl,Dl=1e-6,Ol=1e-12;function Rl(t,n){return n[1]-t[1]||n[0]-t[0]}function Ll(t,n){var e,r,i,o=t.sort(Rl).pop();for(jl=[],Cl=new Array(t.length),Tl=new ol,El=new ol;;)if(i=pl,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Al(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Ml(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Cl.length;i<o;++i)if((t=Cl[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=ll(t,jl[n[e]]);for(a.sort((function(t,n){return u[n]-u[t]})),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],f=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=jl.length;o--;)sl(i=jl[o],t,n,e,r)&&cl(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Dl||Math.abs(i[0][1]-i[1][1])>Dl)||delete jl[o]}(a,u,f,c),function(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p,v,m=Cl.length,g=!0;for(i=0;i<m;++i)if(o=Cl[i]){for(a=o.site,u=(f=o.halfedges).length;u--;)jl[f[u]]||f.splice(u,1);for(u=0,c=f.length;u<c;)p=(d=dl(o,jl[f[u]]))[0],v=d[1],l=(s=hl(o,jl[f[++u%c]]))[0],h=s[1],(Math.abs(p-l)>Dl||Math.abs(v-h)>Dl)&&(f.splice(u,0,jl.push(ul(a,d,Math.abs(p-t)<Dl&&r-v>Dl?[t,Math.abs(l-t)<Dl?h:r]:Math.abs(v-r)<Dl&&e-p>Dl?[Math.abs(h-r)<Dl?l:e,r]:Math.abs(p-e)<Dl&&v-n>Dl?[e,Math.abs(l-e)<Dl?h:n]:Math.abs(v-n)<Dl&&p-t>Dl?[Math.abs(h-n)<Dl?l:t,n]:null))-1),++c);c&&(g=!1)}if(g){var y,b,_,w=1/0;for(i=0,g=null;i<m;++i)(o=Cl[i])&&(_=(y=(a=o.site)[0]-t)*y+(b=a[1]-n)*b)<w&&(w=_,g=o);if(g){var x=[t,n],M=[t,r],A=[e,r],k=[e,n];g.halfedges.push(jl.push(ul(a=g.site,x,M))-1,jl.push(ul(a,M,A))-1,jl.push(ul(a,A,k))-1,jl.push(ul(a,k,x))-1)}}for(i=0;i<m;++i)(o=Cl[i])&&(o.halfedges.length||delete Cl[i])}(a,u,f,c)}this.edges=jl,this.cells=Cl,Tl=El=jl=Cl=null}Ll.prototype={constructor:Ll,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return hl(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u,f,c,s=e.site,l=-1,h=n[i[o-1]],d=h.left===s?h.right:h.left;++l<o;)a=d,d=(h=n[i[l]]).left===s?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(f=a,c=d,((u=s)[0]-c[0])*(f[1]-u[1])-(u[0]-f[0])*(c[1]-u[1])<0)&&t.push([s.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var f=t-i.site[0],c=n-i.site[1],s=f*f+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var f=t-u[0],c=n-u[1],l=f*f+c*c;l<s&&(s=l,a=u.index)}}))}while(null!==a);return o._found=r,null==e||s<=e*e?i.site:null}};Math.SQRT2;function zl(t,n,e){this.k=t,this.x=n,this.y=e}zl.prototype={constructor:zl,scale:function(t){return 1===t?this:new zl(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new zl(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new zl(1,0,0);zl.prototype;var Fl=function(t){return t/3e3},Pl=function(t){var n;n=t.data?t.data.nodes.map((function(t,n){return[Fl(t.x),Fl(t.y),t.uuid||t.id]})):new Array(t.attributes.position.length/2|0).fill(1).map((function(n,e){var r=[];return r[0]=t.attributes.position[2*e],r[1]=t.attributes.position[2*e+1],r[2]=e,r})),window.pointList=n,t.pointList=n;var e=t.data;if(!e)return t.attributes;var r={};t.data.nodes.forEach((function(t){return r[t.uuid||t.id]=t}));var i=function(t){return r[t]},o=(e.nodes.map((function(t){return[Math.random()]})),_.flatten(e.nodes.map((function(t){return[Fl(t.x),Fl(t.y),t.size]})))),a=(kf(Zs),_.flatten(e.nodes.map((function(t){var n=Ho(Js(+t.attributes?t.attributes.SentimentVal:Math.random()));return[n.r/255,n.g/255,n.b/255]})))),u={};e.edges.forEach((function(t){u[t.target]=u[t.target]}));var f=new Array(4*e.edges.length).fill(0);e.edges.forEach((function(t,n){var e=i(t.source),r=i(t.target);f[4*n]=Fl(e.x),f[4*n+1]=Fl(e.y),f[4*n+2]=Fl(r.x),f[4*n+3]=Fl(r.y)}));var c=new Array(3*e.edges.length).fill(0);e.kmeans?Object.entries(e.kmeans).map((function(t){var n=t[1],e=n.color;n.nodes.forEach((function(t){return i(t).color=e}))})):e.edges.forEach((function(t,n){var r=Ho(e.nodes[t.target].color);c[4*n+1]=r.r/255,c[4*n+2]=r.g/255,c[4*n+3]=r.b/255}));e.nodes.map((function(t,n){return(t.attributes||{}).date}));var s=_.flatten(e.nodes.map((function(t){var n=Io(t.color||"pink");return[n.r/255,n.g/255,n.b/255]}))),l=Object.entries(e.kmeans||{}).map((function(t){return t[1].color})),h=_.flatten(e.nodes.map((function(t){var n=t.color;return l.indexOf(n)}))),d=s.map((function(t,n){return n/s.length}));return{position:o,counts:u,edges:f,edgeColors:c,color:s,fboColor:d,sentimentValue:a,stateIndex:h}},Nl=(Float32Array.BYTES_PER_ELEMENT,["OES_standard_derivatives","OES_texture_float"]),Ul=window.innerWidth,Il=window.innerHeight,Bl=[0,0,0,1],ql=[0,0],Wl=new Float32Array([.08111818879842758,0,0,0,0,.08111818879842758,0,0,0,0,1,0,.34380045533180237,-.2859039008617401,0,1]),Hl=[1,1,1,.5],Yl=e(39),Vl=e.n(Yl);function $l(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Gl=function(t,n){return t>n?t:n},Xl=function(t){var n=t.getContext("webgl"),e=[];return Nl.forEach((function(t){n.getExtension(t)?e.push(t):console.warn("WebGL: ".concat(t," extension not supported. Scatterplot might not render properly"))})),Vl()({gl:n,extensions:e})},Zl=function(t,n,e,r){return Math.sqrt(Math.pow(t-e,2)+Math.pow(n-r,2))},Ql=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,n,e,r){return"#".concat(n).concat(n).concat(e).concat(e).concat(r).concat(r)})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)/Math.pow(255,n)}))},Kl=function(t){return t>=0&&t<=1},Jl=function(t){return Array.isArray(t)&&t.every(Kl)},th=function(t){return Number.isInteger(t)&&t>=0&&t<=255},nh=function(t){return Array.isArray(t)&&t.every(th)},eh=function(t){return t.map((function(n){return n/t.reduce(Gl,-1/0)}))},rh=function(t,n){return function(t){return 4===t.length&&(Jl(t)||nh(t))}(t)?n&&!Jl(t)?eh(t):t:3===(e=t).length&&(Jl(e)||nh(e))?[].concat($l(n?eh(t):t),[Math.pow(255,!n)]):function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}(t)?function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[].concat($l(Ql(t,n)),[Math.pow(255,!n)])}(t,n):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),n?[1,1,1,1]:[255,255,255,255]);var e};function ih(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oh(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ah=[.1411764705882353,.15294117647058825,.18823529411764706,1],uh="\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\nuniform vec2 selection;\n\nvarying vec4 vColor;\n\nvoid main() {\n  const vec3 bgColor= vec3(\n    0.1411764705882353,\n  0.15294117647058825,\n  0.18823529411764706\n  );\n  float r = 0.0, delta = 0.0, alpha = 1.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n\n  #ifdef GL_OES_standard_derivatives\n    delta = fwidth(r);\n    alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n  #endif\n\n  vec3 color =   (r < 0.75) ? vColor.rgb : bgColor;\n  gl_FragColor = vec4(color, alpha * vColor.a);\n}\n",fh="\nprecision mediump float;\nuniform float pointSize;\nuniform float pointSizeExtra;\nuniform float numNodes;\nuniform float scaling;\nuniform float sizeAttenuation;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute vec3 pos;\nattribute vec3 color;\nattribute float stateIndex;\n\nuniform float selectedCluster;\n\nuniform bool flatSize;\n\n// variables to send to the fragment shader\nvarying vec4 vColor;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(pos.xy, 0.0, 1.0);\n\n  vColor = vec4(color, 1.);\n\n  float finalScaling = pow(sizeAttenuation, scaling);\n  finalScaling = 4. + pow(pointSize, sizeAttenuation);\n\n  if (selectedCluster > -.1 && selectedCluster != stateIndex) finalScaling = 0.;\n\n  gl_PointSize = finalScaling + pointSizeExtra;\n\n}\n",ch=function(){},sh=function(t){var n={sizeAttenuation:.1,scaling:.4,numNodes:1,showLines:!0,showNodes:!0,flatSize:!0,selectedCluster:-1},e=t.regl,r=Bl,i=t.canvas,o=Hl,f=Ul,c=Il,s=ql,l=Wl,h=(t.createDrawNodes,t.onHover||ch),d=t.onClick||ch,p=t.attributes,v=new Float32Array(16),m=[0,0];window.getMousePosition=function(){return m};var g=[];!function(t){!!t&&Nl.reduce((function(n,e){return t.hasExtension(e)?n:(console.warn("WebGL: ".concat(e," extension not supported. Scatterplot might not render properly")),!1)}),!0)}(e);rh(r,!0);var y,b,_,w,x,M,A=i,k=f,S=c,T=e||Xl(i),C=!1,E=[0,0],j=0,D=rh(o,!0),O=!1,R=function(t){return t/k*2-1},L=function(){var t,n=oh([R(m[0]),(t=m[1],1+t/S*-2)],2),e=[n[0],n[1],1,1],r=a.invert(v,a.multiply(v,w,a.multiply(v,y.view,x)));return u.transformMat4(e,e,r),e.slice(0,2)},z=function(){var t,n,e,r=oh(L(),2),i=r[0],o=r[1],a=200*(((t=1)<(n=1)?t:n)+Math.log2(function(t,n){return t>n?t:n}(1,1)))*window.devicePixelRatio,u=a/k,f=a/S,c=b.range(i-u,o-f,i+u,o+f),s=a;return c.forEach((function(t){var n=oh(b.points[t],2),r=n[0],a=n[1],u=Zl(r,a,i,o);u<s&&(s=u,e=t)})),e},F=function(){},P=function(t){"string"==typeof t?[g.findIndex((function(n){return n[2]===t}))]:t,it()},N=function(t){var n=A.getBoundingClientRect();return m[0]=t.clientX-n.left,m[1]=t.clientY-n.top,[].concat(m)},U=function(t){O&&(C=!0,E=N(t),t.shiftKey)},I=function(){O&&(C=!1)},B=function(t){if(O){var n=N(t),e=(Zl.apply(void 0,ih(n).concat(ih(E))),z());e>=0&&P([e]),e>=0&&d(g[e])}},q=function(t){if(O){N(t);var n=z();ut(n),C&&it()}},W=function(){_=k/S,w=a.fromScaling([],[1/_,1,1]),x=a.fromScaling([],[1,1,1])},H=function(t){!+t||+t<=0||(S=+t,A.height=S*window.devicePixelRatio)},Y=function(t){!+t||+t<=0||(k=+t,A.width=k*window.devicePixelRatio)},V=function(){return 30*window.devicePixelRatio},$=function(){return w},G=function(){return y.view},X=function(){return x},Z=function(){return n.scaling},Q=function(){return j*n.numNodes|0},K="cluster";window.onStyleChange=function(t){console.log("onStyleChange",K),K=t,it()};var J=Vr(t.regl,p,X,$,G),tt=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return"cluster"==K?p.color:p.sentimentValue};return T({frag:uh,vert:fh,blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{pos:{buffer:t,size:3},color:{buffer:i,size:3},stateIndex:{buffer:function(){return p.stateIndex},size:1}},uniforms:{projection:$,selectedCluster:function(){return t.length<1?n.selectedCluster:-100},model:X,view:G,scaling:Z,pointSize:V,pointSizeExtra:e,sizeAttenuation:function(){return n.sizeAttenuation},flatSize:function(){return n.flatSize}},count:r,primitive:"points"})},nt=T({frag:uh,vert:fh,blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{pos:{buffer:function(){return p.position},size:3},color:{buffer:function(){return p.color},size:3},stateIndex:{buffer:function(){return p.stateIndex},size:1}},uniforms:{projection:$,time:function(){return Date.now()/1e3},selectedCluster:function(){return p.position.length<1?n.selectedCluster:-100},model:X,view:G,scaling:Z,pointSize:V,pointSizeExtra:function(){return 0},sizeAttenuation:function(){return n.sizeAttenuation},flatSize:function(){return n.flatSize}},count:Q,primitive:"points"});tt((function(){return p.position}),(function(){return 20}),Q,(function(){return Or.a.flatten(t.data.nodes.map((function(){return[36,39,48].map((function(t){return t/255}))})))})),T({frag:"\nprecision mediump float;\n\nuniform sampler2D texture;\n\nvarying vec2 uv;\n\nvoid main () {\n  gl_FragColor = texture2D(texture, uv);\n}\n",vert:"\nprecision mediump float;\n\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\nvoid main () {\n  uv = position;\n  gl_Position = projection * view * model *  vec4(1.0 - 2.0 * position, 0, 1);\n}\n",attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{projection:$,model:X,view:G,texture:function(){return null}},count:6});window.tooltip=function(t,n){var e=[t,n,0,1];a.multiply(v,w,a.multiply(v,y.view,x)),u.transformMat4(e,e,v),console.log(e)};var et=function(t){console.log("hee",t),O=!1,g=t,j=t.length/2,b=new Xn(t,(function(t){return t[0]}),(function(t){return t[1]}),16),O=!0},rt=function(){O&&(T.clear({color:ah,depth:1}),y.tick(),n.showLines&&J(),n.showNodes&&nt())},it=Zn(rt),ot=function(t){return function(){var n=t.apply(void 0,arguments);return it(),n}},at=function(){T.poll(),y.refresh()},ut=function(t){var n=!1;if(t>=0){n=!0;M=t,h(t)}n&&it(null)},ft=function(){l?y.set(a.clone(l)):y.lookAt(ih(s),100000.5,0)},ct=function(){!0},st=function(){ut(),!1,it()},lt=function(){it()};W(),y=qn(A),l?y.set(a.clone(l)):y.lookAt(ih(s),100000.5,0),Yr(T,{color:D,width:1,is2d:!0}),Yr(T,{color:D,width:1,is2d:!0}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.height,e=void 0===n?null:n,r=t.width,i=void 0===r?null:r;H(e),Y(i),W(),y.refresh(),at(),it()}({width:k,height:S}),window.addEventListener("mousedown",U,!1),window.addEventListener("mouseup",I,!1),window.addEventListener("mousemove",q,!1),A.addEventListener("mouseenter",ct,!1),A.addEventListener("mouseleave",st,!1),A.addEventListener("click",B,!1),A.addEventListener("wheel",lt),et(t.pointList);return{setState:function(t){t.attributes=Pl(t),t.attributes.stateIndex=Or.a.range(138839),Or.a.each(t.attributes,(function(t,n){p[n]=t})),et(t.pointList),M=0,it()},deselect:F,destroy:function(){A=void 0,y=void 0,T=void 0},draw:it,repaint:function(){ot(ft)()},hoverPoint:function(t){console.log("uid",t,g.findIndex((function(n){return n[2]===t}))),M=g.findIndex((function(n){return n[2]===t})),console.log(M),rt()},refresh:at,reset:ot(ft),select:P,selectCluster:function(t){n.selectedCluster===t?n.selectedCluster=-t:n.selectedCluster=t,it()},update:function(t){it(),Or.a.each(t,(function(t,e){n[e]=t}))}}},lh=function(t){return t.attributes=Pl(t),t.attributes.stateIndex=Or.a.range(138839),window.props=t,t.regl=Xl(t.canvas),sh(t)};function hh(t,n,e,r,i,o,a){try{var u=t[o](a),f=u.value}catch(t){return void e(t)}u.done?n(f):Promise.resolve(f).then(r,i)}var dh=["thecut.json","mobile-banking.json","d.tsv"],ph=document.createElement("canvas"),vh=function t(){var n=Ff(Ef,Ef);return n.copy=function(){return Lf(n,t())},_f.apply(n,arguments),Kf(n)}().domain([-.15,0,.15]).range([Ks(0),Ks(.5),Ks(1)]).clamp(!0),mh=function(t){var n=Ho(vh(t));return[n.r/255,n.g/255,n.b/255]},gh=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e=[],window.color=e,t.next=5,uf("./data/d.tsv",Hu);case 5:t.sent.forEach((function(t){n.push(t.x/10,t.y/10,0),e.push.apply(e,mh(t.sentiment))})),yh?yh.setState({attributes:{position:n,color:e}}):yh=lh({attributes:{position:n,color:e},canvas:ph});case 8:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){hh(o,r,i,a,u,"next",t)}function u(t){hh(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();Mo("#size").on("change",(function(){console.log(co.target.value/100),yh.update({sizeAttenuation:co.target.value/100})})),Mo("#nodes").on("change",(function(){yh.update({showNodes:co.target.checked})})),Mo("#lines").on("change",(function(){yh.update({showLines:co.target.checked})}));var yh,bh=function(t){t.includes(".tsv")&&gh(window.location.tsv),fetch(t).then((function(t){return t.json()})).then((function(t){console.log(t),yh?yh.setState({data:t}):yh=lh({data:t,canvas:ph})}))};Mo(window).on("load",(function(){document.body.appendChild(ph);var t=Mo("body").style("overflow","hidden").append("div").attr("class","sidebar");ph.height=innerHeight,ph.width=innerWidth,console.log("hi",t.node()),t.selectAll("a").data(dh).enter().append("div").append("a").text((function(t){return t})).attr("href",(function(t){return"./data/".concat(t)})).on("click",(function(t){co.target.href.includes("tsv")?gh():bh(co.target.href),window.location.hash=t,co.preventDefault()})),bh("./data/".concat(window.location.hash.slice(1))),document.title="what"}))}});